<?xml version="1.0" encoding="UTF-8" ?>
<Module>
    <ModulePrefs title="post">
    </ModulePrefs>
    <Content type="html"><![CDATA[
      <!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + Svelte + TS</title>
    <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}})();const sc=!1;var I_=Array.isArray,qx=Array.prototype.indexOf,Yx=Array.from,Kx=Object.defineProperty,Kn=Object.getOwnPropertyDescriptor,E_=Object.getOwnPropertyDescriptors,$x=Object.prototype,zx=Array.prototype,au=Object.getPrototypeOf;function Qx(t){return typeof(t==null?void 0:t.then)=="function"}function Xx(t){return t()}function oc(t){for(var e=0;e<t.length;e++)t[e]()}const bt=2,R_=4,Ur=8,cu=16,$t=32,as=64,pr=128,gn=256,fr=512,Je=1024,fi=2048,cs=4096,ts=8192,us=16384,Zx=32768,uu=65536,Jx=1<<17,P_=1<<19,A_=1<<20,$n=Symbol("$state"),e0=Symbol("legacy props"),t0=Symbol("");function M_(t){return t===this.v}function i0(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function lu(t){return!i0(t,this.v)}function n0(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function s0(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function o0(t){throw new Error("https://svelte.dev/e/effect_orphan")}function r0(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function a0(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function c0(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function u0(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function l0(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function h0(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let po=!1,d0=!1;function p0(){po=!0}const f0=1,m0=2,_0=8,b0=1,y0=2,Me=Symbol();function pt(t,e){var i={f:0,v:t,reactions:null,equals:M_,rv:0,wv:0};return i}function rc(t,e=!1){var n;const i=pt(t);return e||(i.equals=lu),po&&ue!==null&&ue.l!==null&&((n=ue.l).s??(n.s=[])).push(i),i}function ri(t,e){return ce!==null&&mo()&&ce.f&(bt|cu)&&(cn===null||!cn.includes(t))&&h0(),qo(t,e)}function qo(t,e){return t.equals(e)||(t.v,t.v=e,t.wv=Z_(),N_(t,fi),mo()&&oe!==null&&oe.f&Je&&!(oe.f&($t|as))&&(ai===null?A0([t]):ai.push(t))),e}function N_(t,e){var i=t.reactions;if(i!==null)for(var n=mo(),s=i.length,o=0;o<s;o++){var r=i[o],c=r.f;c&fi||!n&&r===oe||(qt(r,e),c&(Je|gn)&&(c&bt?N_(r,cs):Hr(r)))}}function Sn(t,e=null,i){if(typeof t!="object"||t===null||$n in t)return t;const n=au(t);if(n!==$x&&n!==zx)return t;var s=new Map,o=I_(t),r=pt(0);o&&s.set("length",pt(t.length));var c;return new Proxy(t,{defineProperty(h,d,p){(!("value"in p)||p.configurable===!1||p.enumerable===!1||p.writable===!1)&&c0();var _=s.get(d);return _===void 0?(_=pt(p.value),s.set(d,_)):ri(_,Sn(p.value,c)),!0},deleteProperty(h,d){var p=s.get(d);if(p===void 0)d in h&&s.set(d,pt(Me));else{if(o&&typeof d=="string"){var _=s.get("length"),b=Number(d);Number.isInteger(b)&&b<_.v&&ri(_,b)}ri(p,Me),Qp(r)}return!0},get(h,d,p){var v;if(d===$n)return t;var _=s.get(d),b=d in h;if(_===void 0&&(!b||(v=Kn(h,d))!=null&&v.writable)&&(_=pt(Sn(b?h[d]:Me,c)),s.set(d,_)),_!==void 0){var w=We(_);return w===Me?void 0:w}return Reflect.get(h,d,p)},getOwnPropertyDescriptor(h,d){var p=Reflect.getOwnPropertyDescriptor(h,d);if(p&&"value"in p){var _=s.get(d);_&&(p.value=We(_))}else if(p===void 0){var b=s.get(d),w=b==null?void 0:b.v;if(b!==void 0&&w!==Me)return{enumerable:!0,configurable:!0,value:w,writable:!0}}return p},has(h,d){var w;if(d===$n)return!0;var p=s.get(d),_=p!==void 0&&p.v!==Me||Reflect.has(h,d);if(p!==void 0||oe!==null&&(!_||(w=Kn(h,d))!=null&&w.writable)){p===void 0&&(p=pt(_?Sn(h[d],c):Me),s.set(d,p));var b=We(p);if(b===Me)return!1}return _},set(h,d,p,_){var N;var b=s.get(d),w=d in h;if(o&&d==="length")for(var v=p;v<b.v;v+=1){var S=s.get(v+"");S!==void 0?ri(S,Me):v in h&&(S=pt(Me),s.set(v+"",S))}b===void 0?(!w||(N=Kn(h,d))!=null&&N.writable)&&(b=pt(void 0),ri(b,Sn(p,c)),s.set(d,b)):(w=b.v!==Me,ri(b,Sn(p,c)));var R=Reflect.getOwnPropertyDescriptor(h,d);if(R!=null&&R.set&&R.set.call(_,p),!w){if(o&&typeof d=="string"){var I=s.get("length"),O=Number(d);Number.isInteger(O)&&O>=I.v&&ri(I,O+1)}Qp(r)}return!0},ownKeys(h){We(r);var d=Reflect.ownKeys(h).filter(b=>{var w=s.get(b);return w===void 0||w.v!==Me});for(var[p,_]of s)_.v!==Me&&!(p in h)&&d.push(p);return d},setPrototypeOf(){u0()}})}function Qp(t,e=1){ri(t,t.v+e)}var Xp,D_,O_,L_;function g0(){if(Xp===void 0){Xp=window,D_=document;var t=Element.prototype,e=Node.prototype;O_=Kn(e,"firstChild").get,L_=Kn(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function B_(t=""){return document.createTextNode(t)}function mr(t){return O_.call(t)}function hu(t){return L_.call(t)}function Bo(t,e){return mr(t)}function Ga(t,e){{var i=mr(t);return i instanceof Comment&&i.data===""?hu(i):i}}function Vo(t,e=1,i=!1){let n=t;for(;e--;)n=hu(n);return n}function _r(t){var e=bt|fi;oe===null?e|=gn:oe.f|=A_;var i=ce!==null&&ce.f&bt?ce:null;const n={children:null,ctx:ue,deps:null,equals:M_,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:i??oe};return i!==null&&(i.children??(i.children=[])).push(n),n}function w0(t){const e=_r(t);return e.equals=lu,e}function V_(t){var e=t.children;if(e!==null){t.children=null;for(var i=0;i<e.length;i+=1){var n=e[i];n.f&bt?du(n):fn(n)}}}function v0(t){for(var e=t.parent;e!==null;){if(!(e.f&bt))return e;e=e.parent}return null}function U_(t){var e,i=oe;Gt(v0(t));try{V_(t),e=eb(t)}finally{Gt(i)}return e}function F_(t){var e=U_(t),i=(sn||t.f&gn)&&t.deps!==null?cs:Je;qt(t,i),t.equals(e)||(t.v=e,t.wv=Z_())}function du(t){V_(t),eo(t,0),qt(t,us),t.v=t.children=t.deps=t.ctx=t.reactions=null}function W_(t){oe===null&&ce===null&&o0(),ce!==null&&ce.f&gn&&s0(),pu&&n0()}function x0(t,e){var i=e.last;i===null?e.last=e.first=t:(i.next=t,t.prev=i,e.last=t)}function fo(t,e,i,n=!0){var s=(t&as)!==0,o=oe,r={ctx:ue,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|fi,first:null,fn:e,last:null,next:null,parent:s?null:o,prev:null,teardown:null,transitions:null,wv:0};if(i){var c=Xn;try{ef(!0),fu(r),r.f|=Zx}catch(p){throw fn(r),p}finally{ef(c)}}else e!==null&&Hr(r);var h=i&&r.deps===null&&r.first===null&&r.nodes_start===null&&r.teardown===null&&(r.f&(A_|pr))===0;if(!h&&!s&&n&&(o!==null&&x0(r,o),ce!==null&&ce.f&bt)){var d=ce;(d.children??(d.children=[])).push(r)}return r}function Zp(t){W_();var e=oe!==null&&(oe.f&$t)!==0&&ue!==null&&!ue.m;if(e){var i=ue;(i.e??(i.e=[])).push({fn:t,effect:oe,reaction:ce})}else{var n=H_(t);return n}}function k0(t){return W_(),T0(t)}function S0(t){const e=fo(as,t,!0);return(i={})=>new Promise(n=>{i.outro?Qn(e,()=>{fn(e),n(void 0)}):(fn(e),n(void 0))})}function H_(t){return fo(R_,t,!1)}function T0(t){return fo(Ur,t,!0)}function Jp(t){return Fr(t)}function Fr(t,e=0){return fo(Ur|cu|e,t,!0)}function zn(t,e=!0){return fo(Ur|$t,t,!0,e)}function j_(t){var e=t.teardown;if(e!==null){const i=pu,n=ce;tf(!0),Ai(null);try{e.call(null)}finally{tf(i),Ai(n)}}}function G_(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var i=0;i<e.length;i+=1)du(e[i])}}function q_(t,e=!1){var i=t.first;for(t.first=t.last=null;i!==null;){var n=i.next;fn(i,e),i=n}}function C0(t){for(var e=t.first;e!==null;){var i=e.next;e.f&$t||fn(e),e=i}}function fn(t,e=!0){var i=!1;if((e||t.f&P_)&&t.nodes_start!==null){for(var n=t.nodes_start,s=t.nodes_end;n!==null;){var o=n===s?null:hu(n);n.remove(),n=o}i=!0}q_(t,e&&!i),G_(t),eo(t,0),qt(t,us);var r=t.transitions;if(r!==null)for(const h of r)h.stop();j_(t);var c=t.parent;c!==null&&c.first!==null&&Y_(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Y_(t){var e=t.parent,i=t.prev,n=t.next;i!==null&&(i.next=n),n!==null&&(n.prev=i),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=i))}function Qn(t,e){var i=[];K_(t,i,!0),I0(i,()=>{fn(t),e&&e()})}function I0(t,e){var i=t.length;if(i>0){var n=()=>--i||e();for(var s of t)s.out(n)}else e()}function K_(t,e,i){if(!(t.f&ts)){if(t.f^=ts,t.transitions!==null)for(const r of t.transitions)(r.is_global||i)&&e.push(r);for(var n=t.first;n!==null;){var s=n.next,o=(n.f&uu)!==0||(n.f&$t)!==0;K_(n,e,o?i:!1),n=s}}}function Gs(t){$_(t,!0)}function $_(t,e){if(t.f&ts){t.f^=ts,t.f&Je||(t.f^=Je),_o(t)&&(qt(t,fi),Hr(t));for(var i=t.first;i!==null;){var n=i.next,s=(i.f&uu)!==0||(i.f&$t)!==0;$_(i,s?e:!1),i=n}if(t.transitions!==null)for(const o of t.transitions)(o.is_global||e)&&o.in()}}let br=!1,ac=[];function z_(){br=!1;const t=ac.slice();ac=[],oc(t)}function E0(t){br||(br=!0,queueMicrotask(z_)),ac.push(t)}function R0(){br&&z_()}const Q_=0,P0=1;let Yo=!1,Ko=Q_,Zs=!1,Js=null,Xn=!1,pu=!1;function ef(t){Xn=t}function tf(t){pu=t}let nn=[],Zn=0;let ce=null;function Ai(t){ce=t}let oe=null;function Gt(t){oe=t}let cn=null,Ze=null,st=0,ai=null;function A0(t){ai=t}let X_=1,yr=0,sn=!1,ue=null;function nf(t){ue=t}function Z_(){return++X_}function mo(){return!po||ue!==null&&ue.l===null}function _o(t){var d;var e=t.f;if(e&fi)return!0;if(e&cs){var i=t.deps,n=(e&gn)!==0;if(i!==null){var s,o,r=(e&fr)!==0,c=n&&oe!==null&&!sn,h=i.length;if(r||c){for(s=0;s<h;s++)o=i[s],(r||!((d=o==null?void 0:o.reactions)!=null&&d.includes(t)))&&(o.reactions??(o.reactions=[])).push(t);r&&(t.f^=fr)}for(s=0;s<h;s++)if(o=i[s],_o(o)&&F_(o),o.wv>t.wv)return!0}(!n||oe!==null&&!sn)&&qt(t,Je)}return!1}function M0(t,e){for(var i=e;i!==null;){if(i.f&pr)try{i.fn(t);return}catch{i.f^=pr}i=i.parent}throw Yo=!1,t}function N0(t){return(t.f&us)===0&&(t.parent===null||(t.parent.f&pr)===0)}function Wr(t,e,i,n){if(Yo){if(i===null&&(Yo=!1),N0(e))throw t;return}i!==null&&(Yo=!0);{M0(t,e);return}}function J_(t,e,i=0){var n=t.reactions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];o.f&bt?J_(o,e,i+1):e===o&&(i===0?qt(o,fi):o.f&Je&&qt(o,cs),Hr(o))}}function eb(t){var b;var e=Ze,i=st,n=ai,s=ce,o=sn,r=cn,c=ue,h=t.f;Ze=null,st=0,ai=null,ce=h&($t|as)?null:t,sn=!Xn&&(h&gn)!==0,cn=null,ue=t.ctx,yr++;try{var d=(0,t.fn)(),p=t.deps;if(Ze!==null){var _;if(eo(t,st),p!==null&&st>0)for(p.length=st+Ze.length,_=0;_<Ze.length;_++)p[st+_]=Ze[_];else t.deps=p=Ze;if(!sn)for(_=st;_<p.length;_++)((b=p[_]).reactions??(b.reactions=[])).push(t)}else p!==null&&st<p.length&&(eo(t,st),p.length=st);if(mo()&&ai!==null&&!(t.f&(bt|cs|fi)))for(_=0;_<ai.length;_++)J_(ai[_],t);return s!==null&&yr++,d}finally{Ze=e,st=i,ai=n,ce=s,sn=o,cn=r,ue=c}}function D0(t,e){let i=e.reactions;if(i!==null){var n=qx.call(i,t);if(n!==-1){var s=i.length-1;s===0?i=e.reactions=null:(i[n]=i[s],i.pop())}}i===null&&e.f&bt&&(Ze===null||!Ze.includes(e))&&(qt(e,cs),e.f&(gn|fr)||(e.f^=fr),eo(e,0))}function eo(t,e){var i=t.deps;if(i!==null)for(var n=e;n<i.length;n++)D0(t,i[n])}function fu(t){var e=t.f;if(!(e&us)){qt(t,Je);var i=oe,n=ue;oe=t;try{e&cu?C0(t):q_(t),G_(t),j_(t);var s=eb(t);t.teardown=typeof s=="function"?s:null,t.wv=X_;var o=t.deps,r;sc&&d0&&t.f&fi}catch(c){Wr(c,t,i,n||t.ctx)}finally{oe=i}}}function tb(){if(Zn>1e3){Zn=0;try{r0()}catch(t){if(Js!==null)Wr(t,Js,null);else throw t}}Zn++}function ib(t){var e=t.length;if(e!==0){tb();var i=Xn;Xn=!0;try{for(var n=0;n<e;n++){var s=t[n];s.f&Je||(s.f^=Je);var o=[];nb(s,o),O0(o)}}finally{Xn=i}}}function O0(t){var e=t.length;if(e!==0)for(var i=0;i<e;i++){var n=t[i];if(!(n.f&(us|ts)))try{_o(n)&&(fu(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Y_(n):n.fn=null))}catch(s){Wr(s,n,null,n.ctx)}}}function L0(){if(Zs=!1,Zn>1001)return;const t=nn;nn=[],ib(t),Zs||(Zn=0,Js=null)}function Hr(t){Ko===Q_&&(Zs||(Zs=!0,queueMicrotask(L0))),Js=t;for(var e=t;e.parent!==null;){e=e.parent;var i=e.f;if(i&(as|$t)){if(!(i&Je))return;e.f^=Je}}nn.push(e)}function nb(t,e){var i=t.first,n=[];e:for(;i!==null;){var s=i.f,o=(s&$t)!==0,r=o&&(s&Je)!==0,c=i.next;if(!r&&!(s&ts))if(s&Ur){if(o)i.f^=Je;else try{_o(i)&&fu(i)}catch(_){Wr(_,i,null,i.ctx)}var h=i.first;if(h!==null){i=h;continue}}else s&R_&&n.push(i);if(c===null){let _=i.parent;for(;_!==null;){if(t===_)break e;var d=_.next;if(d!==null){i=d;continue e}_=_.parent}}i=c}for(var p=0;p<n.length;p++)h=n[p],e.push(h),nb(h,e)}function sb(t){var e=Ko,i=nn;try{tb();const s=[];Ko=P0,nn=s,Zs=!1,ib(i);var n=t==null?void 0:t();return R0(),(nn.length>0||s.length>0)&&sb(),Zn=0,Js=null,n}finally{Ko=e,nn=i}}function We(t){var p;var e=t.f,i=(e&bt)!==0;if(i&&e&us){var n=U_(t);return du(t),n}if(ce!==null){cn!==null&&cn.includes(t)&&l0();var s=ce.deps;t.rv<yr&&(t.rv=yr,Ze===null&&s!==null&&s[st]===t?st++:Ze===null?Ze=[t]:Ze.push(t))}else if(i&&t.deps===null)for(var o=t,r=o.parent,c=o;r!==null;)if(r.f&bt){var h=r;c=h,r=h.parent}else{var d=r;(p=d.deriveds)!=null&&p.includes(c)||(d.deriveds??(d.deriveds=[])).push(c);break}return i&&(o=t,_o(o)&&F_(o)),t.v}function cc(t){const e=ce;try{return ce=null,t()}finally{ce=e}}const B0=-7169;function qt(t,e){t.f=t.f&B0|e}function ob(t,e=!1,i){ue={p:ue,c:null,e:null,m:!1,s:t,x:null,l:null},po&&!e&&(ue.l={s:null,u:null,r1:[],r2:pt(!1)})}function rb(t){const e=ue;if(e!==null){const r=e.e;if(r!==null){var i=oe,n=ce;e.e=null;try{for(var s=0;s<r.length;s++){var o=r[s];Gt(o.effect),Ai(o.reaction),H_(o.fn)}}finally{Gt(i),Ai(n)}}ue=e.p,e.m=!0}return{}}function V0(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if($n in t)uc(t);else if(!Array.isArray(t))for(let e in t){const i=t[e];typeof i=="object"&&i&&$n in i&&uc(i)}}}function uc(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{uc(t[n],e)}catch{}const i=au(t);if(i!==Object.prototype&&i!==Array.prototype&&i!==Map.prototype&&i!==Set.prototype&&i!==Date.prototype){const n=E_(i);for(let s in n){const o=n[s].get;if(o)try{o.call(t)}catch{}}}}}const U0=["touchstart","touchmove"];function F0(t){return U0.includes(t)}const W0=new Set,sf=new Set;function Uo(t){var O;var e=this,i=e.ownerDocument,n=t.type,s=((O=t.composedPath)==null?void 0:O.call(t))||[],o=s[0]||t.target,r=0,c=t.__root;if(c){var h=s.indexOf(c);if(h!==-1&&(e===document||e===window)){t.__root=e;return}var d=s.indexOf(e);if(d===-1)return;h<=d&&(r=h)}if(o=s[r]||t.target,o!==e){Kx(t,"currentTarget",{configurable:!0,get(){return o||i}});var p=ce,_=oe;Ai(null),Gt(null);try{for(var b,w=[];o!==null;){var v=o.assignedSlot||o.parentNode||o.host||null;try{var S=o["__"+n];if(S!==void 0&&!o.disabled)if(I_(S)){var[R,...I]=S;R.apply(o,[t,...I])}else S.call(o,t)}catch(N){b?w.push(N):b=N}if(t.cancelBubble||v===e||v===null)break;o=v}if(b){for(let N of w)queueMicrotask(()=>{throw N});throw b}}finally{t.__root=e,delete t.currentTarget,Ai(p),Gt(_)}}}function H0(t){var e;e=document.head.appendChild(B_());try{Fr(()=>t(e),P_)}finally{}}function j0(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function of(t,e){var i=oe;i.nodes_start===null&&(i.nodes_start=t,i.nodes_end=e)}function ls(t,e){var i=(e&b0)!==0,n=(e&y0)!==0,s,o=!t.startsWith("<!>");return()=>{s===void 0&&(s=j0(o?t:"<!>"+t),i||(s=mr(s)));var r=n?document.importNode(s,!0):s.cloneNode(!0);if(i){var c=mr(r),h=r.lastChild;of(c,h)}else of(r,r);return r}}function G0(t,e){var i=ls(t,e);return()=>q0(i())}function q0(t){const e=t.nodeType===11,i=t.tagName==="SCRIPT"?[t]:t.querySelectorAll("script"),n=oe;for(const o of i){const r=document.createElement("script");for(var s of o.attributes)r.setAttribute(s.name,s.value);r.textContent=o.textContent,(e?t.firstChild===o:t===o)&&(n.nodes_start=r),(e?t.lastChild===o:t===o)&&(n.nodes_end=r),o.replaceWith(r)}return t}function vn(t,e){t!==null&&t.before(e)}function rf(t,e){var i=e==null?"":typeof e=="object"?e+"":e;i!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=i,t.nodeValue=i==null?"":i+"")}function Y0(t,e){return K0(t,e)}const xn=new Map;function K0(t,{target:e,anchor:i,props:n={},events:s,context:o,intro:r=!0}){g0();var c=new Set,h=_=>{for(var b=0;b<_.length;b++){var w=_[b];if(!c.has(w)){c.add(w);var v=F0(w);e.addEventListener(w,Uo,{passive:v});var S=xn.get(w);S===void 0?(document.addEventListener(w,Uo,{passive:v}),xn.set(w,1)):xn.set(w,S+1)}}};h(Yx(W0)),sf.add(h);var d=void 0,p=S0(()=>{var _=i??e.appendChild(B_());return zn(()=>{if(o){ob({});var b=ue;b.c=o}s&&(n.$$events=s),d=t(_,n)||{},o&&rb()}),()=>{var v;for(var b of c){e.removeEventListener(b,Uo);var w=xn.get(b);--w===0?(document.removeEventListener(b,Uo),xn.delete(b)):xn.set(b,w)}sf.delete(h),_!==i&&((v=_.parentNode)==null||v.removeChild(_))}});return $0.set(d,p),d}let $0=new WeakMap;const qa=0,Fo=1,Ya=2;function z0(t,e,i,n,s){var o=t,r=mo(),c=ue,h=Me,d,p,_,b=(r?pt:rc)(void 0),w=(r?pt:rc)(void 0),v=!1;function S(I,O){v=!0,O&&(Gt(R),Ai(R),nf(c));try{I===qa&&i&&(d?Gs(d):d=zn(()=>i(o))),I===Fo&&n&&(p?Gs(p):p=zn(()=>n(o,b))),I===Ya&&s&&(_?Gs(_):_=zn(()=>s(o,w))),I!==qa&&d&&Qn(d,()=>d=null),I!==Fo&&p&&Qn(p,()=>p=null),I!==Ya&&_&&Qn(_,()=>_=null)}finally{O&&(nf(null),Ai(null),Gt(null),sb())}}var R=Fr(()=>{if(h!==(h=e())){if(Qx(h)){var I=h;v=!1,I.then(O=>{I===h&&(qo(b,O),S(Fo,!0))},O=>{if(I===h&&(qo(w,O),S(Ya,!0),!s))throw w.v}),E0(()=>{v||S(qa,!0)})}else qo(b,h),S(Fo,!1);return()=>h=Me}})}function Q0(t,e,i=!1){var n=t,s=null,o=null,r=Me,c=i?uu:0,h=!1;const d=(_,b=!0)=>{h=!0,p(b,_)},p=(_,b)=>{r!==(r=_)&&(r?(s?Gs(s):b&&(s=zn(()=>b(n))),o&&Qn(o,()=>{o=null})):(o?Gs(o):b&&(o=zn(()=>b(n))),s&&Qn(s,()=>{s=null})))};Fr(()=>{h=!1,e(d),h||p(null,null)},c)}function ys(t,e,i,n){var s=t.__attributes??(t.__attributes={});s[e]!==(s[e]=i)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[t0]=i),i==null?t.removeAttribute(e):typeof i!="string"&&X0(t).includes(e)?t[e]=i:t.setAttribute(e,i))}var af=new Map;function X0(t){var e=af.get(t.nodeName);if(e)return e;af.set(t.nodeName,e=[]);for(var i,n=t,s=Element.prototype;s!==n;){i=E_(n);for(var o in i)i[o].set&&e.push(o);n=au(n)}return e}function Z0(t=!1){const e=ue,i=e.l.u;if(!i)return;let n=()=>V0(e.s);if(t){let s=0,o={};const r=_r(()=>{let c=!1;const h=e.s;for(const d in h)h[d]!==o[d]&&(o[d]=h[d],c=!0);return c&&s++,s});n=()=>We(r)}i.b.length&&k0(()=>{cf(e,n),oc(i.b)}),Zp(()=>{const s=cc(()=>i.m.map(Xx));return()=>{for(const o of s)typeof o=="function"&&o()}}),i.a.length&&Zp(()=>{cf(e,n),oc(i.a)})}function cf(t,e){if(t.l.s)for(const i of t.l.s)We(i);e()}let Wo=!1;function J0(t){var e=Wo;try{return Wo=!1,[t(),Wo]}finally{Wo=e}}function uf(t){for(var e=oe,i=oe;e!==null&&!(e.f&($t|as));)e=e.parent;try{return Gt(e),t()}finally{Gt(i)}}function ek(t,e,i,n){var pe;var s=(i&f0)!==0,o=!po||(i&m0)!==0,r=(i&_0)!==0,c=!1,h;[h,c]=J0(()=>t[e]);var d=$n in t||e0 in t,p=(((pe=Kn(t,e))==null?void 0:pe.set)??(d&&e in t&&(D=>t[e]=D)))||void 0,_=n,b=!0,w=!1,v=()=>(w=!0,b&&(b=!1,_=cc(n)),_);h===void 0&&n!==void 0&&(p&&o&&a0(),h=v(),p&&p(h));var S;if(o)S=()=>{var D=t[e];return D===void 0?v():(b=!0,w=!1,D)};else{var R=uf(()=>(s?_r:w0)(()=>t[e]));R.f|=Jx,S=()=>{var D=We(R);return D!==void 0&&(_=void 0),D===void 0?_:D}}if(p){var I=t.$$legacy;return function(D,$){return arguments.length>0?((!o||!$||I||c)&&p($?S():D),D):S()}}var O=!1,N=!1,q=rc(h),Z=uf(()=>_r(()=>{var D=S(),$=We(q);return O?(O=!1,N=!0,$):(N=!1,q.v=D)}));return Z.equals=lu,function(D,$){if(arguments.length>0){const V=$?We(Z):o&&r?Sn(D):D;return Z.equals(V)||(O=!0,ri(q,V),w&&_!==void 0&&(_=V),cc(()=>We(Z))),D}return We(Z)}}const tk="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(tk);p0();function ik(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}function a(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)}function T(t,e,i,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i}const nk="YOUTUBEJS",ui={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},lf={[ui.ERROR]:(...t)=>console.error(...t),[ui.WARNING]:(...t)=>console.warn(...t),[ui.INFO]:(...t)=>console.info(...t),[ui.DEBUG]:(...t)=>console.debug(...t)};let sk=[ui.WARNING];function jr(t,e,i){if(!lf[t]||!sk.includes(t))return;const n=[`[${nk}]`];e&&n.push(`[${e}]`),lf[t](`${n.join("")}:`,...i||[])}const Oe=(t,...e)=>jr(ui.WARNING,t,e),hf=(t,...e)=>jr(ui.ERROR,t,e),Fe=(t,...e)=>jr(ui.INFO,t,e),to=(t,...e)=>jr(ui.DEBUG,t,e);var lc,ab,we,ee,Wt,Jt,Vi;const cb=Symbol("ObservedArray.isObserved");class l{constructor(){lc.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>a(this,lc,"m",ab).call(this,i))}as(...e){if(!this.is(...e))throw new yn(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new yn(`Missing key ${e}`);return new mu(this[e])}}lc=new WeakSet,ab=function(e){return this.type===e.type};l.type="YTNode";const ok="Maybe";class mu{constructor(e){we.add(this),ee.set(this,void 0),T(this,ee,e,"f")}get typeof(){return typeof a(this,ee,"f")}string(){return a(this,we,"m",Jt).call(this,"string")}isString(){return a(this,we,"m",Wt).call(this,"string")}number(){return a(this,we,"m",Jt).call(this,"number")}isNumber(){return a(this,we,"m",Wt).call(this,"number")}bigint(){return a(this,we,"m",Jt).call(this,"bigint")}isBigint(){return a(this,we,"m",Wt).call(this,"bigint")}boolean(){return a(this,we,"m",Jt).call(this,"boolean")}isBoolean(){return a(this,we,"m",Wt).call(this,"boolean")}symbol(){return a(this,we,"m",Jt).call(this,"symbol")}isSymbol(){return a(this,we,"m",Wt).call(this,"symbol")}undefined(){return a(this,we,"m",Jt).call(this,"undefined")}isUndefined(){return a(this,we,"m",Wt).call(this,"undefined")}null(){if(a(this,ee,"f")!==null)throw new TypeError(`Expected null, got ${typeof a(this,ee,"f")}`);return a(this,ee,"f")}isNull(){return a(this,ee,"f")===null}object(){return a(this,we,"m",Jt).call(this,"object")}isObject(){return a(this,we,"m",Wt).call(this,"object")}function(){return a(this,we,"m",Jt).call(this,"function")}isFunction(){return a(this,we,"m",Wt).call(this,"function")}array(){if(!Array.isArray(a(this,ee,"f")))throw new TypeError(`Expected array, got ${typeof a(this,ee,"f")}`);return a(this,ee,"f")}arrayOfMaybe(){const e=[];return new Proxy(this.array(),{get(i,n){return Reflect.has(e,n)?Reflect.get(i,n):new mu(Reflect.get(i,n))}})}isArray(){return Array.isArray(a(this,ee,"f"))}node(){if(!(a(this,ee,"f")instanceof l))throw new TypeError(`Expected YTNode, got ${a(this,ee,"f").constructor.name}`);return a(this,ee,"f")}isNode(){return a(this,ee,"f")instanceof l}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof a(this,ee,"f")}`);return a(this,ee,"f")}isObserved(){var e;return(e=a(this,ee,"f"))==null?void 0:e[cb]}parsed(){if(!(a(this,ee,"f")instanceof io))throw new TypeError(`Expected SuperParsedResult, got ${typeof a(this,ee,"f")}`);return a(this,ee,"f")}isParsed(){return a(this,ee,"f")instanceof io}any(){return Oe(ok,"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),a(this,ee,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${a(this,ee,"f").constructor.name}`);return a(this,ee,"f")}isInstanceof(e){return a(this,ee,"f")instanceof e}}ee=new WeakMap,we=new WeakSet,Wt=function(e){return typeof a(this,ee,"f")===e},Jt=function(e){if(!a(this,we,"m",Wt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return a(this,ee,"f")};class io{constructor(e){Vi.set(this,void 0),T(this,Vi,e,"f")}get is_null(){return a(this,Vi,"f")===null}get is_array(){return!this.is_null&&Array.isArray(a(this,Vi,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return a(this,Vi,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return a(this,Vi,"f")}}Vi=new WeakMap;function X(t){return new Proxy(t,{get(e,i){return i=="get"?(n,s)=>e.find((o,r)=>{const c=om(n,o);return c&&s&&e.splice(r,1),c}):i==cb?!0:i=="getAll"?(n,s)=>e.filter((o,r)=>{const c=om(n,o);return c&&s&&e.splice(r,1),c}):i=="matchCondition"?n=>e.find(s=>n(s)):i=="filterType"?(...n)=>X(e.filter(s=>!!s.is(...n))):i=="firstOfType"?(...n)=>e.find(s=>!!s.is(...n)):i=="first"?()=>e[0]:i=="as"?(...n)=>X(e.map(s=>{if(s.is(...n))return s;throw new yn(`Expected node of any type ${n.map(o=>o.type).join(", ")}, got ${s.type}`)})):i=="remove"?n=>e.splice(n,1):Reflect.get(e,i)}})}class ub extends Map{getType(...e){return e=e.flat(),X(e.flatMap(i=>this.get(i.type)||[]))}}const ye=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"}),GOOGLE_SEARCH_BASE:"https://www.google.com/"}),df=Object.freeze({REGEX:Object.freeze({TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')})}),L=Object.freeze({IOS:{NAME_ID:"5",NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME_ID:"1",NAME:"WEB",VERSION:"2.20241121.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},MWEB:{NAME_ID:"2",NAME:"MWEB",VERSION:"2.20241205.01.00",API_VERSION:"v1"},WEB_KIDS:{NAME_ID:"76",NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME_ID:"67",NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME_ID:"3",NAME:"ANDROID",VERSION:"19.35.36",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/19.35.36(Linux; U; Android 13; en_US; SM-S908E Build/TP1A.220624.014) gzip"},YTSTUDIO_ANDROID:{NAME_ID:"14",NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME_ID:"21",NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV:{NAME_ID:"7",NAME:"TVHTML5",VERSION:"7.20241016.15.00",USER_AGENT:"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version"},TV_EMBEDDED:{NAME_ID:"85",NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"},WEB_EMBEDDED:{NAME_ID:"56",NAME:"WEB_EMBEDDED_PLAYER",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_CREATOR:{NAME_ID:"62",NAME:"WEB_CREATOR",VERSION:"1.20240918.03.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"}}),is=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),pf=["IOS","WEB","MWEB","YTKIDS","YTMUSIC","ANDROID","YTSTUDIO_ANDROID","YTMUSIC_ANDROID","TV","TV_EMBEDDED","WEB_EMBEDDED","WEB_CREATOR"];var Tn;class lb extends EventTarget{constructor(){super(),Tn.set(this,new Map)}emit(e,...i){const n=new j.shim.CustomEvent(e,{detail:i});this.dispatchEvent(n)}on(e,i){const n=s=>{s instanceof j.shim.CustomEvent?i(...s.detail):i(s)};a(this,Tn,"f").set(i,n),this.addEventListener(e,n)}once(e,i){const n=s=>{s instanceof j.shim.CustomEvent?i(...s.detail):i(s),this.off(e,i)};a(this,Tn,"f").set(i,n),this.addEventListener(e,n)}off(e,i){const n=a(this,Tn,"f").get(i);n&&(this.removeEventListener(e,n),a(this,Tn,"f").delete(i))}}Tn=new WeakMap;const rk={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function ff(t){return t.replace(/([&"<>'])/g,(e,i)=>rk[i])}function ak(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}function K(t,e,...i){const n=i.flat().map(s=>typeof s=="string"?ck(s):s);return typeof t=="function"?t({...e,children:n}):{type:ak(t),props:{...e,children:n}}}function ck(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}async function hb(t){if(t.type==="TEXT_ELEMENT")return ff(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){const i=Object.keys(t.props).filter(n=>!["children","nodeValue"].includes(n)&&t.props[n]!==void 0).map(n=>`${n}="${ff(`${t.props[n]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){const i=await Promise.all((await Promise.all(t.props.children.flat())).flat().filter(n=>!!n).map(n=>hb(n)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`}async function uk(t){return`<?xml version="1.0" encoding="utf-8"?>${await hb(await t)}`}function lk(t){return t.children}class bo extends l{constructor(e){super();const i=e.spec.split("|"),n=new URL(i.shift());this.boards=i.map((s,o)=>{const[r,c,h,d,p,_,b,w]=s.split("#");n.searchParams.set("sigh",w);const v=Math.ceil(parseInt(h,10)/(parseInt(d,10)*parseInt(p,10)));return{type:"vod",template_url:n.toString().replace("$L",o).replace("$N",b),thumbnail_width:parseInt(r,10),thumbnail_height:parseInt(c,10),thumbnail_count:parseInt(h,10),interval:parseInt(_,10),columns:parseInt(d,10),rows:parseInt(p,10),storyboard_count:v}})}}bo.type="PlayerStoryboardSpec";const hk="StreamingInfo";function dk(t,e){var s,o,r;const i=new Map,n=t.some(c=>!!c.audio_track);for(const c of t){if((!c.index_range||!c.init_range)&&!c.is_type_otf&&!e)continue;const h=c.mime_type.split(";")[0],d=(s=At(c.mime_type,'codecs="','"'))==null?void 0:s.split(".")[0],p=c.color_info?Object.values(c.color_info).join("-"):"",_=((o=c.audio_track)==null?void 0:o.id)||"",b=c.is_drc?"drc":"",w=`${h}-${d}-${p}-${_}-${b}`;i.has(w)||i.set(w,[]),(r=i.get(w))==null||r.push(c)}return{groups:Array.from(i.values()),has_multiple_audio_tracks:n}}function db(t,e){if(t.length>1&&new Set(t.map(i=>At(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),At(t[0].mime_type,'codecs="','"')}function pb(t,e,i){if(t.length>1&&new Set(t.map(n=>n.fps)).size===1)return i.push(e),Number(t[0][e])}function pk(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}async function fk(t,e){var c;const i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:is,redirect:"follow"}),n=i.url.replace("&rn=0","").replace("&sq=0",""),s=await i.text(),o=(c=At(s,"Segment-Durations-Ms:",`\r
`))==null?void 0:c.split(",");if(!o)throw new g("Failed to extract the segment durations from this OTF stream",{url:t});const r=[];for(const h of o){const d=h.trim();if(d.length===0)continue;let p;const _=At(d,"(r=",")");_&&(p=parseInt(_)),r.push({duration:parseInt(d),repeat_count:p})}return{init_url:`${n}&sq=0`,media_url:`${n}&sq=$Number$`,timeline:r}}async function fb(t,e){const i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:is,redirect:"follow"}),n=parseInt(i.headers.get("X-Head-Time-Millis")||""),s=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(n)||isNaN(s))throw new g("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:n/1e3,segment_count:s}}async function mk(t,e,i,n,s,o){if(!t.item){const r=new URL(e.decipher(s));r.searchParams.set("cpn",o||"");const c=i(r).toString();t.item=await fb(c,n)}return t.item.duration}function mb(t,e,i,n,s,o){const r=new URL(t.decipher(n));r.searchParams.set("cpn",s||"");const c=e(r).toString();if(t.is_type_otf){if(!i)throw new g("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return fk(c,i)}}}if(o){if(!i)throw new g("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});const d=t.target_duration_dec;if(typeof d!="number")throw new g("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,async getSegmentTemplate(){return o.item||(o.item=await fb(c,i)),{media_url:`${c}&sq=$Number$`,timeline:[{duration:d*1e3,repeat_count:o.item.segment_count}]}}}}if(!t.index_range||!t.init_range)throw new g("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:c,index_range:t.index_range,init_range:t.init_range}}function _k(t,e,i,n,s,o,r){new URL(t.decipher(s)).searchParams.set("cpn",o||"");const h=[t.itag.toString()];return t.audio_track&&h.push(t.audio_track.id),t.is_drc&&h.push("drc"),{uid:h.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:At(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:mb(t,i,n,s,o,r)}}function bk(t,e){if(!t.audio_track&&!e)return;const i=[t.is_original?"main":"alternate"];return(t.is_dubbed||t.is_auto_dubbed)&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}function yk(t,e,i,n,s,o,r){const c=t[0],{audio_track:h}=c,d=[],p=!!r;let _;return h?p&&c.is_drc?_=r.label_drc_multiple(h.display_name):_=h.display_name:p&&(_=c.is_drc?r.label_drc:r.label_original),{mime_type:c.mime_type.split(";")[0],language:c.language??void 0,codecs:db(t,d),audio_sample_rate:pb(t,"audio_sample_rate",d),track_name:_,track_roles:bk(c,p),channels:pk(t,d),representations:t.map(w=>_k(w,d,e,i,n,s,o))}}const gk={BT709:"1",BT2020:"9"},mf={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},wk={BT709:"1",BT2020_NCL:"14"};function vk(t){var r;const e=t.color_info;let i,n,s;if(e){if(e.primaries&&(i=gk[e.primaries]),e.transfer_characteristics&&(n=mf[e.transfer_characteristics]),e.matrix_coefficients&&(s=wk[e.matrix_coefficients],!s)){const c=new URL(t.url),h=JSON.parse(JSON.stringify(t));h.url="REDACTED",h.signature_cipher="REDACTED",h.cipher="REDACTED",Oe(hk,`Unknown matrix coefficients "${e.matrix_coefficients}". The DASH manifest is still usable without this.
Please report it at ${j.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${c.searchParams.get("c")}
format:`,h)}}else(r=At(t.mime_type,'codecs="','"'))!=null&&r.startsWith("avc1")&&(n=mf.BT709);return{primaries:i,transfer_characteristics:n,matrix_coefficients:s}}function xk(t,e,i,n,s,o,r){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:At(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:mb(t,e,s,n,o,r)}}function kk(t,e,i,n,s,o){const r=t[0],c=vk(r),h=[];return{mime_type:r.mime_type.split(";")[0],color_info:c,codecs:db(t,h),fps:pb(t,"fps",h),representations:t.map(p=>xk(p,e,h,i,n,s,o))}}function Sk(t){var n;const e=new Map,i=t.is(bo)?t.boards:[t.board];for(const s of i){const o=new URL(s.template_url).pathname.split(".").pop(),r=`image/${o==="jpg"?"jpeg":o}`;e.has(r)||e.set(r,[]),(n=e.get(r))==null||n.push(s)}return e}async function Tk(t,e,i,n,s){const o=e.template_url,r=i(new URL(o.replace("$M","0"))),c=s.response?s.response:t.session.http.fetch_function(r,{method:"HEAD",headers:is});return s.response=c,(await c).headers.get("Content-Type")||n}async function Ck(t,e,i){const n=e.template_url,s=[],o=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let h=0;h<o;h++){const d=new URL(n.replace("$M",h.toString())),p=h===0&&i.response?i.response:t.session.http.fetch_function(d,{method:"HEAD",headers:is});h===0&&(i.response=p),s.push(p)}const r=await Promise.all(s),c=[];for(const h of r)c.push(parseInt(h.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...c)/(e.rows*e.columns)*8)}function Ik(t,e,i,n,s){const o=i.template_url,r=new URL(o.replace("$M","$Number$"));let c;return i.type==="vod"?c=t/i.storyboard_count:c=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return Ck(e,i,s)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(c),template_url:n(r).toString(),getURL(d){return r.toString().replace("$Number$",d.toString())}}}function Ek(t,e,i,n){const s=Sk(i),o={};return Array.from(s.entries()).map(([r,c])=>({probable_mime_type:r,getMimeType(){return Tk(e,c[0],n,r,o)},representations:c.map(h=>Ik(t,e,h,n,o))}))}function Rk(t,e,i){const n=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(s=>{const o=new URL(s.base_url);o.searchParams.set("fmt",e);const r=["caption"];return o.searchParams.has("tlang")&&r.push("dub"),{mime_type:n,language:s.language_code,track_name:s.name.toString(),track_roles:r,representation:{uid:`text-${s.vss_id}`,base_url:i(o).toString()}}})}function _b(t,e=!1,i=p=>p,n,s,o,r,c,h,d){if(!t)throw new g("Streaming data not available");const p=n?t.adaptive_formats.filter(D=>!n(D)):t.adaptive_formats;let _,b;if(e){if(b={},!r)throw new g("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");_=()=>b?mk(b,p[0],i,r,o,s):Promise.resolve(0)}else{const D=p[0].approx_duration_ms/1e3;_=()=>Promise.resolve(D)}const{groups:w,has_multiple_audio_tracks:v}=dk(p,e),{video_groups:S,audio_groups:R}=w.reduce((D,$)=>$[0].has_audio?(v&&!$[0].audio_track||D.audio_groups.push($),D):(D.video_groups.push($),D),{video_groups:[],audio_groups:[]});let I;R.flat().some(D=>D.is_drc)&&(I={label_original:(d==null?void 0:d.label_original)||"Original",label_drc:(d==null?void 0:d.label_drc)||"Stable Volume",label_drc_multiple:(d==null?void 0:d.label_drc_multiple)||(D=>`${D} (Stable Volume)`)});const O=R.map(D=>yk(D,i,r,o,s,b,I)),N=S.map(D=>kk(D,i,o,r,s,b));let q=[];if(c&&r){let D;if(c.is(bo))D=p[0].approx_duration_ms/1e3;else{const $=p[0].target_duration_dec;if($===void 0)throw new g("Format is missing target_duration_dec",{format:p[0]});D=$}q=Ek(D,r,c,i)}let Z=[];if(h&&(d!=null&&d.captions_format)){if(d.captions_format!=="vtt"&&d.captions_format!=="ttml")throw new g("Invalid captions format",d.captions_format);Z=Rk(h,d.captions_format,i)}return{getDuration:_,audio_sets:O,video_sets:N,image_sets:q,text_sets:Z}}async function Pk({info:t}){if(!t.is_oft&&!t.is_post_live_dvr)return null;const e=await t.getSegmentTemplate();return K("segment-template",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},K("segment-timeline",null,e.timeline.map(i=>K("s",{d:i.duration,r:i.repeat_count}))))}function _f({info:t}){return t.is_oft||t.is_post_live_dvr?K(Pk,{info:t}):K(lk,null,K("base-url",null,t.base_url),K("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},K("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}async function Ak({streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:n,cpn:s,player:o,actions:r,storyboards:c,captionTracks:h,options:d}){const{getDuration:p,audio_sets:_,video_sets:b,image_sets:w,text_sets:v}=_b(t,e,i,n,s,o,r,c,h,d);return K("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${await p()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},K("period",null,_.map((S,R)=>K("adaptation-set",{id:R,mimeType:S.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:S.language,codecs:S.codecs,audioSamplingRate:S.audio_sample_rate,contentType:"audio"},S.track_roles&&S.track_roles.map(I=>K("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:I})),S.track_name&&K("label",{id:R},S.track_name),S.channels&&K("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:S.channels}),S.representations.map(I=>K("representation",{id:I.uid,bandwidth:I.bitrate,codecs:I.codecs,audioSamplingRate:I.audio_sample_rate},I.channels&&K("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:I.channels}),K(_f,{info:I.segment_info}))))),b.map((S,R)=>K("adaptation-set",{id:R+_.length,mimeType:S.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:S.codecs,maxPlayoutRate:"1",frameRate:S.fps,contentType:"video"},S.color_info.primaries&&K("supplemental-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:S.color_info.primaries}),S.color_info.transfer_characteristics&&K("supplemental-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:S.color_info.transfer_characteristics}),S.color_info.matrix_coefficients&&K("supplemental-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:S.color_info.matrix_coefficients}),S.representations.map(I=>K("representation",{id:I.uid,bandwidth:I.bitrate,width:I.width,height:I.height,codecs:I.codecs,frameRate:I.fps},K(_f,{info:I.segment_info}))))),w.map(async(S,R)=>K("adaptation-set",{id:R+_.length+b.length,mimeType:await S.getMimeType(),contentType:"image"},S.representations.map(async I=>K("representation",{id:`thumbnails_${I.thumbnail_width}x${I.thumbnail_height}`,bandwidth:await I.getBitrate(),width:I.sheet_width,height:I.sheet_height},K("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${I.columns}x${I.rows}`}),K("segment-template",{media:I.template_url,duration:I.template_duration,startNumber:"0"}))))),v.map((S,R)=>K("adaptation-set",{id:R+_.length+b.length+w.length,mimeType:S.mime_type,lang:S.language,contentType:"text"},S.track_roles.map(I=>K("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:I})),K("label",{id:R+_.length},S.track_name),K("representation",{id:S.representation.uid,bandwidth:"0"},K("base-url",null,S.representation.base_url))))))}function Mk(t,e=!1,i=p=>p,n,s,o,r,c,h,d){if(!t)throw new g("Streaming data not available");return uk(K(Ak,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:d,rejectFormat:n,cpn:s,player:o,actions:r,storyboards:c,captionTracks:h}))}async function Nk(t,e,i,n,s,o){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new g("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new g("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!n)throw new g("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});const r={quality:"360p",type:"video+audio",format:"mp4",range:void 0,...t},c=bb(r,n),h=c.decipher(s);if(r.type==="video+audio"&&!t.range){const v=await e.session.http.fetch_function(`${h}&cpn=${o}`,{method:"GET",headers:is,redirect:"follow"});if(!v.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:v});const S=v.body;if(!S)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:v});return S}const d=1048576*10;let p=t.range?t.range.start:0,_=t.range?t.range.end:d,b=!1,w;return new j.shim.ReadableStream({start(){},pull:async v=>{if(b){v.close();return}return(_>=(c.content_length?c.content_length:0)||t.range)&&(b=!0),new Promise(async(S,R)=>{try{w=new AbortController;const I=await e.session.http.fetch_function(`${h}&cpn=${o}&range=${p}-${_||""}`,{method:"GET",headers:{...is},signal:w.signal});if(!I.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:I});const O=I.body;if(!O)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:I});for await(const N of qC(O))v.enqueue(N);p=_+1,_+=d,S()}catch(I){R(I)}})},async cancel(v){w.abort(v)}},{highWaterMark:1,size(v){return v.byteLength}})}function bb(t,e){if(!e)throw new g("Streaming data not available");const i=[...e.formats||[],...e.adaptive_formats||[]],n=t.type?t.type.includes("audio"):!0,s=t.type?t.type.includes("video"):!0,o=t.language||"original",r=t.quality||"best";let c=-1;const h=["best","bestefficiency"].includes(r),d=r!=="best";let p=i.filter(_=>n&&!_.has_audio||s&&!_.has_video||t.format!=="any"&&!_.mime_type.includes(t.format||"mp4")||!h&&_.quality_label!==r?!1:(_.width&&c<_.width&&(c=_.width),!0));if(!p.length)throw new g("No matching formats found",{options:t});if(h&&s&&(p=p.filter(_=>_.width===c)),n&&!s){const _=p.filter(b=>o!=="original"?!b.has_video&&!b.has_text&&b.language===o:!b.has_video&&!b.has_text&&b.is_original);_.length>0&&(p=_)}return d?p.sort((_,b)=>_.bitrate-b.bitrate):p.sort((_,b)=>b.bitrate-_.bitrate),p[0]}var hc,it,Cn,vs,yb;class Dk{constructor(e,i,n){hc.add(this),it.set(this,void 0),Cn.set(this,void 0),vs.set(this,void 0),T(this,it,e,"f"),T(this,Cn,i,"f"),T(this,vs,n||j.shim.fetch,"f")}get fetch_function(){return a(this,vs,"f")}async fetch(e,i){const n=ye.API.PRODUCTION_1+a(this,it,"f").api_version,s=(i==null?void 0:i.baseURL)||n,o=typeof e=="string"?!s.endsWith("/")&&!e.startsWith("/")?new URL(`${s}/${e}`):new URL(s+e):e instanceof URL?e:new URL(e.url,s),r=(i==null?void 0:i.headers)||(e instanceof j.shim.Request?e.headers:new j.shim.Headers)||new j.shim.Headers,c=(i==null?void 0:i.body)||(e instanceof j.shim.Request?e.body:void 0),h=new j.shim.Headers(r);h.set("Accept","*/*"),h.set("Accept-Language","*"),h.set("X-Goog-Visitor-Id",a(this,it,"f").context.client.visitorData||""),h.set("X-Youtube-Client-Version",a(this,it,"f").context.client.clientVersion||"");const d=Object.values(L).find(R=>R.NAME===a(this,it,"f").context.client.clientName);d&&h.set("X-Youtube-Client-Name",d.NAME_ID),j.shim.server&&(h.set("User-Agent",Mp("desktop")),h.set("Origin",o.origin)),o.searchParams.set("prettyPrint","false"),o.searchParams.set("alt","json");const p=h.get("Content-Type");let _=c,b=!1;const w=s===n||s===ye.YT_UPLOAD;if(p==="application/json"&&w&&typeof c=="string"){const I={...JSON.parse(c),context:JSON.parse(JSON.stringify(a(this,it,"f").context))};a(this,hc,"m",yb).call(this,I.context,I.client),h.set("X-Youtube-Client-Version",I.context.client.clientVersion);const O=Object.values(L).find(N=>N.NAME===I.context.client.clientName);O&&h.set("X-Youtube-Client-Name",O.NAME_ID),delete I.client,I.context.client.clientName==="ANDROID"||I.context.client.clientName==="ANDROID_MUSIC"?(h.set("User-Agent",L.ANDROID.USER_AGENT),h.set("X-GOOG-API-FORMAT-VERSION","2")):I.context.client.clientName==="iOS"&&h.set("User-Agent",L.IOS.USER_AGENT),b=I.context.client.clientName==="WEB_KIDS",_=JSON.stringify(I)}else p==="application/x-protobuf"&&j.shim.server&&(h.set("User-Agent",L.ANDROID.USER_AGENT),h.set("X-GOOG-API-FORMAT-VERSION","2"),h.delete("X-Youtube-Client-Version"));if(a(this,it,"f").logged_in&&w&&!b){const R=a(this,it,"f").oauth;if(R.oauth2_tokens&&(R.shouldRefreshToken()&&await R.refreshAccessToken(),h.set("Authorization",`Bearer ${R.oauth2_tokens.access_token}`)),a(this,Cn,"f")){const I=KC(a(this,Cn,"f"),"SAPISID");I&&(h.set("Authorization",await jC(I)),h.set("X-Goog-Authuser",a(this,it,"f").account_index.toString()),a(this,it,"f").context.user.onBehalfOfUser&&h.set("X-Goog-PageId",a(this,it,"f").context.user.onBehalfOfUser)),h.set("Cookie",a(this,Cn,"f"))}}const v=new j.shim.Request(o,e instanceof j.shim.Request?e:i),S=await a(this,vs,"f").call(this,v,{body:_,headers:h,redirect:e instanceof j.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow",...j.shim.runtime!=="cf-worker"?{credentials:"include"}:{}});if(S.ok)return S;throw new g(`Request to ${S.url} failed with status ${S.status}`,await S.text())}}it=new WeakMap,Cn=new WeakMap,vs=new WeakMap,hc=new WeakSet,yb=function(e,i){if(i){if(!pf.includes(i.toUpperCase()))throw new g(`Invalid client: ${i}`,{available_innertube_clients:pf});switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=L.ANDROID.SDK_VERSION,e.client.userAgent=L.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i.toUpperCase()){case"MWEB":e.client.clientVersion=L.MWEB.VERSION,e.client.clientName=L.MWEB.NAME,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.platform="MOBILE";break;case"IOS":e.client.deviceMake="Apple",e.client.deviceModel=L.IOS.DEVICE_MODEL,e.client.clientVersion=L.IOS.VERSION,e.client.clientName=L.IOS.NAME,e.client.platform="MOBILE",e.client.osName="iOS",delete e.client.browserName,delete e.client.browserVersion;break;case"YTMUSIC":e.client.clientVersion=L.YTMUSIC.VERSION,e.client.clientName=L.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=L.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=L.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=L.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=L.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=L.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=L.YTSTUDIO_ANDROID.NAME;break;case"TV":{e.client.clientVersion=L.TV.VERSION,e.client.clientName=L.TV.NAME,e.client.userAgent=L.TV.USER_AGENT;break}case"TV_EMBEDDED":e.client.clientName=L.TV_EMBEDDED.NAME,e.client.clientVersion=L.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:ye.YT_BASE};break;case"YTKIDS":e.client.clientVersion=L.WEB_KIDS.VERSION,e.client.clientName=L.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;case"WEB_EMBEDDED":e.client.clientName=L.WEB_EMBEDDED.NAME,e.client.clientVersion=L.WEB_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:ye.GOOGLE_SEARCH_BASE};break;case"WEB_CREATOR":e.client.clientName=L.WEB_CREATOR.NAME,e.client.clientVersion=L.WEB_CREATOR.VERSION;break}}};function dc(t){const e=[],i={};for(let o=0;o<256;o++)i[String.fromCharCode(o)]=o;let n="",s=256;for(let o=0;o<t.length;o++){const r=t[o],c=n+r;i.hasOwnProperty(c)?n=c:(e.push(i[n]),i[c]=s++,n=r)}return n!==""&&e.push(i[n]),e.map(o=>String.fromCharCode(o)).join("")}function pc(t){const e={},i=t.split(""),n=[i.shift()],s=i.length>>>0;let o=256,r=n[0],c=r;for(let h=0;h<s;++h){const d=i[h].charCodeAt(0),p=d<256?i[h]:e[d]?e[d]:c+r;n.push(p),r=p.charAt(0),e[o++]=c+r,c=p}return n.join("")}function Ok(){let t=0,e=0;for(let n=0;n<28;n+=7){let s=this.buf[this.pos++];if(t|=(s&127)<<n,!(s&128))return this.assertBounds(),[t,e]}let i=this.buf[this.pos++];if(t|=(i&15)<<28,e=(i&112)>>4,!(i&128))return this.assertBounds(),[t,e];for(let n=3;n<=31;n+=7){let s=this.buf[this.pos++];if(e|=(s&127)<<n,!(s&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function Ka(t,e,i){for(let o=0;o<28;o=o+7){const r=t>>>o,c=!(!(r>>>7)&&e==0),h=(c?r|128:r)&255;if(i.push(h),!c)return}const n=t>>>28&15|(e&7)<<4,s=!!(e>>3);if(i.push((s?n|128:n)&255),!!s){for(let o=3;o<31;o=o+7){const r=e>>>o,c=!!(r>>>7),h=(c?r|128:r)&255;if(i.push(h),!c)return}i.push(e>>>31&1)}}const $o=4294967296;function bf(t){const e=t[0]==="-";e&&(t=t.slice(1));const i=1e6;let n=0,s=0;function o(r,c){const h=Number(t.slice(r,c));s*=i,n=n*i+h,n>=$o&&(s=s+(n/$o|0),n=n%$o)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),e?wb(n,s):_u(n,s)}function Lk(t,e){let i=_u(t,e);const n=i.hi&2147483648;n&&(i=wb(i.lo,i.hi));const s=gb(i.lo,i.hi);return n?"-"+s:s}function gb(t,e){if({lo:t,hi:e}=Bk(t,e),e<=2097151)return String($o*e+t);const i=t&16777215,n=(t>>>24|e<<8)&16777215,s=e>>16&65535;let o=i+n*6777216+s*6710656,r=n+s*8147497,c=s*2;const h=1e7;return o>=h&&(r+=Math.floor(o/h),o%=h),r>=h&&(c+=Math.floor(r/h),r%=h),c.toString()+yf(r)+yf(o)}function Bk(t,e){return{lo:t>>>0,hi:e>>>0}}function _u(t,e){return{lo:t|0,hi:e|0}}function wb(t,e){return e=~e,t?t=~t+1:e+=1,_u(t,e)}const yf=t=>{const e=String(t);return"0000000".slice(e.length)+e};function gf(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let i=0;i<9;i++)e.push(t&127|128),t=t>>7;e.push(1)}}function Vk(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let i=5;t&128&&i<10;i++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var wf={};const Ht=Uk();function Uk(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof wf!="object"||wf.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),s=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(r){const c=typeof r=="bigint"?r:BigInt(r);if(c>n||c<i)throw new Error(`invalid int64: ${r}`);return c},uParse(r){const c=typeof r=="bigint"?r:BigInt(r);if(c>o||c<s)throw new Error(`invalid uint64: ${r}`);return c},enc(r){return t.setBigInt64(0,this.parse(r),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(r){return t.setBigInt64(0,this.uParse(r),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(r,c){return t.setInt32(0,r,!0),t.setInt32(4,c,!0),t.getBigInt64(0,!0)},uDec(r,c){return t.setInt32(0,r,!0),t.setInt32(4,c,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),vf(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),xf(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),vf(i),bf(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),xf(i),bf(i)},dec(i,n){return Lk(i,n)},uDec(i,n){return gb(i,n)}}}function vf(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}function xf(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}const $a=Symbol.for("@bufbuild/protobuf/text-encoding");function vb(){if(globalThis[$a]==null){const t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[$a]={encodeUtf8(i){return t.encode(i)},decodeUtf8(i){return e.decode(i)},checkUtf8(i){try{return encodeURIComponent(i),!0}catch{return!1}}}}return globalThis[$a]}var Ti;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(Ti||(Ti={}));const Fk=34028234663852886e22,Wk=-34028234663852886e22,Hk=4294967295,jk=2147483647,Gk=-2147483648;class P{constructor(e=vb().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let s=0;s<this.chunks.length;s++)e+=this.chunks[s].length;let i=new Uint8Array(e),n=0;for(let s=0;s<this.chunks.length;s++)i.set(this.chunks[s],n),n+=this.chunks[s].length;return this.chunks=[],i}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),i=this.stack.pop();if(!i)throw new Error("invalid state, fork stack empty");return this.chunks=i.chunks,this.buf=i.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,i){return this.uint32((e<<3|i)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(kf(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return za(e),gf(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let i=this.encodeUtf8(e);return this.uint32(i.byteLength),this.raw(i)}float(e){qk(e);let i=new Uint8Array(4);return new DataView(i.buffer).setFloat32(0,e,!0),this.raw(i)}double(e){let i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),this.raw(i)}fixed32(e){kf(e);let i=new Uint8Array(4);return new DataView(i.buffer).setUint32(0,e,!0),this.raw(i)}sfixed32(e){za(e);let i=new Uint8Array(4);return new DataView(i.buffer).setInt32(0,e,!0),this.raw(i)}sint32(e){return za(e),e=(e<<1^e>>31)>>>0,gf(e,this.buf),this}sfixed64(e){let i=new Uint8Array(8),n=new DataView(i.buffer),s=Ht.enc(e);return n.setInt32(0,s.lo,!0),n.setInt32(4,s.hi,!0),this.raw(i)}fixed64(e){let i=new Uint8Array(8),n=new DataView(i.buffer),s=Ht.uEnc(e);return n.setInt32(0,s.lo,!0),n.setInt32(4,s.hi,!0),this.raw(i)}int64(e){let i=Ht.enc(e);return Ka(i.lo,i.hi,this.buf),this}sint64(e){let i=Ht.enc(e),n=i.hi>>31,s=i.lo<<1^n,o=(i.hi<<1|i.lo>>>31)^n;return Ka(s,o,this.buf),this}uint64(e){let i=Ht.uEnc(e);return Ka(i.lo,i.hi,this.buf),this}}class x{constructor(e,i=vb().decodeUtf8){this.decodeUtf8=i,this.varint64=Ok,this.uint32=Vk,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),i=e>>>3,n=e&7;if(i<=0||n<0||n>5)throw new Error("illegal tag: field no "+i+" wire type "+n);return[i,n]}skip(e,i){let n=this.pos;switch(e){case Ti.Varint:for(;this.buf[this.pos++]&128;);break;case Ti.Bit64:this.pos+=4;case Ti.Bit32:this.pos+=4;break;case Ti.LengthDelimited:let s=this.uint32();this.pos+=s;break;case Ti.StartGroup:for(;;){const[o,r]=this.tag();if(r===Ti.EndGroup){if(i!==void 0&&o!==i)throw new Error("invalid end group tag");break}this.skip(r,o)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Ht.dec(...this.varint64())}uint64(){return Ht.uDec(...this.varint64())}sint64(){let[e,i]=this.varint64(),n=-(e&1);return e=(e>>>1|(i&1)<<31)^n,i=i>>>1^n,Ht.dec(e,i)}bool(){let[e,i]=this.varint64();return e!==0||i!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Ht.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Ht.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),i=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(i,i+e)}string(){return this.decodeUtf8(this.bytes())}}function za(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>jk||t<Gk)throw new Error("invalid int32: "+t)}function kf(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>Hk||t<0)throw new Error("invalid uint32: "+t)}function qk(t){if(typeof t=="string"){const e=t;if(t=Number(t),isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>Fk||t<Wk))throw new Error("invalid float32: "+t)}var fc;(function(t){t[t.RELEVANCE=0]="RELEVANCE",t[t.RATING=1]="RATING",t[t.UPLOAD_DATE=2]="UPLOAD_DATE",t[t.VIEW_COUNT=3]="VIEW_COUNT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(fc||(fc={}));var mc;(function(t){t[t.ANY_DATE=0]="ANY_DATE",t[t.HOUR=1]="HOUR",t[t.TODAY=2]="TODAY",t[t.WEEK=3]="WEEK",t[t.MONTH=4]="MONTH",t[t.YEAR=5]="YEAR",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(mc||(mc={}));var _c;(function(t){t[t.ANY_TYPE=0]="ANY_TYPE",t[t.VIDEO=1]="VIDEO",t[t.CHANNEL=2]="CHANNEL",t[t.PLAYLIST=3]="PLAYLIST",t[t.MOVIE=4]="MOVIE",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(_c||(_c={}));var bc;(function(t){t[t.ANY_DURATION=0]="ANY_DURATION",t[t.SHORT=1]="SHORT",t[t.LONG=2]="LONG",t[t.MEDIUM=3]="MEDIUM",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(bc||(bc={}));function Yk(){return{id:"",timestamp:0}}const xb={encode(t,e=new P){return t.id!==""&&e.uint32(10).string(t.id),t.timestamp!==0&&e.uint32(40).int32(t.timestamp),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=Yk();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.id=i.string();continue;case 5:if(o!==40)break;s.timestamp=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function Kk(){return{sortBy:void 0,filters:void 0}}const kb={encode(t,e=new P){return t.sortBy!==void 0&&e.uint32(8).int32(t.sortBy),t.filters!==void 0&&Sf.encode(t.filters,e.uint32(18).fork()).join(),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=Kk();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.sortBy=i.int32();continue;case 2:if(o!==18)break;s.filters=Sf.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function $k(){return{uploadDate:void 0,type:void 0,duration:void 0,musicSearchType:void 0,featuresHd:void 0,featuresSubtitles:void 0,featuresCreativeCommons:void 0,features3d:void 0,featuresLive:void 0,featuresPurchased:void 0,features4k:void 0,features360:void 0,featuresLocation:void 0,featuresHdr:void 0,featuresVr180:void 0}}const Sf={encode(t,e=new P){return t.uploadDate!==void 0&&e.uint32(8).int32(t.uploadDate),t.type!==void 0&&e.uint32(16).int32(t.type),t.duration!==void 0&&e.uint32(24).int32(t.duration),t.musicSearchType!==void 0&&Tf.encode(t.musicSearchType,e.uint32(138).fork()).join(),t.featuresHd!==void 0&&e.uint32(32).bool(t.featuresHd),t.featuresSubtitles!==void 0&&e.uint32(40).bool(t.featuresSubtitles),t.featuresCreativeCommons!==void 0&&e.uint32(48).bool(t.featuresCreativeCommons),t.features3d!==void 0&&e.uint32(56).bool(t.features3d),t.featuresLive!==void 0&&e.uint32(64).bool(t.featuresLive),t.featuresPurchased!==void 0&&e.uint32(72).bool(t.featuresPurchased),t.features4k!==void 0&&e.uint32(112).bool(t.features4k),t.features360!==void 0&&e.uint32(120).bool(t.features360),t.featuresLocation!==void 0&&e.uint32(184).bool(t.featuresLocation),t.featuresHdr!==void 0&&e.uint32(200).bool(t.featuresHdr),t.featuresVr180!==void 0&&e.uint32(208).bool(t.featuresVr180),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=$k();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.uploadDate=i.int32();continue;case 2:if(o!==16)break;s.type=i.int32();continue;case 3:if(o!==24)break;s.duration=i.int32();continue;case 17:if(o!==138)break;s.musicSearchType=Tf.decode(i,i.uint32());continue;case 4:if(o!==32)break;s.featuresHd=i.bool();continue;case 5:if(o!==40)break;s.featuresSubtitles=i.bool();continue;case 6:if(o!==48)break;s.featuresCreativeCommons=i.bool();continue;case 7:if(o!==56)break;s.features3d=i.bool();continue;case 8:if(o!==64)break;s.featuresLive=i.bool();continue;case 9:if(o!==72)break;s.featuresPurchased=i.bool();continue;case 14:if(o!==112)break;s.features4k=i.bool();continue;case 15:if(o!==120)break;s.features360=i.bool();continue;case 23:if(o!==184)break;s.featuresLocation=i.bool();continue;case 25:if(o!==200)break;s.featuresHdr=i.bool();continue;case 26:if(o!==208)break;s.featuresVr180=i.bool();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function zk(){return{song:void 0,video:void 0,album:void 0,artist:void 0,playlist:void 0}}const Tf={encode(t,e=new P){return t.song!==void 0&&e.uint32(8).bool(t.song),t.video!==void 0&&e.uint32(16).bool(t.video),t.album!==void 0&&e.uint32(24).bool(t.album),t.artist!==void 0&&e.uint32(32).bool(t.artist),t.playlist!==void 0&&e.uint32(40).bool(t.playlist),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=zk();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.song=i.bool();continue;case 2:if(o!==16)break;s.video=i.bool();continue;case 3:if(o!==24)break;s.album=i.bool();continue;case 4:if(o!==32)break;s.artist=i.bool();continue;case 5:if(o!==40)break;s.playlist=i.bool();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function Qk(){return{channelId:"",prefId:void 0,number0:void 0,number1:void 0}}const Xk={encode(t,e=new P){return t.channelId!==""&&e.uint32(10).string(t.channelId),t.prefId!==void 0&&Cf.encode(t.prefId,e.uint32(18).fork()).join(),t.number0!==void 0&&e.uint32(24).int32(t.number0),t.number1!==void 0&&e.uint32(32).int32(t.number1),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=Qk();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.channelId=i.string();continue;case 2:if(o!==18)break;s.prefId=Cf.decode(i,i.uint32());continue;case 3:if(o!==24)break;s.number0=i.int32();continue;case 4:if(o!==32)break;s.number1=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function Zk(){return{index:0}}const Cf={encode(t,e=new P){return t.index!==0&&e.uint32(8).int32(t.index),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=Zk();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.index=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function Jk(){return{params:void 0,number0:void 0,number1:void 0}}const eS={encode(t,e=new P){return t.params!==void 0&&If.encode(t.params,e.uint32(10).fork()).join(),t.number0!==void 0&&e.uint32(16).int32(t.number0),t.number1!==void 0&&e.uint32(24).int32(t.number1),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=Jk();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.params=If.decode(i,i.uint32());continue;case 2:if(o!==16)break;s.number0=i.int32();continue;case 3:if(o!==24)break;s.number1=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function tS(){return{ids:void 0}}const If={encode(t,e=new P){return t.ids!==void 0&&Ef.encode(t.ids,e.uint32(42).fork()).join(),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=tS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 5:if(o!==42)break;s.ids=Ef.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function iS(){return{channelId:"",videoId:""}}const Ef={encode(t,e=new P){return t.channelId!==""&&e.uint32(10).string(t.channelId),t.videoId!==""&&e.uint32(18).string(t.videoId),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=iS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.channelId=i.string();continue;case 2:if(o!==18)break;s.videoId=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function nS(){return{ctx:void 0,unkParam:0,params:void 0}}const sS={encode(t,e=new P){return t.ctx!==void 0&&Rf.encode(t.ctx,e.uint32(18).fork()).join(),t.unkParam!==0&&e.uint32(24).int32(t.unkParam),t.params!==void 0&&Pf.encode(t.params,e.uint32(50).fork()).join(),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=nS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 2:if(o!==18)break;s.ctx=Rf.decode(i,i.uint32());continue;case 3:if(o!==24)break;s.unkParam=i.int32();continue;case 6:if(o!==50)break;s.params=Pf.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function oS(){return{videoId:""}}const Rf={encode(t,e=new P){return t.videoId!==""&&e.uint32(18).string(t.videoId),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=oS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 2:if(o!==18)break;s.videoId=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function rS(){return{unkToken:void 0,opts:void 0,repliesOpts:void 0,page:void 0,target:""}}const Pf={encode(t,e=new P){return t.unkToken!==void 0&&e.uint32(10).string(t.unkToken),t.opts!==void 0&&Af.encode(t.opts,e.uint32(34).fork()).join(),t.repliesOpts!==void 0&&Mf.encode(t.repliesOpts,e.uint32(26).fork()).join(),t.page!==void 0&&e.uint32(40).int32(t.page),t.target!==""&&e.uint32(66).string(t.target),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=rS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.unkToken=i.string();continue;case 4:if(o!==34)break;s.opts=Af.decode(i,i.uint32());continue;case 3:if(o!==26)break;s.repliesOpts=Mf.decode(i,i.uint32());continue;case 5:if(o!==40)break;s.page=i.int32();continue;case 8:if(o!==66)break;s.target=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function aS(){return{videoId:"",sortBy:0,type:0,commentId:void 0}}const Af={encode(t,e=new P){return t.videoId!==""&&e.uint32(34).string(t.videoId),t.sortBy!==0&&e.uint32(48).int32(t.sortBy),t.type!==0&&e.uint32(120).int32(t.type),t.commentId!==void 0&&e.uint32(130).string(t.commentId),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=aS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 4:if(o!==34)break;s.videoId=i.string();continue;case 6:if(o!==48)break;s.sortBy=i.int32();continue;case 15:if(o!==120)break;s.type=i.int32();continue;case 16:if(o!==130)break;s.commentId=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function cS(){return{commentId:"",unkopts:void 0,channelId:void 0,videoId:"",unkParam1:0,unkParam2:0}}const Mf={encode(t,e=new P){return t.commentId!==""&&e.uint32(18).string(t.commentId),t.unkopts!==void 0&&Nf.encode(t.unkopts,e.uint32(34).fork()).join(),t.channelId!==void 0&&e.uint32(42).string(t.channelId),t.videoId!==""&&e.uint32(50).string(t.videoId),t.unkParam1!==0&&e.uint32(64).int32(t.unkParam1),t.unkParam2!==0&&e.uint32(72).int32(t.unkParam2),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=cS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 2:if(o!==18)break;s.commentId=i.string();continue;case 4:if(o!==34)break;s.unkopts=Nf.decode(i,i.uint32());continue;case 5:if(o!==42)break;s.channelId=i.string();continue;case 6:if(o!==50)break;s.videoId=i.string();continue;case 8:if(o!==64)break;s.unkParam1=i.int32();continue;case 9:if(o!==72)break;s.unkParam2=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function uS(){return{unkParam:0}}const Nf={encode(t,e=new P){return t.unkParam!==0&&e.uint32(8).int32(t.unkParam),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=uS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.unkParam=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function lS(){return{videoId:"",params:void 0,number:0}}const hS={encode(t,e=new P){return t.videoId!==""&&e.uint32(18).string(t.videoId),t.params!==void 0&&Df.encode(t.params,e.uint32(42).fork()).join(),t.number!==0&&e.uint32(80).int32(t.number),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=lS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 2:if(o!==18)break;s.videoId=i.string();continue;case 5:if(o!==42)break;s.params=Df.decode(i,i.uint32());continue;case 10:if(o!==80)break;s.number=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function dS(){return{index:0}}const Df={encode(t,e=new P){return t.index!==0&&e.uint32(8).int32(t.index),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=dS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.index=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function pS(){return{type:0,commentId:"",videoId:"",unkNum:void 0,channelId:void 0,translateCommentParams:void 0}}const fS={encode(t,e=new P){return t.type!==0&&e.uint32(8).int32(t.type),t.commentId!==""&&e.uint32(26).string(t.commentId),t.videoId!==""&&e.uint32(42).string(t.videoId),t.unkNum!==void 0&&e.uint32(16).int32(t.unkNum),t.channelId!==void 0&&e.uint32(186).string(t.channelId),t.translateCommentParams!==void 0&&Of.encode(t.translateCommentParams,e.uint32(250).fork()).join(),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=pS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.type=i.int32();continue;case 3:if(o!==26)break;s.commentId=i.string();continue;case 5:if(o!==42)break;s.videoId=i.string();continue;case 2:if(o!==16)break;s.unkNum=i.int32();continue;case 23:if(o!==186)break;s.channelId=i.string();continue;case 31:if(o!==250)break;s.translateCommentParams=Of.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function mS(){return{params:void 0,commentId:"",targetLanguage:""}}const Of={encode(t,e=new P){return t.params!==void 0&&Lf.encode(t.params,e.uint32(26).fork()).join(),t.commentId!==""&&e.uint32(18).string(t.commentId),t.targetLanguage!==""&&e.uint32(34).string(t.targetLanguage),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=mS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 3:if(o!==26)break;s.params=Lf.decode(i,i.uint32());continue;case 2:if(o!==18)break;s.commentId=i.string();continue;case 4:if(o!==34)break;s.targetLanguage=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function _S(){return{comment:void 0}}const Lf={encode(t,e=new P){return t.comment!==void 0&&Bf.encode(t.comment,e.uint32(10).fork()).join(),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=_S();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.comment=Bf.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function bS(){return{text:""}}const Bf={encode(t,e=new P){return t.text!==""&&e.uint32(10).string(t.text),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=bS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.text=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function yS(){return{params:void 0}}const gS={encode(t,e=new P){return t.params!==void 0&&Vf.encode(t.params,e.uint32(746).fork()).join(),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=yS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 93:if(o!==746)break;s.params=Vf.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function wS(){return{hashtag:"",type:0}}const Vf={encode(t,e=new P){return t.hashtag!==""&&e.uint32(10).string(t.hashtag),t.type!==0&&e.uint32(24).int32(t.type),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=wS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.hashtag=i.string();continue;case 3:if(o!==24)break;s.type=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function vS(){return{shortId:"",params:void 0,feature2:0,feature3:0}}const xS={encode(t,e=new P){return t.shortId!==""&&e.uint32(10).string(t.shortId),t.params!==void 0&&Uf.encode(t.params,e.uint32(42).fork()).join(),t.feature2!==0&&e.uint32(80).int32(t.feature2),t.feature3!==0&&e.uint32(104).int32(t.feature3),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=vS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.shortId=i.string();continue;case 5:if(o!==42)break;s.params=Uf.decode(i,i.uint32());continue;case 10:if(o!==80)break;s.feature2=i.int32();continue;case 13:if(o!==104)break;s.feature3=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function kS(){return{number:0}}const Uf={encode(t,e=new P){return t.number!==0&&e.uint32(24).int32(t.number),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=kS();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 3:if(o!==24)break;s.number=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function SS(t,e){const i=xb.encode({id:t,timestamp:e});return encodeURIComponent(jt(i.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}function TS(t){return xb.decode(YC(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}function Sb(t,e={}){const i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}const n=fS.encode(i);return encodeURIComponent(jt(n.finish()))}class bu extends l{constructor(e){super(),this.popup=m(e.popup),this.popup_type=e.popupType}}bu.type="OpenPopupAction";class E extends l{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new y(e.navigationEndpoint||e.serviceEndpoint||e.command)}}E.type="Button";class yu extends l{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new y(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}}yu.type="DropdownItem";class yo extends l{constructor(e){super(),this.label=e.label||"",this.entries=k(e.entries,yu)}}yo.type="Dropdown";class gu extends l{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=m(e.privacyOption,yo),this.create_button=m(e.cancelButton,E),this.cancel_button=m(e.cancelButton,E)}}gu.type="CreatePlaylistDialog";class y extends l{constructor(e){var i,n,s,o,r,c,h,d;if(super(),e){if(e.serialCommand||e.parallelCommand){const p=e.serialCommand||e.parallelCommand;this.commands=p.commands.map(_=>new y(_))}(e.innertubeCommand||e.command||e.performOnceCommand)&&(e=e.innertubeCommand||e.command||e.performOnceCommand)}this.command=Fv(e),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new bu(e.openPopupAction)),this.name=Object.keys(e||{}).find(p=>p.endsWith("Endpoint")||p.endsWith("Command")),this.payload=this.name?Reflect.get(e,this.name):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=m(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=m(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new y(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},(n=(i=e==null?void 0:e.commandMetadata)==null?void 0:i.webCommandMetadata)!=null&&n.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),(o=(s=e==null?void 0:e.commandMetadata)==null?void 0:s.webCommandMetadata)!=null&&o.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),(c=(r=e==null?void 0:e.commandMetadata)==null?void 0:r.webCommandMetadata)!=null&&c.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):this.name&&(this.metadata.api_url=this.getPath(this.name)),(d=(h=e==null?void 0:e.commandMetadata)==null?void 0:h.webCommandMetadata)!=null&&d.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=m(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,gu))}getPath(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An API caller must be provided");if(this.command){const n=this.command;return e.execute(n.getApiPath(),{...n.buildRequest(),...i})}if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found.");return e.execute(this.metadata.api_url,{...this.payload,...i})}toURL(){if(this.metadata.url&&this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}}y.type="NavigationEndpoint";class C{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(n=>new C(n)).sort((n,s)=>s.width-n.width):[]}}class CS{constructor(e){var i,n,s,o,r,c;this.text=((i=e.emoji)==null?void 0:i.emojiId)||((s=(n=e.emoji)==null?void 0:n.shortcuts)==null?void 0:s[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((o=e.emoji)==null?void 0:o.shortcuts)||[],search_terms:((r=e.emoji)==null?void 0:r.searchTerms)||[],image:C.fromResponse(e.emoji.image),is_custom:!!((c=e.emoji)!=null&&c.isCustomEmoji)}}toString(){return this.text}toHTML(){const e=Tb(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}}class IS{constructor(e){this.text=e.text,this.bold=!!e.bold,this.italics=!!e.italics,this.strikethrough=!!e.strikethrough,this.deemphasize=!!e.deemphasize,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new y(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){const e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s"),this.deemphasize&&e.push("small");const i=Tb(this.text),s=`<span style="white-space: pre-wrap;">${e.map(o=>`<${o}>`).join("")+i+e.map(o=>`</${o}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){const{url:o}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){const r=this.endpoint.toURL();if(r)return`<a href="${r}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${o}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${s}</a>`}}if(this.endpoint){const o=this.endpoint.toURL();if(o)return`<a href="${o}">${s}</a>`}return s}}function Tb(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}const gs="Text";let u=class Cb{constructor(e){var i,n,s,o;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(r=>r.emoji?new CS(r):new IS(r)),this.text=this.runs.map(r=>r.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new y(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new y(e.titleNavigationEndpoint)),this.endpoint||(n=(i=this.runs)==null?void 0:i[0])!=null&&n.endpoint&&(this.endpoint=(o=(s=this.runs)==null?void 0:s[0])==null?void 0:o.endpoint)}static fromAttributed(e){var c,h,d;const{content:i,styleRuns:n,commandRuns:s,attachmentRuns:o}=e,r=[{text:i,startIndex:0}];if(n||s||o){if(n)for(const p of n)if(p.italic||p.strikethrough==="LINE_STYLE_SINGLE"||p.weightLabel==="FONT_WEIGHT_MEDIUM"||p.weightLabel==="FONT_WEIGHT_BOLD"){const _=Qa(r,p);if(!_){Oe(gs,"Unable to find matching run for style run. Skipping...",{style_run:p,input_data:e,parsed_runs:JSON.parse(JSON.stringify(r))});continue}Ho(r,_,p,{bold:p.weightLabel==="FONT_WEIGHT_MEDIUM"||p.weightLabel==="FONT_WEIGHT_BOLD",italics:p.italic,strikethrough:p.strikethrough==="LINE_STYLE_SINGLE"})}else to(gs,"Skipping style run as it is doesn't have any information that we parse.",{style_run:p,input_data:e});if(s)for(const p of s)if(p.onTap){const _=Qa(r,p);if(!_){Oe(gs,"Unable to find matching run for command run. Skipping...",{command_run:p,input_data:e,parsed_runs:JSON.parse(JSON.stringify(r))});continue}Ho(r,_,p,{navigationEndpoint:p.onTap})}else to(gs,'Skipping command run as it is missing the "doTap" property.',{command_run:p,input_data:e});if(o)for(const p of o){const _=Qa(r,p);if(!_){Oe(gs,"Unable to find matching run for attachment run. Skipping...",{attachment_run:p,input_data:e,parsed_runs:JSON.parse(JSON.stringify(r))});continue}if(p.length===0)_.attachment=p;else{const b=p.startIndex-_.startIndex,w=_.text.substring(b,b+p.length),v=/^:[^:]+:$/.test(w);if((d=(h=(c=p.element)==null?void 0:c.type)==null?void 0:h.imageType)!=null&&d.image&&(v||new RegExp("^(?:\\p{Emoji}|\\u200d)+$","u").test(w))){const S={image:p.element.type.imageType.image,isCustomEmoji:v,shortcuts:v?[w]:void 0};Ho(r,_,p,{emoji:S})}else Ho(r,_,p,{attachment:p})}}}return new Cb({runs:r})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};function Qa(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}function Ho(t,e,i,n){const s=t.indexOf(e),o=[],r=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&o.push({...e,text:e.text.substring(0,r)}),o.push({...e,text:e.text.substring(r,r+i.length),startIndex:i.startIndex,...n}),i.startIndex+i.length<e.startIndex+e.text.length&&o.push({...e,text:e.text.substring(r+i.length),startIndex:i.startIndex+i.length}),t.splice(s,1,...o)}class wu extends l{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=C.fromResponse(e.favicon)}}wu.type="ChannelExternalLinkView";class vu extends l{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new y(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=k(e.links,wu):this.links=[]}}vu.type="AboutChannelView";class xu extends l{constructor(e){super(),this.metadata=m(e.metadata,vu),this.share_channel=m(e.shareChannel,E)}}xu.type="AboutChannel";class ku extends l{constructor(e){super(),this.title=new u(e.title),this.endpoint=new y(e.navigationEndpoint)}}ku.type="AccountChannel";class Gr extends l{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=C.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new y(e.serviceEndpoint),this.account_byline=new u(e.accountByline),this.channel_handle=new u(e.channelHandle)}}Gr.type="AccountItem";class Su extends l{constructor(e){super(),this.title=new u(e.title)}}Su.type="AccountItemSectionHeader";class go extends l{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new y(e.navigationEndpoint),this.style=e.style}}go.type="CompactLink";class Tu extends l{constructor(e){super(),this.contents=k(e.contents,[Gr,go]),this.header=m(e.header,Su)}}Tu.type="AccountItemSection";class Cu extends l{constructor(e){super(),this.contents=k(e.contents,Tu),this.footers=k(e.footers,ku)}}Cu.type="AccountSectionList";class qr extends l{constructor(e){super(),this.contents=k(e.continuationItems),this.target=e.target}}qr.type="AppendContinuationItemsAction";class Ib extends l{constructor(e){super(),this.target_id=e.targetId,this.visibility=e.visibility}}Ib.type="ChangeEngagementPanelVisibilityAction";class Iu extends l{constructor(e){super(),this.header=m(e.header),this.sections=k(e.sections),this.style=e.style}}Iu.type="MultiPageMenu";class Eb extends l{constructor(e){super(),this.menu=m(e.menu,Iu)}}Eb.type="GetMultiPageMenuAction";class Rb extends l{constructor(e){super(),this.bucket=e.bucket}}Rb.type="SendFeedbackAction";class Pb extends l{constructor(e){super(),this.signal=e.signal}}Pb.type="SignalAction";class Eu extends l{constructor(e){super(),this.header=m(e.header),this.contents=ne(e.contents,!0)}}Eu.type="ChannelSwitcherPage";class Ab extends l{constructor(e){super();const i=m(e.page,Eu);i&&(this.header=i.header,this.contents=i.contents)}}Ab.type="UpdateChannelSwitcherPageAction";class Mi extends l{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var n,s;return{title:i.title,selected:i.selected,continuation:(s=(n=i.continuation)==null?void 0:n.reloadContinuationData)==null?void 0:s.continuation,endpoint:new y(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}}Mi.type="SortFilterSubMenu";class Ru extends l{constructor(e){super(),this.language_menu=m(e.languageMenu,Mi)}}Ru.type="TranscriptFooter";class Pu extends l{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=m(e.clearButton,E),this.endpoint=new y(e.onTextChangeCommand),this.search_button=m(e.searchButton,E)}}Pu.type="TranscriptSearchBox";class Au extends l{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}}Au.type="TranscriptSectionHeader";class Mu extends l{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}}Mu.type="TranscriptSegment";class Nu extends l{constructor(e){super(),this.initial_segments=k(e.initialSegments,[Mu,Au]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}}Nu.type="TranscriptSegmentList";class Du extends l{constructor(e){super(),this.header=m(e.header,Pu),this.body=m(e.body,Nu),this.footer=m(e.footer,Ru),this.target_id=e.targetId}}Du.type="TranscriptSearchPanel";class Yr extends l{constructor(e){super(),this.content=m(e.content,Du)}}Yr.type="Transcript";class Mb extends l{constructor(e){super(),this.target_id=e.targetId,this.content=m(e.content,Yr)}}Mb.type="UpdateEngagementPanelAction";class Nb extends l{constructor(e){super(),this.channel_id=e.channelId,this.subscribed=e.subscribed}}Nb.type="UpdateSubscribeButtonAction";class Db extends l{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=C.fromResponse(e.accountPhoto),this.endpoint=new y(e.serviceEndpoint),this.manage_account_title=new u(e.manageAccountTitle),this.channel_handle=new u(e.channelHandle)}}Db.type="ActiveAccountHeader";class Ou extends l{constructor(e){super(),this.title=new u(e.title)}}Ou.type="MenuTitle";class Lu extends l{constructor(e){var i;super(),this.add_to_playlist_service_endpoint=new y(e.addToPlaylistServiceEndpoint),this.contains_selected_videos=e.containsSelectedVideos,this.playlist_id=e.playlistId,this.privacy=e.privacy,this.privacy_icon={icon_type:((i=e.privacyIcon)==null?void 0:i.iconType)||null},this.remove_from_playlist_service_endpoint=new y(e.removeFromPlaylistServiceEndpoint),this.title=new u(e.title)}}Lu.type="PlaylistAddToOption";class Ob extends l{constructor(e){super(),this.actions=k(e.actions,[Ou,E]),this.playlists=k(e.playlists,Lu)}}Ob.type="AddToPlaylist";class Kr extends l{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}}Kr.type="Alert";class Bu extends l{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=m(e.dismissButton,E)}}Bu.type="AlertWithButton";class Vu extends l{constructor(e){super(),this.text=u.fromAttributed(e.text),this.suffix=u.fromAttributed(e.suffix)}}Vu.type="AttributionView";class Uu extends l{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}}Uu.type="AudioOnlyPlayability";class wo extends l{constructor(e){var i,n;super(),(n=(i=e==null?void 0:e.content)==null?void 0:i.automixPlaylistVideoRenderer)!=null&&n.navigationEndpoint&&(this.playlist_video={endpoint:new y(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}}wo.type="AutomixPreviewVideo";class Fu extends l{constructor(e){super(),this.image=C.fromResponse(e.image),this.avatar_image_size=e.avatarImageSize,e.image.processor&&(this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}})}}Fu.type="AvatarView";class Ge extends l{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.button_type=e.type,this.button_size=e.buttonSize,this.on_tap=new y(e.onTap)}}Ge.type="ButtonView";class Lb extends l{constructor(e){super(),this.body_text=new u(e.bodyText),this.cta_button=m(e.ctaButton,[E,Ge]),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.title=new u(e.title)}}Lb.type="BackgroundPromo";class Wu extends l{constructor(e){super(),this.image=C.fromResponse(e.image),this.endpoint=new y(e.command)}}Wu.type="BackstageImage";class Le extends l{constructor(e){var n,s,o,r,c,h,d,p,_;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(n=e.defaultIcon)==null?void 0:n.iconType;const i=((r=(o=(s=e==null?void 0:e.defaultText)==null?void 0:s.accessibility)==null?void 0:o.accessibilityData)==null?void 0:r.label)||((h=(c=e==null?void 0:e.accessibilityData)==null?void 0:c.accessibilityData)==null?void 0:h.label)||((d=e==null?void 0:e.accessibility)==null?void 0:d.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(i.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=(_=(p=e.defaultServiceEndpoint)==null?void 0:p.commandExecutorCommand)!=null&&_.commands?new y(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new y(e.defaultServiceEndpoint),this.toggled_endpoint=new y(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}}Le.type="ToggleButton";class Hu extends l{constructor(e){var i,n;super(),this.creator_thumbnail=C.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(n=(i=e.heartColor)==null?void 0:i.basicColorPaletteData)==null?void 0:n.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}}Hu.type="CreatorHeart";class ju extends l{constructor(e){super(),this.like_button=m(e.likeButton,Le),this.dislike_button=m(e.dislikeButton,Le),this.reply_button=m(e.replyButton,E),this.creator_heart=m(e.creatorHeart,Hu)}}ju.type="CommentActionButtons";class mn extends l{constructor(e){super(),this.default_button=m(e.defaultButtonViewModel,Ge),this.toggled_button=m(e.toggledButtonViewModel,Ge),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}}mn.type="ToggleButtonView";class Gu extends l{constructor(e){super(),this.toggle_button=m(e.toggleButtonViewModel,mn),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}}Gu.type="LikeButtonView";class qu extends l{constructor(e){super(),this.toggle_button=m(e.toggleButtonViewModel,mn),this.dislike_entity_key=e.dislikeEntityKey}}qu.type="DislikeButtonView";class on extends l{constructor(e){if(super(),this.like_button=m(e.likeButtonViewModel,Gu),this.dislike_button=m(e.dislikeButtonViewModel,qu),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){const i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}}on.type="SegmentedLikeDislikeButtonView";class un extends E{constructor(e){super(e)}}un.type="MenuServiceItem";class $r extends l{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new y(e.command),this.target_id=e.targetId}}$r.type="DownloadButton";class Yu extends l{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new y(e.navigationEndpoint||e.serviceEndpoint)}}Yu.type="MenuServiceItemDownload";class Ku extends l{constructor(e){super(),this.menu_item=m(e.menuItem,[un,Yu]),this.top_level_button=m(e.topLevelButton,[$r,Ge,E])}}Ku.type="MenuFlexibleItem";class zr extends l{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new y(i)))}}zr.type="LikeButton";class Qr extends l{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:k(i.actions,[Ge,mn])})),this.style=e.style}}Qr.type="FlexibleActionsView";class te extends l{constructor(e){super(),this.items=k(e.items),this.flexible_items=k(e.flexibleItems,Ku),this.top_level_buttons=k(e.topLevelButtons,[Le,zr,E,Ge,on,Qr]),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}}te.type="Menu";class vo extends l{constructor(e){super(),this.id=e.postId,this.author=new z({...e.authorText,navigationEndpoint:e.authorEndpoint},null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=m(e.actionMenu,te)),Reflect.has(e,"actionButtons")&&(this.action_buttons=m(e.actionButtons,ju)),Reflect.has(e,"voteButton")&&(this.vote_button=m(e.voteButton,E)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new y(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=m(e.backstageAttachment)),this.surface=e.surface}}vo.type="BackstagePost";class Bb extends l{constructor(e){super(),this.post=m(e.post)}}Bb.type="BackstagePostThread";class Vb extends l{constructor(e){super(),this.text=e.badgeText,this.style=e.badgeStyle,this.accessibility_label=e.accessibilityLabel}}class $u extends l{constructor(e){super(),this.contents=k(e.contents)}}$u.type="BrowseFeedActions";class Ub extends l{constructor(e){super(),this.album=new u(e.album),this.thumbnails=C.fromResponse(e.thumbnailDetails)}}Ub.type="BrowserMediaSession";class Fb extends l{constructor(e){super(),this.title=e.title,this.icon_name=e.icon.sources[0].clientResource.imageName,this.on_tap_endpoint=new y(e.rendererContext.commandContext.onTap)}}Fb.type="ButtonCardView";class yc extends l{constructor(e){super(),this.endpoint=new y(e.navigationEndpoint),this.icon=C.fromResponse(e.icon),this.title=new u(e.title)}}yc.type="HeaderLink";class zu extends l{constructor(e){var i,n;super(),this.primary=X(((i=e.primaryLinks)==null?void 0:i.map(s=>new yc(s)))||[]),this.secondary=X(((n=e.secondaryLinks)==null?void 0:n.map(s=>new yc(s)))||[])}}zu.type="ChannelHeaderLinks";class Qu extends l{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}}Qu.type="ChannelHeaderLinksView";class Xu extends l{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}}Xu.type="ClipCreationTextInput";class Zu extends l{constructor(e){var i,n,s,o,r,c;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(n=(i=e.startAccessibility)==null?void 0:i.accessibilityData)==null?void 0:n.label,this.end_label=(o=(s=e.endAccessibility)==null?void 0:s.accessibilityData)==null?void 0:o.label,this.duration_label=(c=(r=e.durationAccessibility)==null?void 0:r.accessibilityData)==null?void 0:c.label}}Zu.type="ClipCreationScrubber";class Ju extends l{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}}Ju.type="ClipAdState";class el extends l{constructor(e){super(),this.user_avatar=C.fromResponse(e.userAvatar),this.title_input=m(e.titleInput,[Xu]),this.scrubber=m(e.scrubber,[Zu]),this.save_button=m(e.saveButton,[E]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=m(e.cancelButton,[E]),this.ad_state_overlay=m(e.adStateOverlay,[Ju]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}}el.type="ClipCreation";class tl extends l{constructor(e){super(),this.contents=ne(e.contents,!0,[el])}}tl.type="ClipSection";class xe extends l{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=m(e.button,E)),this.endpoint=new y(e.continuationEndpoint)}}xe.type="ContinuationItem";class il extends l{constructor(e){super(),this.title=new u(e.title),this.contextual_info=e.contextualInfo?new u(e.contextualInfo):void 0,this.visibility_button=m(e.visibilityButton,E),this.menu=m(e.menu)}}il.type="EngagementPanelTitleHeader";class nl extends l{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=m(e.menu,te)}}nl.type="MacroMarkersInfoItem";class Xr extends l{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=C.fromResponse(e.thumbnail),this.on_tap_endpoint=new y(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}}Xr.type="MacroMarkersListItem";class sl extends l{constructor(e){super(),this.contents=k(e.contents,[nl,Xr]),this.sync_button_label=new u(e.syncButtonLabel)}}sl.type="MacroMarkersList";class ol extends l{constructor(e){super(),this.contents=k(e.contents)}}ol.type="ProductList";class le extends l{constructor(e){super(),this.contents=k(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=m(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=m(e.subMenu))}}le.type="SectionList";class rl extends l{constructor(e){super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=u.fromAttributed(e.attributedDescriptionBodyText))}}rl.type="ExpandableVideoDescriptionBody";class no extends l{constructor(e){super(),this.thumbnails=C.fromResponse(e.thumbnail),this.endpoint=new y(e.searchEndpoint),this.query=new u(e.query).toString()}}no.type="SearchRefinementCard";class al extends l{constructor(e){super(),this.game=m(e.game)}}al.type="GameCard";class cl extends l{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=k(e.items)}get contents(){return this.items}}cl.type="HorizontalList";class ul extends l{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:C.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=m(e.expandedContent,[ko,cl]),this.expand_button=m(e.expandButton,E),this.collapse_button=m(e.collapseButton,E)}}ul.type="ExpandableMetadata";class Oi extends l{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}}Oi.type="MetadataBadge";class so extends l{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}}so.type="ThumbnailOverlayTimeStatus";class Zr extends l{constructor(e){var n,s,o;super();const i=((n=e.thumbnailOverlays.find(r=>r.thumbnailOverlayTimeStatusRenderer))==null?void 0:n.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(r=>({text:new u(r.snippetText),hover_text:new u(r.snippetHoverText)}))),this.expandable_metadata=m(e.expandableMetadata,ul),this.thumbnails=C.fromResponse(e.thumbnail),this.thumbnail_overlays=k(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=m(e.richThumbnail)),this.author=new z(e.ownerText,e.ownerBadges,(o=(s=e.channelThumbnailSupportedRenderers)==null?void 0:s.channelThumbnailWithLinkRenderer)==null?void 0:o.thumbnail),this.badges=k(e.badges,Oi),this.endpoint=new y(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(+`${e.upcomingEventData.startTime}000`)),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(i).toString(),seconds:pi(e.lengthText?new u(e.lengthText).toString():new u(i).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=m(e.menu,te),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey),Reflect.has(e,"bylineText")&&(this.byline_text=new u(e.bylineText))}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)==null?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(so))==null?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}}Zr.type="Video";class ll extends Zr{constructor(e){var i,n,s,o;super(e),Reflect.has(e,"metadataText")&&(this.metadata_text=new u(e.metadataText),this.metadata_text.text&&(this.short_view_count=new u({simpleText:(i=this.metadata_text.text.split("")[0])==null?void 0:i.trim()}),this.published=new u({simpleText:(n=this.metadata_text.text.split("")[1])==null?void 0:n.trim()}))),Reflect.has(e,"bylineText")&&(this.author=new z(e.bylineText,e.ownerBadges,(o=(s=e.channelThumbnailSupportedRenderers)==null?void 0:s.channelThumbnailWithLinkRenderer)==null?void 0:o.thumbnail))}}ll.type="VideoCard";class oo extends l{constructor(e){super(),this.image=C.fromResponse(e.image),this.style=e.style}}oo.type="ContentPreviewImageView";class xo extends l{constructor(e){var i;super(),(i=e.image)!=null&&i.sources?this.image=C.fromResponse(e.image):this.image=m(e.image,oo),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,Reflect.has(e,"secondarySubtitle")&&(this.secondary_subtitle={content:e.secondarySubtitle.content}),this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new y(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}}xo.type="VideoAttributeView";class ko extends l{constructor(e){super(),this.cards=k(e.cards,[xo,no,Xr,al,ll]),this.header=m(e.header),this.previous_button=m(e.previousButton,E),this.next_button=m(e.nextButton,E)}}ko.type="HorizontalCardList";class So extends l{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}}So.type="Factoid";class hl extends l{constructor(e){super(),this.factoid=m(e.factoid,So)}}hl.type="UploadTimeFactoid";class dl extends l{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=m(e.factoid,[So]),this.view_count_type=e.viewCountType}}dl.type="ViewCountFactoid";class pl extends l{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new y(e.channelNavigationEndpoint),this.channel_thumbnail=C.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=k(e.factoid,[So,dl,hl])}}pl.type="VideoDescriptionHeader";class fl extends l{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=m(e.creatorVideosButton,E),this.creator_about_button=m(e.creatorAboutButton,E),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=C.fromResponse(e.channelAvatar),this.channel_endpoint=new y(e.channelEndpoint)}}fl.type="VideoDescriptionInfocardsSection";class ml extends l{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}}ml.type="InfoRow";class Jr extends l{constructor(e){super(),this.id=e.videoId,this.thumbnails=C.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=m(e.richThumbnail)),this.title=new u(e.title),this.author=new z(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=k(e.badges,Oi),this.duration={text:new u(e.lengthText).toString(),seconds:pi(new u(e.lengthText).toString())},this.thumbnail_overlays=k(e.thumbnailOverlays),this.endpoint=new y(e.navigationEndpoint),this.menu=m(e.menu,te)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}}Jr.type="CompactVideo";class _l extends l{constructor(e){super(),this.info_rows=k(e.infoRows,ml),this.video_lockup=m(e.videoLockup,Jr)}}_l.type="CarouselLockup";class ea extends l{constructor(e){super(),this.carousel_lockups=k(e.carouselLockups,_l),this.section_title=new u(e.sectionTitle)}}ea.type="VideoDescriptionMusicSection";class gr extends l{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=m(e.primaryButton,E)}}gr.type="VideoDescriptionTranscriptSection";class bl extends l{constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new y(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}}bl.type="StructuredDescriptionPlaylistLockup";class yl extends l{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=k(e.mediaLockups,[bl])}}yl.type="VideoDescriptionCourseSection";class ta extends l{constructor(e){super(),this.title=new u(e.title),this.items=k(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new y(e.endpoint))}get contents(){return this.items}}ta.type="ReelShelf";class gl extends l{constructor(e){super(),this.header_title=e.headerTitle,this.header_subtitle=e.headerSubtitle,this.video_attributes=k(e.videoAttributeViewModels,xo),this.previous_button=m(e.previousButton,Ge),this.next_button=m(e.nextButton,Ge)}}gl.type="VideoAttributesSectionView";class ro extends l{constructor(e){super(),this.items=k(e.items,[pl,rl,ea,fl,yl,gr,gr,ko,ta,gl])}}ro.type="StructuredDescriptionContent";class To extends l{constructor(e){super(),this.header=m(e.header,il),this.content=m(e.content,[xo,le,xe,tl,ro,sl,ol]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}}To.type="EngagementPanelSectionList";class wl extends l{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:m(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,To),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new y(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}}wl.type="ChannelTagline";class vl extends l{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:ne(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}}vl.type="SubscriptionNotificationToggleButton";class zt extends l{constructor(e){var i,n;super(),this.button_text=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=m(e.notificationPreferenceButton,vl),Reflect.has(e,"serviceEndpoints")&&(this.service_endpoints=e.serviceEndpoints.map(s=>new y(s))),Reflect.has(e,"onSubscribeEndpoints")&&(this.on_subscribe_endpoints=e.onSubscribeEndpoints.map(s=>new y(s))),Reflect.has(e,"onUnsubscribeEndpoints")&&(this.on_unsubscribe_endpoints=e.onUnsubscribeEndpoints.map(s=>new y(s))),Reflect.has(e,"subscribedEntityKey")&&(this.subscribed_entity_key=e.subscribedEntityKey),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"subscribeAccessibility")&&(this.subscribe_accessibility_label=(i=e.subscribeAccessibility.accessibilityData)==null?void 0:i.label),Reflect.has(e,"unsubscribeAccessibility")&&(this.unsubscribe_accessibility_label=(n=e.unsubscribeAccessibility.accessibilityData)==null?void 0:n.label)}}zt.type="SubscribeButton";class Jn extends l{constructor(e){super(),this.author=new z({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=C.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=C.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=C.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=m(e.sponsorButton,E)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=m(e.subscribeButton,[zt,E])),Reflect.has(e,"headerLinks")&&(this.header_links=m(e.headerLinks,[zu,Qu])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=m(e.tagline,wl))}}Jn.type="C4TabbedHeader";class Wb extends l{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}}Wb.type="CallToActionButton";class Hb extends l{constructor(e){super(),this.teaser=m(e.teaser),this.content=m(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}}Hb.type="Card";class xl extends l{constructor(e){super(),this.cards=k(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}}xl.type="CardCollection";class kl extends l{constructor(e){super(),this.contents=k(e.contents)}}kl.type="CarouselHeader";class jb extends l{constructor(e){super(),this.items=k(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=C.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}}jb.type="CarouselItem";class Sl extends l{constructor(e){super(),this.icon_name=e.iconName,this.text=u.fromAttributed(e.text),this.on_tap_endpoint=new y(e.onTap),this.button=m(e.button,Ge)}}Sl.type="TextCarouselItemView";class Tl extends l{constructor(e){super(),this.item_type=e.itemType,this.carousel_item=m(e.carouselItem,Sl)}}Tl.type="CarouselItemView";class Cl extends l{constructor(e){super(),this.title=e.title,this.previous_button=m(e.previousButton,Ge),this.next_button=m(e.nextButton,Ge)}}Cl.type="CarouselTitleView";let Il=class extends l{constructor(e){super(),this.id=e.channelId,this.author=new z({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new y(e.navigationEndpoint),this.subscribe_button=m(e.subscribeButton,[zt,E]),this.description_snippet=new u(e.descriptionSnippet)}};Il.type="Channel";class wr extends l{constructor(e){var i;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=C.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=((i=e.primaryLinks)==null?void 0:i.map(n=>({endpoint:new y(n.navigationEndpoint),icon:C.fromResponse(n.icon),title:new u(n.title)})))??[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new y(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=k(e.actionButtons,E)}}wr.type="ChannelAboutFullMetadata";class Gb extends l{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=C.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=m(e.signInButton,E),this.secondary_text=new u(e.secondaryText)}}Gb.type="ChannelAgeGate";class qb extends l{constructor(e){super(),this.title=new u(e.title),this.items=k(e.items)}}qb.type="ChannelFeaturedContent";class El extends l{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=C.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}}El.type="ChannelMetadata";class Yb extends l{constructor(e){super(),this.title=new u(e.title)}}Yb.type="ChannelMobileHeader";class Rl extends l{constructor(e){super(),this.avatar=C.fromResponse(e.avatar),this.endpoint=new y(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}}Rl.type="ChannelOptions";class Kb extends l{constructor(e){super(),this.illustration=C.fromResponse(e.illustration),this.description=new u(e.description)}}Kb.type="ChannelOwnerEmptyState";class vr extends l{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new y(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=m(e.sortSetting)}}vr.type="ChannelSubMenu";class $b extends l{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"button")&&(this.button=m(e.button,E))}}$b.type="ChannelSwitcherHeader";class zb extends l{constructor(e){var i,n;super(),this.thumbnails=C.fromResponse(e.thumbnail),this.endpoint=new y(e.navigationEndpoint),this.label=(n=(i=e.accessibility)==null?void 0:i.accessibilityData)==null?void 0:n.label}}zb.type="ChannelThumbnailWithLink";class Qb extends l{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}}Qb.type="ChannelVideoPlayer";class Pl extends l{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=C.fromResponse(e.thumbnail)}}Pl.type="Chapter";class Xb extends l{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:pi(e.lengthText.simpleText)},this.endpoint=new y(e.navigationEndpoint)}}Xb.type="ChildVideo";class Al extends l{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new y(e.tapCommand),this.chip_entity_key=e.chipEntityKey}}Al.type="ChipView";class Zb extends l{constructor(e){super(),this.chips=k(e.chips,Al)}}Zb.type="ChipBarView";class He extends l{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new y(e.navigationEndpoint)),this.text=new u(e.text).toString()}}He.type="ChipCloudChip";class Ni extends l{constructor(e){super(),this.chips=k(e.chips,He),this.next_button=m(e.nextButton,E),this.previous_button=m(e.previousButton,E),this.horizontal_scrollable=e.horizontalScrollable}}Ni.type="ChipCloud";class Jb extends l{constructor(e){super(),this.text=new u(e.defaultText),this.icon_type=e.defaultIcon.iconType,this.toggled_text=new u(e.toggledText),this.toggled_icon_type=e.toggledIcon.iconType,Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.menu_item_identifier=e.menuItemIdentifier,this.endpoint=new y(e.command),Reflect.has(e,"loggingDirectives")&&(this.logging_directives={visibility:{types:e.loggingDirectives.visibility.types},enable_displaylogger_experiment:e.loggingDirectives.enableDisplayloggerExperiment})}}Jb.type="ClientSideToggleMenuItem";class ey extends l{constructor(e){super(),this.channel_avatar=C.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new y(e.endpoint)}}ey.type="CollaboratorInfoCardContent";class ty extends l{constructor(e){super(),this.left=C.fromResponse(e.leftThumbnail),this.top_right=C.fromResponse(e.topRightThumbnail),this.bottom_right=C.fromResponse(e.bottomRightThumbnail),this.endpoint=new y(e.navigationEndpoint)}}ty.type="CollageHeroImage";class Ml extends l{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=u.fromAttributed(e.text),this.style=e.style}}Ml.type="ThumbnailHoverOverlayView";class Nl extends l{constructor(e){super(),this.text=e.text,this.badge_style=e.badgeStyle,e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}),e.iconName&&(this.icon_name=e.icon.sources[0].clientResource.imageName)}}Nl.type="ThumbnailBadgeView";class Dl extends l{constructor(e){super(),this.badges=k(e.thumbnailBadges,Nl),this.position=e.position}}Dl.type="ThumbnailOverlayBadgeView";class Ol extends l{constructor(e){super(),this.image=C.fromResponse(e.image),this.overlays=k(e.overlays,[Dl,Ml]),e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}}Ol.type="ThumbnailView";class Ll extends l{constructor(e){super(),this.primary_thumbnail=m(e.primaryThumbnail,Ol),e.stackColor&&(this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme})}}Ll.type="CollectionThumbnailView";class iy extends l{constructor(e){super(),this.open_miniplayer=e.openMiniplayer,this.video_id=e.videoId,this.list_type=e.listType,this.endpoint=new y(e.onCreateListCommand),this.video_ids=e.videoIds}}iy.type="AddToPlaylistCommand";class ny extends l{constructor(e){super(),this.commands=KS(e.commands)}}ny.type="CommandExecutorCommand";var kt;let sy=class extends l{constructor(e){super(),kt.set(this,void 0),T(this,kt,e,"f")}getApiPath(){switch(a(this,kt,"f").request){case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":return"next";case"CONTINUATION_REQUEST_TYPE_BROWSE":return"browse";case"CONTINUATION_REQUEST_TYPE_SEARCH":return"search";case"CONTINUATION_REQUEST_TYPE_ACCOUNTS_LIST":return"account/accounts_list";case"CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU":return"notification/get_notification_menu";case"CONTINUATION_REQUEST_TYPE_COMMENT_REPLIES":return"comment/get_comment_replies";case"CONTINUATION_REQUEST_TYPE_REEL_WATCH_SEQUENCE":return"reel/reel_watch_sequence";case"CONTINUATION_REQUEST_TYPE_GET_PANEL":return"get_panel";default:return""}}buildRequest(){const e={};return a(this,kt,"f").formData&&(e.formData=a(this,kt,"f").formData),a(this,kt,"f").token&&(e.continuation=a(this,kt,"f").token),a(this,kt,"f").request==="CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU"&&(e.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_COMMENTS",a(this,kt,"f").token&&(e.fetchCommentsParams={continuation:a(this,kt,"f").token},delete e.continuation)),e}};kt=new WeakMap;sy.type="ContinuationCommand";var gc,xs;class oy extends l{constructor(e){super(),gc.set(this,"kids/get_kids_blocklist_picker"),xs.set(this,void 0),T(this,xs,e,"f")}getApiPath(){return a(this,gc,"f")}buildRequest(){const e={};return a(this,xs,"f").blockedForKidsContent&&(e.blockedForKidsContent=a(this,xs,"f").blockedForKidsContent),e}}gc=new WeakMap,xs=new WeakMap;oy.type="GetKidsBlocklistPickerCommand";class ry extends l{constructor(e){super(),this.engagement_type=e.engagementType,Reflect.has(e,"ids")&&(this.ids=e.ids.map(i=>({encrypted_video_id:i.encryptedVideoId,external_channel_id:i.externalChannelId,comment_id:i.commentId,external_owner_id:i.externalOwnerId,artist_id:i.artistId,playlist_id:i.playlistId,external_post_id:i.externalPostId,share_id:i.shareId})))}}ry.type="RunAttestationCommand";class ay extends l{constructor(e){var i;super(),this.inline_content=m((i=e.panelLoadingStrategy)==null?void 0:i.inlineContent),this.remove_default_padding=!!e.removeDefaultPadding}}ay.type="ShowDialogCommand";var zo;class cy extends l{constructor(e){super(),zo.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED",e.style="BADGE_STYLE_TYPE_VERIFIED"),T(this,zo,e,"f")}get orig_badge(){return a(this,zo,"f")}}zo=new WeakMap;cy.type="AuthorCommentBadge";class Bl extends l{constructor(e){super(),this.id=e.id,this.categories=k(e.categories),this.category_buttons=k(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}}Bl.type="EmojiPicker";class uy extends l{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=C.fromResponse(e.authorThumbnail),this.submit_button=m(e.submitButton,E),this.cancel_button=m(e.cancelButton,E),this.placeholder=new u(e.placeholderText),this.emoji_button=m(e.emojiButton,E),this.emoji_picker=m(e.emojiPicker,Bl)}}uy.type="CommentDialog";class Vl extends l{constructor(e){super(),this.contents=k(e.contents),this.view_replies=m(e.viewReplies,E),this.hide_replies=m(e.hideReplies,E),this.view_replies_creator_thumbnail=C.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}}Vl.type="CommentReplies";class Ul extends l{constructor(e){super(),this.reply_button=m(e.replyButton,E),this.cancel_button=m(e.cancelButton,E),this.author_thumbnail=C.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}}Ul.type="CommentReplyDialog";class Fl extends l{constructor(e){super(),this.simplebox_avatar=C.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}}Fl.type="CommentsSimplebox";class Wl extends l{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=C.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}}Wl.type="CommentsEntryPointTeaser";class Hl extends l{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=C.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=m(e.contentRenderer,[Wl,Fl])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}}Hl.type="CommentsEntryPointHeader";class Co extends l{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=m(e.createRenderer),this.sort_menu=m(e.sortMenu,Mi),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:C.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}}Co.type="CommentsHeader";class jl extends l{constructor(e){super(),this.submit_button=m(e.submitButton,E),this.cancel_button=m(e.cancelButton,E),this.author_thumbnail=C.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}}jl.type="CommentSimplebox";var Ve;class Io extends l{constructor(e){super(),Ve.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,n){e&&(this.content=u.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new z({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),n&&!Reflect.has(n,"prepareAccountCommand")&&(this.like_command=new y(n.likeCommand),this.dislike_command=new y(n.dislikeCommand),this.unlike_command=new y(n.unlikeCommand),this.undislike_command=new y(n.undislikeCommand),this.reply_command=new y(n.replyCommand))}async like(){if(!a(this,Ve,"f"))throw new g("Actions instance not set for this comment.");if(!this.like_command)throw new g("Like command not found.");if(this.is_liked)throw new g("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(a(this,Ve,"f"))}async dislike(){if(!a(this,Ve,"f"))throw new g("Actions instance not set for this comment.");if(!this.dislike_command)throw new g("Dislike command not found.");if(this.is_disliked)throw new g("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(a(this,Ve,"f"))}async unlike(){if(!a(this,Ve,"f"))throw new g("Actions instance not set for this comment.");if(!this.unlike_command)throw new g("Unlike command not found.");if(!this.is_liked)throw new g("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(a(this,Ve,"f"))}async undislike(){if(!a(this,Ve,"f"))throw new g("Actions instance not set for this comment.");if(!this.undislike_command)throw new g("Undislike command not found.");if(!this.is_disliked)throw new g("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(a(this,Ve,"f"))}async reply(e){var s;if(!a(this,Ve,"f"))throw new g("Actions instance not set for this comment.");if(!this.reply_command)throw new g("Reply command not found.");const i=(s=this.reply_command.dialog)==null?void 0:s.as(Ul);if(!i)throw new g("Reply dialog not found.");const n=i.reply_button;if(!n)throw new g("Reply button not found in the dialog.");if(!n.endpoint)throw new g("Reply button endpoint not found.");return n.endpoint.call(a(this,Ve,"f"),{commentText:e})}async translate(e){var h,d,p,_,b,w;if(!a(this,Ve,"f"))throw new g("Actions instance not set for this comment.");if(!this.content)throw new g("Comment content not found.",{comment_id:this.comment_id});const n={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},s=Sb(22,n),o=await a(this,Ve,"f").execute("comment/perform_comment_action",{action:s}),r=(d=(h=o.data.frameworkUpdates)==null?void 0:h.entityBatchUpdate)==null?void 0:d.mutations,c=(w=(b=(_=(p=r==null?void 0:r[0])==null?void 0:p.payload)==null?void 0:_.commentEntityPayload)==null?void 0:b.translatedContent)==null?void 0:w.content;return{...o,content:c}}setActions(e){T(this,Ve,e,"f")}}Ve=new WeakMap;Io.type="CommentView";var Qo,Ci,Ui,wc;class Gl extends l{constructor(e){super(),Qo.add(this),Ci.set(this,void 0),Ui.set(this,void 0),this.comment=m(e.commentViewModel,Io),this.comment_replies_data=m(e.replies,Vl),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}get has_continuation(){if(!this.replies)throw new g("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!a(this,Ui,"f")}async getReplies(){var n;if(!a(this,Ci,"f"))throw new g("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new g("This comment has no replies.",this);const e=(n=this.comment_replies_data.contents)==null?void 0:n.firstOfType(xe);if(!e)throw new g("Replies continuation not found.");const i=await e.endpoint.call(a(this,Ci,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new g("Unexpected response.",i);return this.replies=a(this,Qo,"m",wc).call(this,i.on_response_received_endpoints_memo),T(this,Ui,i.on_response_received_endpoints_memo.getType(xe).first(),"f"),this}async getContinuation(){var n;if(!this.replies)throw new g("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!a(this,Ui,"f"))throw new g("Continuation not found.");if(!a(this,Ci,"f"))throw new g("Actions instance not set for this thread.");const e=(n=a(this,Ui,"f").button)==null?void 0:n.as(E);if(!e)throw new g('"Load more" button not found.');const i=await e.endpoint.call(a(this,Ci,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new g("Unexpected response.",i);return this.replies=a(this,Qo,"m",wc).call(this,i.on_response_received_endpoints_memo),T(this,Ui,i.on_response_received_endpoints_memo.getType(xe).first(),"f"),this}setActions(e){T(this,Ci,e,"f")}}Ci=new WeakMap,Ui=new WeakMap,Qo=new WeakSet,wc=function(e){return X(e.getType(Io).map(i=>(i.setActions(a(this,Ci,"f")),i)))};Gl.type="CommentThread";class ly extends l{constructor(e){var i,n;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)==null?void 0:i.backgroundColor,foreground_title_color:(n=e.chipColorPalette)==null?void 0:n.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}}ly.type="PdgCommentChip";class hy extends l{constructor(e){super(),this.custom_badge=C.fromResponse(e.customBadge),this.tooltip=e.tooltip}}hy.type="SponsorCommentBadge";class dy extends l{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=C.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new y(e.navigationEndpoint),this.tv_banner=C.fromResponse(e.tvBanner),this.menu=m(e.menu,te)}}dy.type="CompactChannel";class ia extends l{constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail)}}ia.type="PlaylistCustomThumbnail";class na extends l{constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail)}}na.type="PlaylistVideoThumbnail";let hs=class extends l{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=(i=e.shortBylineText)!=null&&i.simpleText?new u(e.shortBylineText):new z(e.longBylineText,e.ownerBadges,null),this.thumbnails=C.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(n=>n.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=k(e.videos),this.share_url=e.shareUrl||null,this.menu=m(e.menu),this.badges=k(e.ownerBadges),this.endpoint=new y(e.navigationEndpoint),this.thumbnail_overlays=k(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=m(e.thumbnailRenderer,[na,ia])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};hs.type="Playlist";class py extends hs{constructor(e){super(e)}}py.type="CompactMix";class fy extends l{constructor(e){var s;super();const i=((s=e.thumbnailOverlays.find(o=>o.thumbnailOverlayTimeStatusRenderer))==null?void 0:s.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=C.fromResponse(e.thumbnail),this.thumbnail_overlays=k(e.thumbnailOverlays),this.author=new z(e.shortBylineText);const n=e.lengthText?new u(e.lengthText).toString():new u(i).toString();this.duration={text:n,seconds:pi(n)},this.endpoint=new y(e.navigationEndpoint),this.badges=k(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=m(e.menu,te)}}fy.type="CompactMovie";class my extends hs{constructor(e){super(e)}}my.type="CompactPlaylist";class _y extends l{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new y(e.navigationEndpoint),this.thumbnail=C.fromResponse(e.thumbnail)}}_y.type="CompactStation";class by extends l{constructor(e){super(),this.title=new u(e.title),this.confirm_button=m(e.confirmButton,E),this.cancel_button=m(e.cancelButton,E),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}}by.type="ConfirmDialog";class sa extends l{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var n;return{metadata_parts:(n=i.metadataParts)==null?void 0:n.map(s=>({text:u.fromAttributed(s.text||{})}))}}),this.delimiter=e.delimiter}}sa.type="ContentMetadataView";class Yt extends l{constructor(e){super(),this.text=new u(e.text)}}Yt.type="Message";class yy extends l{constructor(e){super(),this.availability_message=m(e.availabilityMessage,Yt)}}yy.type="ConversationBar";class oa extends l{constructor(e){super(),this.copy_button=m(e.copyButton,E),this.short_url=e.shortUrl,this.style=e.style}}oa.type="CopyLink";class ql extends l{constructor(e){super(),this.label=new u(e.label),this.placeholder_text=new u(e.placeholderText),this.disabled=!!e.disabled,this.dropdown_type=e.type,this.id=e.id,Reflect.has(e,"options")&&(this.options=e.options.map(i=>{var n;return{title:new u(i.title),subtitle:new u(i.subtitle),leading_image:C.fromResponse(i.leadingImage),value:{privacy_status_value:(n=i.value)==null?void 0:n.privacyStatusValue},on_tap:new y(i.onTap),is_selected:!!i.isSelected}}))}}ql.type="DropdownView";class Yl extends l{constructor(e){super(),Reflect.has(e,"displayProperties")&&(this.display_properties={isMultiline:!!e.displayProperties.isMultiline,disableNewLines:!!e.displayProperties.disableNewLines}),Reflect.has(e,"contentProperties")&&(this.content_properties={labelText:e.contentProperties.labelText,placeholderText:e.contentProperties.placeholderText,maxCharacterCount:e.contentProperties.maxCharacterCount}),Reflect.has(e,"initialState")&&(this.initial_state={isFocused:!!e.initialState.isFocused}),Reflect.has(e,"formFieldMetadata")&&(this.form_field_metadata={formId:e.formFieldMetadata.formId,fieldId:e.formFieldMetadata.fieldId})}}Yl.type="TextFieldView";class Kl extends l{constructor(e){super(),this.playlist_title=m(e.playlistTitle,Yl),this.playlist_visibility=m(e.playlistVisibility,ql),this.disable_playlist_collaborate=!!e.disablePlaylistCollaborate,this.create_playlist_params_collaboration_enabled=e.createPlaylistParamsCollaborationEnabled,this.create_playlist_params_collaboration_disabled=e.createPlaylistParamsCollaborationDisabled,this.video_ids=e.videoIds}}Kl.type="CreatePlaylistDialogFormView";class ra extends l{constructor(e){var i,n;super(),this.avatar=m(e.avatar,Fu),this.a11y_label=e.a11yLabel,(n=(i=e.rendererContext)==null?void 0:i.commandContext)!=null&&n.onTap&&(this.on_tap_endpoint=new y(e.rendererContext.commandContext.onTap))}}ra.type="DecoratedAvatarView";class $l extends l{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}}$l.type="HeatMarker";class zl extends l{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=k(e.heatMarkers,$l),this.heat_markers_decorations=k(e.heatMarkersDecorations)}}zl.type="Heatmap";class gy extends l{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=m(e.value.heatmap,zl)),Reflect.has(e.value,"chapters")&&(this.value.chapters=k(e.value.chapters,Pl)))}}gy.type="Marker";class Ql extends l{constructor(e){var i;super(),this.markers_map=X(((i=e.markersMap)==null?void 0:i.map(n=>new gy(n)))||[])}}Ql.type="MultiMarkersPlayerBar";class Xl extends l{constructor(e){super(),this.player_bar=m(e.playerBar,Ql),this.player_bar_action_button=m(e.playerBarActionButton,E)}}Xl.type="DecoratedPlayerBar";class wy extends l{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new y(e.navigationEndpoint),this.large_form_factor_background_thumbnail=m(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=m(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}}wy.type="DefaultPromoPanel";class Zl extends l{constructor(e){var i,n,s,o,r,c;if(super(),this.description=u.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=u.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,(s=(n=(i=e.rendererContext.commandContext)==null?void 0:i.onTap)==null?void 0:n.innertubeCommand)!=null&&s.showEngagementPanelEndpoint){const h=(c=(r=(o=e.rendererContext.commandContext)==null?void 0:o.onTap)==null?void 0:r.innertubeCommand)==null?void 0:c.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:m(h.engagementPanel,To),engagement_panel_popup_type:h.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:h.identifier.surface,tag:h.identifier.tag}}}}}}Zl.type="DescriptionPreviewView";class Jl extends l{constructor(e){super(),this.headline=u.fromAttributed(e.headline)}}Jl.type="DialogHeaderView";class eh extends l{constructor(e){super(),this.primary_button=m(e.primaryButton,Ge),this.secondary_button=m(e.secondaryButton,Ge),this.should_hide_divider=!!e.shouldHideDivider}}eh.type="PanelFooterView";class th extends l{constructor(e){super(),this.panel_footer=m(e.panelFooter,eh),this.form_id=e.formId,this.container_type=e.containerType}}th.type="FormFooterView";class vy extends l{constructor(e){super(),this.header=m(e.header,Jl),this.footer=m(e.footer,th),this.custom_content=m(e.customContent,Kl)}}vy.type="DialogView";class ih extends l{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new y(e.navigationEndpoint||e.correctedQueryEndpoint)}}ih.type="DidYouMean";class nh extends l{constructor(e){super(),this.text=u.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}}nh.type="DynamicTextView";class aa extends l{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)==null?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(n=>new aa(n)))}}aa.type="ChildElement";let sh=class xy extends l{constructor(e){var n;if(super(),Reflect.has(e,"elementRenderer"))return m(e,xy);const i=e.newElement.type.componentType;this.model=m(i==null?void 0:i.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=X(((n=e.newElement.childElements)==null?void 0:n.map(s=>new aa(s)))||[]))}};sh.type="Element";class ky extends l{constructor(e){super(),this.title=new u(e.title),this.first_option=m(e.firstOption),this.menu=m(e.menu,te)}}ky.type="EmergencyOnebox";class Sy extends l{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}}Sy.type="EmojiPickerCategory";class Ty extends l{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),this.tooltip=e.tooltip}}Ty.type="EmojiPickerCategoryButton";class Cy extends l{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new y(e.command),this.emoji_ids=e.emojiIds}}Cy.type="EmojiPickerUpsellCategory";var vc,St;class oh extends l{constructor(e){super(),vc.set(this,"playlist/get_add_to_playlist"),St.set(this,void 0),T(this,St,e,"f")}getApiPath(){return a(this,vc,"f")}buildRequest(){const e={};return e.videoIds=a(this,St,"f").videoIds?a(this,St,"f").videoIds:[a(this,St,"f").videoId],a(this,St,"f").playlistId&&(e.playlistId=a(this,St,"f").playlistId),a(this,St,"f").params&&(e.params=a(this,St,"f").params),e.excludeWatchLater=!!a(this,St,"f").excludeWatchLater,e}}vc=new WeakMap,St=new WeakMap;oh.type="AddToPlaylistServiceEndpoint";class Iy extends oh{constructor(e){super(e)}}Iy.type="AddToPlaylistEndpoint";var xc,Se;class Ey extends l{constructor(e){super(),xc.set(this,"browse"),Se.set(this,void 0),T(this,Se,e,"f")}getApiPath(){return a(this,xc,"f")}buildRequest(){const e={};return a(this,Se,"f").browseId&&(e.browseId=a(this,Se,"f").browseId),a(this,Se,"f").params&&(e.params=a(this,Se,"f").params),a(this,Se,"f").query&&(e.query=a(this,Se,"f").query),a(this,Se,"f").browseId==="FEsubscriptions"&&(e.subscriptionSettingsState=a(this,Se,"f").subscriptionSettingsState||"MY_SUBS_SETTINGS_STATE_LAYOUT_FORMAT_LIST"),a(this,Se,"f").browseId==="SPaccount_playback"&&(e.formData=a(this,Se,"f").formData||{accountSettingsFormData:{flagCaptionsDefaultOff:!1,flagAutoCaptionsDefaultOn:!1,flagDisableInlinePreview:!1,flagAudioDescriptionDefaultOn:!1}}),a(this,Se,"f").browseId==="FEwhat_to_watch"&&(a(this,Se,"f").browseRequestSupportedMetadata&&(e.browseRequestSupportedMetadata=a(this,Se,"f").browseRequestSupportedMetadata),a(this,Se,"f").inlineSettingStatus&&(e.inlineSettingStatus=a(this,Se,"f").inlineSettingStatus)),e}}xc=new WeakMap,Se=new WeakMap;Ey.type="BrowseEndpoint";var kc,be;class Ry extends l{constructor(e){super(),kc.set(this,"comment/create_comment"),be.set(this,void 0),T(this,be,e,"f")}getApiPath(){return a(this,kc,"f")}buildRequest(){const e={};if(a(this,be,"f").createCommentParams&&(e.createCommentParams=a(this,be,"f").createCommentParams),a(this,be,"f").commentText&&(e.commentText=a(this,be,"f").commentText),a(this,be,"f").attachedVideoId?e.videoAttachment={videoId:a(this,be,"f").attachedVideoId}:a(this,be,"f").pollOptions?e.pollAttachment={choices:a(this,be,"f").pollOptions}:a(this,be,"f").imageBlobId?e.imageAttachment={encryptedBlobId:a(this,be,"f").imageBlobId}:a(this,be,"f").sharedPostId&&(e.sharedPostAttachment={postId:a(this,be,"f").sharedPostId}),a(this,be,"f").accessRestrictions&&typeof a(this,be,"f").accessRestrictions=="number"){const i=a(this,be,"f").accessRestrictions===1?"RESTRICTION_TYPE_EVERYONE":"RESTRICTION_TYPE_SPONSORS_ONLY";e.accessRestrictions={restriction:i}}return a(this,be,"f").botguardResponse&&(e.botguardResponse=a(this,be,"f").botguardResponse),e}}kc=new WeakMap,be=new WeakMap;Ry.type="CreateCommentEndpoint";var Sc,Ue;class Py extends l{constructor(e){super(),Sc.set(this,"playlist/create"),Ue.set(this,void 0),T(this,Ue,e,"f")}getApiPath(){return a(this,Sc,"f")}buildRequest(){const e={};return a(this,Ue,"f").title&&(e.title=a(this,Ue,"f").title),a(this,Ue,"f").privacyStatus&&(e.privacyStatus=a(this,Ue,"f").privacyStatus),a(this,Ue,"f").description&&(e.description=a(this,Ue,"f").description),a(this,Ue,"f").videoIds&&(e.videoIds=a(this,Ue,"f").videoIds),a(this,Ue,"f").params&&(e.params=a(this,Ue,"f").params),a(this,Ue,"f").sourcePlaylistId&&(e.sourcePlaylistId=a(this,Ue,"f").sourcePlaylistId),e}}Sc=new WeakMap,Ue=new WeakMap;Py.type="CreatePlaylistServiceEndpoint";var Tc,ks;class Ay extends l{constructor(e){super(),Tc.set(this,"playlist/delete"),ks.set(this,void 0),T(this,ks,e,"f")}getApiPath(){return a(this,Tc,"f")}buildRequest(){const e={};return a(this,ks,"f").playlistId&&(e.playlistId=a(this,ks,"f").sourcePlaylistId),e}}Tc=new WeakMap,ks=new WeakMap;Ay.type="DeletePlaylistEndpoint";var Cc,ei;class My extends l{constructor(e){super(),Cc.set(this,"feedback"),ei.set(this,void 0),T(this,ei,e,"f")}getApiPath(){return a(this,Cc,"f")}buildRequest(){const e={};return a(this,ei,"f").feedbackToken&&(e.feedbackTokens=[a(this,ei,"f").feedbackToken]),a(this,ei,"f").cpn&&(e.feedbackContext={cpn:a(this,ei,"f").cpn}),e.isFeedbackTokenUnencrypted=!!a(this,ei,"f").isFeedbackTokenUnencrypted,e.shouldMerge=!!a(this,ei,"f").shouldMerge,e}}Cc=new WeakMap,ei=new WeakMap;My.type="FeedbackEndpoint";var Ic,de;class Ny extends l{constructor(e){super(),Ic.set(this,"account/accounts_list"),de.set(this,void 0),T(this,de,e,"f")}getApiPath(){return a(this,Ic,"f")}buildRequest(){const e={};return a(this,de,"f").requestType&&(e.requestType=a(this,de,"f").requestType,(a(this,de,"f").requestType==="ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER"||a(this,de,"f").requestType==="ACCOUNTS_LIST_REQUEST_TYPE_IDENTITY_PROMPT")&&a(this,de,"f").nextUrl&&(e.nextNavendpoint={urlEndpoint:{url:a(this,de,"f").nextUrl}})),a(this,de,"f").channelSwitcherQuery&&(e.channelSwitcherQuery=a(this,de,"f").channelSwitcherQuery),a(this,de,"f").triggerChannelCreation&&(e.triggerChannelCreation=a(this,de,"f").triggerChannelCreation),a(this,de,"f").contentOwnerConfig&&a(this,de,"f").contentOwnerConfig.externalContentOwnerId&&(e.contentOwnerConfig=a(this,de,"f").contentOwnerConfig),a(this,de,"f").obfuscatedSelectedGaiaId&&(e.obfuscatedSelectedGaiaId=a(this,de,"f").obfuscatedSelectedGaiaId),a(this,de,"f").selectedSerializedDelegationContext&&(e.selectedSerializedDelegationContext=a(this,de,"f").selectedSerializedDelegationContext),a(this,de,"f").callCircumstance&&(e.callCircumstance=a(this,de,"f").callCircumstance),e}}Ic=new WeakMap,de=new WeakMap;Ny.type="GetAccountsListInnertubeEndpoint";class Dy extends l{constructor(e){super(),this.panel_identifier=e.panelIdentifier}}Dy.type="HideEngagementPanelEndpoint";var Ec,Rc,Pc,Tt;class Oy extends l{constructor(e){super(),Ec.set(this,"like/like"),Rc.set(this,"like/dislike"),Pc.set(this,"like/removelike"),Tt.set(this,void 0),T(this,Tt,e,"f")}getApiPath(){return a(this,Tt,"f").status==="DISLIKE"?a(this,Rc,"f"):a(this,Tt,"f").status==="INDIFFERENT"?a(this,Pc,"f"):a(this,Ec,"f")}buildRequest(){const e={};a(this,Tt,"f").target&&(e.target=a(this,Tt,"f").target);const i=this.getParams();return i&&(e.params=i),e}getParams(){switch(a(this,Tt,"f").status){case"LIKE":return a(this,Tt,"f").likeParams;case"DISLIKE":return a(this,Tt,"f").dislikeParams;case"INDIFFERENT":return a(this,Tt,"f").removeLikeParams;default:return}}}Ec=new WeakMap,Rc=new WeakMap,Pc=new WeakMap,Tt=new WeakMap;Oy.type="LikeEndpoint";var Ac,Ss;class Ly extends l{constructor(e){super(),Ac.set(this,"live_chat/get_item_context_menu"),Ss.set(this,void 0),T(this,Ss,e,"f")}getApiPath(){return a(this,Ac,"f")}buildRequest(){const e={};return a(this,Ss,"f").params&&(e.params=a(this,Ss,"f").params),e}}Ac=new WeakMap,Ss=new WeakMap;Ly.type="LiveChatItemContextMenuEndpoint";var Mc,Fi;class By extends l{constructor(e){super(),Mc.set(this,"notification/modify_channel_preference"),Fi.set(this,void 0),T(this,Fi,e,"f")}getApiPath(){return a(this,Mc,"f")}buildRequest(){const e={};return a(this,Fi,"f").params&&(e.params=a(this,Fi,"f").params),a(this,Fi,"f").secondaryParams&&(e.secondaryParams=a(this,Fi,"f").secondaryParams),e}}Mc=new WeakMap,Fi=new WeakMap;By.type="ModifyChannelNotificationPreferenceEndpoint";var Nc,Wi;class Vy extends l{constructor(e){super(),Nc.set(this,"comment/perform_comment_action"),Wi.set(this,void 0),T(this,Wi,e,"f")}getApiPath(){return a(this,Nc,"f")}buildRequest(){const e={};return a(this,Wi,"f").actions&&(e.actions=a(this,Wi,"f").actions),a(this,Wi,"f").action&&(e.actions=[a(this,Wi,"f").action]),e}}Nc=new WeakMap,Wi=new WeakMap;Vy.type="PerformCommentActionEndpoint";var Dc,ti;class Uy extends l{constructor(e){super(),Dc.set(this,"browse/edit_playlist"),ti.set(this,void 0),T(this,ti,e,"f")}getApiPath(){return a(this,Dc,"f")}buildRequest(){const e={};return a(this,ti,"f").actions&&(e.actions=a(this,ti,"f").actions),a(this,ti,"f").playlistId&&(e.playlistId=a(this,ti,"f").playlistId),a(this,ti,"f").params&&(e.params=a(this,ti,"f").params),e}}Dc=new WeakMap,ti=new WeakMap;Uy.type="PlaylistEditEndpoint";var Oc,_e;class rh extends l{constructor(e){super(),Oc.set(this,"player"),_e.set(this,void 0),T(this,_e,e,"f")}getApiPath(){return a(this,Oc,"f")}buildRequest(){const e={};return a(this,_e,"f").videoId&&(e.videoId=a(this,_e,"f").videoId),a(this,_e,"f").playlistId&&(e.playlistId=a(this,_e,"f").playlistId),(a(this,_e,"f").index!==void 0||a(this,_e,"f").playlistIndex!==void 0)&&(e.playlistIndex=a(this,_e,"f").index||a(this,_e,"f").playlistIndex),(a(this,_e,"f").playerParams||a(this,_e,"f").params)&&(e.params=a(this,_e,"f").playerParams||a(this,_e,"f").params),a(this,_e,"f").startTimeSeconds&&(e.startTimeSecs=a(this,_e,"f").startTimeSeconds),a(this,_e,"f").overrideMutedAtStart&&(e.overrideMutedAtStart=a(this,_e,"f").overrideMutedAtStart),e.racyCheckOk=!!a(this,_e,"f").racyCheckOk,e.contentCheckOk=!!a(this,_e,"f").contentCheckOk,e}}Oc=new WeakMap,_e=new WeakMap;rh.type="WatchEndpoint";class Fy extends rh{constructor(e){super(e)}}Fy.type="PrefetchWatchCommand";var Lc,Pe;class Wy extends l{constructor(e){super(),Lc.set(this,"reel/reel_item_watch"),Pe.set(this,void 0),T(this,Pe,e,"f")}getApiPath(){return a(this,Lc,"f")}buildRequest(){const e={};return a(this,Pe,"f").videoId&&(e.playerRequest={videoId:a(this,Pe,"f").videoId}),e.playerRequest&&(a(this,Pe,"f").playerParams&&(e.playerRequest.params=a(this,Pe,"f").playerParams),a(this,Pe,"f").racyCheckOk&&(e.playerRequest.racyCheckOk=!!a(this,Pe,"f").racyCheckOk),a(this,Pe,"f").contentCheckOk&&(e.playerRequest.contentCheckOk=!!a(this,Pe,"f").contentCheckOk)),a(this,Pe,"f").params&&(e.params=a(this,Pe,"f").params),a(this,Pe,"f").inputType&&(e.inputType=a(this,Pe,"f").inputType),e.disablePlayerResponse=!!a(this,Pe,"f").disablePlayerResponse,e}}Lc=new WeakMap,Pe=new WeakMap;Wy.type="ReelWatchEndpoint";var Bc,Ct;class Hy extends l{constructor(e){super(),Bc.set(this,"search"),Ct.set(this,void 0),T(this,Ct,e,"f")}getApiPath(){return a(this,Bc,"f")}buildRequest(){const e={};return a(this,Ct,"f").query&&(e.query=a(this,Ct,"f").query),a(this,Ct,"f").params&&(e.params=a(this,Ct,"f").params),a(this,Ct,"f").webSearchboxStatsUrl&&(e.webSearchboxStatsUrl=a(this,Ct,"f").webSearchboxStatsUrl),a(this,Ct,"f").suggestStats&&(e.suggestStats=a(this,Ct,"f").suggestStats),e}}Bc=new WeakMap,Ct=new WeakMap;Hy.type="SearchEndpoint";var Vc,Hi;class ca extends l{constructor(e){super(),Vc.set(this,"share/get_share_panel"),Hi.set(this,void 0),T(this,Hi,e,"f")}getApiPath(){return a(this,Vc,"f")}buildRequest(){const e={};return a(this,Hi,"f").serializedShareEntity&&(e.serializedSharedEntity=a(this,Hi,"f").serializedShareEntity),a(this,Hi,"f").clientParams&&(e.clientParams=a(this,Hi,"f").clientParams),e}}Vc=new WeakMap,Hi=new WeakMap;ca.type="ShareEntityServiceEndpoint";class jy extends ca{constructor(e){super(e)}}jy.type="ShareEndpoint";class Gy extends ca{constructor(e){super(e)}}Gy.type="ShareEntityEndpoint";class qy extends l{constructor(e){super(),this.panel_identifier=e.panelIdentifier,this.source_panel_identifier=e.sourcePanelIdentifier}}qy.type="ShowEngagementPanelEndpoint";class Yy extends l{constructor(e){super(),Array.isArray(e.actions)&&(this.actions=k(e.actions.map(i=>(delete i.clickTrackingParams,i)))),this.signal=e.signal}}Yy.type="SignalServiceEndpoint";var Uc,nt;class Ky extends l{constructor(e){super(),Uc.set(this,"subscription/subscribe"),nt.set(this,void 0),T(this,nt,e,"f")}getApiPath(){return a(this,Uc,"f")}buildRequest(){const e={};return a(this,nt,"f").channelIds&&(e.channelIds=a(this,nt,"f").channelIds),a(this,nt,"f").siloName&&(e.siloName=a(this,nt,"f").siloName),a(this,nt,"f").params&&(e.params=a(this,nt,"f").params),a(this,nt,"f").botguardResponse&&(e.botguardResponse=a(this,nt,"f").botguardResponse),a(this,nt,"f").feature&&(e.clientFeature=a(this,nt,"f").feature),e}}Uc=new WeakMap,nt=new WeakMap;Ky.type="SubscribeEndpoint";var Fc,ii;class $y extends l{constructor(e){super(),Fc.set(this,"subscription/unsubscribe"),ii.set(this,void 0),T(this,ii,e,"f")}getApiPath(){return a(this,Fc,"f")}buildRequest(){const e={};return a(this,ii,"f").channelIds&&(e.channelIds=a(this,ii,"f").channelIds),a(this,ii,"f").siloName&&(e.siloName=a(this,ii,"f").siloName),a(this,ii,"f").params&&(e.params=a(this,ii,"f").params),e}}Fc=new WeakMap,ii=new WeakMap;$y.type="UnsubscribeEndpoint";var Wc,Ie;class zy extends l{constructor(e){super(),Wc.set(this,"next"),Ie.set(this,void 0),T(this,Ie,e,"f")}getApiPath(){return a(this,Wc,"f")}buildRequest(){const e={};return a(this,Ie,"f").videoId&&(e.videoId=a(this,Ie,"f").videoId),a(this,Ie,"f").playlistId&&(e.playlistId=a(this,Ie,"f").playlistId),(a(this,Ie,"f").index!==void 0||a(this,Ie,"f").playlistIndex!==void 0)&&(e.playlistIndex=a(this,Ie,"f").index||a(this,Ie,"f").playlistIndex),(a(this,Ie,"f").playerParams||a(this,Ie,"f").params)&&(e.params=a(this,Ie,"f").playerParams||a(this,Ie,"f").params),e.racyCheckOk=!!a(this,Ie,"f").racyCheckOk,e.contentCheckOk=!!a(this,Ie,"f").contentCheckOk,e}}Wc=new WeakMap,Ie=new WeakMap;zy.type="WatchNextEndpoint";class ah extends l{constructor(e){super(),this.elements=k(e.elements),this.start_ms=e.startMs}}ah.type="Endscreen";class Qy extends l{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new y(e.endpoint),Reflect.has(e,"image")&&(this.image=C.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=C.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=m(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=k(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}}Qy.type="EndscreenElement";class ch extends l{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new y(e.navigationEndpoint),this.thumbnails=C.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}}ch.type="EndScreenPlaylist";class uh extends l{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=C.fromResponse(e.thumbnail),this.thumbnail_overlays=k(e.thumbnailOverlays),this.author=new z(e.shortBylineText,e.ownerBadges),this.endpoint=new y(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=k(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}}uh.type="EndScreenVideo";class Xy extends l{constructor(e){super(),this.disclaimer=new u(e.disclaimer),this.info_icon={icon_type:e.infoIcon.iconType},this.usage_scenario=e.usageScenario}}Xy.type="EomSettingsDisclaimer";class qs extends l{constructor(e){super(),this.title=e.title,this.endpoint=new y(e.endpoint),this.selected=e.selected,this.content=m(e.content)}}qs.type="ExpandableTab";class Zy extends l{constructor(e){super(),this.items=k(e.items)}get contents(){return this.items}}Zy.type="ExpandedShelfContents";class Jy extends l{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}}Jy.type="FancyDismissibleDialog";class Di extends l{constructor(e){super(),this.contents=k(e.contents,He)}}Di.type="FeedFilterChipBar";class eg extends l{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.endpoint=new y(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}}eg.type="FeedNudge";class lh extends l{constructor(e){super(),this.title=new u(e.title)}}lh.type="FeedTabbedHeader";class tg extends l{constructor(e){super(),this.title=new u(e.title),this.box_art=C.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new y(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}}tg.type="GameDetails";class ao extends l{constructor(e){var i,n,s;super(),this.items=k(e.items),Reflect.has(e,"header")&&(this.header=m(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((s=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextContinuationData)==null?void 0:s.continuation)||null}get contents(){return this.items}}ao.type="Grid";class hh extends l{constructor(e){super(),this.id=e.channelId,this.author=new z({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new y(e.navigationEndpoint),this.subscribe_button=m(e.subscribeButton)}}hh.type="GridChannel";class ig extends l{constructor(e){super(),this.title=new u(e.title)}}ig.type="GridHeader";class ng extends l{constructor(e){var i,n;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=(i=e.shortBylineText)!=null&&i.simpleText?new u(e.shortBylineText):(n=e.longBylineText)!=null&&n.simpleText?new u(e.longBylineText):null,this.thumbnails=C.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new y(e.navigationEndpoint),this.secondary_endpoint=new y(e.secondaryNavigationEndpoint),this.thumbnail_overlays=k(e.thumbnailOverlays)}}ng.type="GridMix";class sg extends l{constructor(e){var n;super();const i=(n=e.thumbnailOverlays.find(s=>s.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:n.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=C.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):i!=null&&i.text?new u(i.text):null,this.endpoint=new y(e.navigationEndpoint),this.badges=k(e.badges,Oi),this.metadata=new u(e.metadata),this.thumbnail_overlays=k(e.thumbnailOverlays)}}sg.type="GridMovie";class dh extends l{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new z(e.shortBylineText,e.ownerBadges)),this.badges=k(e.ownerBadges),this.endpoint=new y(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=C.fromResponse(e.thumbnail),this.thumbnail_renderer=m(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)==null?void 0:i.map(n=>C.fromResponse(n)))||[]),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}}dh.type="GridPlaylist";class ph extends l{constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail)}}ph.type="ShowCustomThumbnail";class fh extends l{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}}fh.type="ThumbnailOverlayBottomPanel";class og extends l{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=m(e.thumbnailRenderer,ph),this.endpoint=new y(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=k(e.thumbnailOverlays,fh),this.author=new z(e.shortBylineText,void 0)}}og.type="GridShow";class mh extends l{constructor(e){var n,s;super();const i=(n=e.thumbnailOverlays.find(o=>o.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:n.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=C.fromResponse(e.thumbnail),this.thumbnail_overlays=k(e.thumbnailOverlays),this.rich_thumbnail=m(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):i!=null&&i.text?new u(i.text):null,this.author=e.shortBylineText&&new z(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new y(e.navigationEndpoint),this.menu=m(e.menu,te),Reflect.has(e,"buttons")&&(this.buttons=k(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(+`${e.upcomingEventData.startTime}000`),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!((s=e.upcomingEventData)!=null&&s.isReminderSet))}get is_upcoming(){return!!(this.upcoming&&this.upcoming>new Date)}}mh.type="GridVideo";class co extends l{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new y(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=C.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}}co.type="GuideEntry";class rg extends l{constructor(e){super(),this.expander_item=m(e.expanderItem,co),this.collapser_item=m(e.collapserItem,co),this.expandable_items=k(e.expandableItems)}}rg.type="GuideCollapsibleEntry";class ag extends l{constructor(e){super(),this.header_entry=m(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=k(e.sectionItems)}}ag.type="GuideCollapsibleSectionEntry";class cg extends co{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}}cg.type="GuideDownloadsEntry";class ua extends l{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=k(e.items)}}ua.type="GuideSection";class _h extends ua{}_h.type="GuideSubscriptionsSection";class bh extends l{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}}bh.type="HashtagHeader";class ug extends l{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=C.fromResponse(e.hashtagThumbnail),this.endpoint=new y(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}}ug.type="HashtagTile";class lg extends l{constructor(e){super(),this.thumbnails=C.fromResponse(e.thumbnail),this.on_tap_endpoint=new y(e.onTap)}}lg.type="HeroPlaylistThumbnail";let hg=class extends l{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:C.fromResponse(e.thumbnail.image),endpoint:new y(e.thumbnail.onTap),on_long_press_endpoint:new y(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:C.fromResponse(e.backgroundImage.image),gradient_image:C.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new y(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new y(e.textOnTap)}};hg.type="Panel";class xr extends l{constructor(e){super(),this.panels=X(e.highlightsCarousel.panels.map(i=>new hg(i)))}}xr.type="HighlightsCarousel";class yh extends l{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new y(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new y(e.serviceEndpoint))}}yh.type="SearchSuggestion";class dg extends yh{constructor(e){super(e)}}dg.type="HistorySuggestion";class pg extends l{constructor(e){super(),this.items=k(e.items),this.previous_button=m(e.previousButton,E),this.next_button=m(e.nextButton,E)}get contents(){return this.items}}pg.type="HorizontalMovieList";class gh extends l{constructor(e){var i;super(),this.icon_type=(i=e.icon)==null?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new y(e.navigationEndpoint)}}gh.type="IconLink";class wh extends l{constructor(e){super(),this.image=C.fromResponse(e.image),this.style=e.style}}wh.type="ImageBannerView";class fg extends l{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new y(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new y(e.originalQueryEndpoint):void 0}}fg.type="IncludingResultsFor";class vh extends l{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(i=>new u(i))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(i=>u.fromAttributed(i))),this.thumbnail=C.fromResponse(e.thumbnail),this.source_endpoint=new y(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}}vh.type="InfoPanelContent";class xh extends l{constructor(e){var i;super(),this.title=new u(e.title),this.menu=m(e.menu,te),this.content=m(e.content,vh),e.headerEndpoint&&(this.header_endpoint=new y(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType)}}xh.type="InfoPanelContainer";class kh extends l{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=k(e.badges,Oi),this.box_art=C.fromResponse(e.boxArt),this.banner=C.fromResponse(e.banner),this.buttons=k(e.buttons,[zt,E]),this.auto_generated=new u(e.autoGenerated)}}kh.type="InteractiveTabbedHeader";class la extends l{constructor(e){super(),this.title=new u(e.title)}}la.type="ItemSectionHeader";class Sh extends l{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new y(e.endpoint)}}Sh.type="Tab";class ha extends l{constructor(e){super(),this.title=new u(e.title),this.tabs=k(e.tabs,Sh),Reflect.has(e,"endItems")&&(this.end_items=k(e.endItems))}}ha.type="ItemSectionTabbedHeader";class Th extends l{constructor(e){super(),this.filter_menu=m(e.filterMenu,Mi)}}Th.type="SortFilterHeader";class at extends l{constructor(e){var i,n,s;super(),this.header=m(e.header,[Co,la,ha,Th,Di]),this.contents=k(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(s=(n=(i=e.continuations)==null?void 0:i.at(0))==null?void 0:n.nextContinuationData)==null?void 0:s.continuation)}}at.type="ItemSection";let Ch=class extends l{constructor(e){var i,n;super(),this.header=m(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(n=(i=e.continuations[0])==null?void 0:i.reloadContinuationData)==null?void 0:n.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};Ch.type="LiveChat";class Ih extends l{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=m(e.contextMenuButton,E)}}Ih.type="LiveChatBannerHeader";class Eh extends l{constructor(e){super(),this.header=m(e.header,Ih),this.contents=m(e.contents),this.action_id=e.actionId,Reflect.has(e,"viewerIsCreator")&&(this.viewer_is_creator=e.viewerIsCreator),this.target_id=e.targetId,this.is_stackable=e.isStackable,Reflect.has(e,"backgroundType")&&(this.background_type=e.backgroundType),this.banner_type=e.bannerType,Reflect.has(e,"bannerProperties")&&Reflect.has(e.bannerProperties,"isEphemeral")&&(this.banner_properties_is_ephemeral=!!e.bannerProperties.isEphemeral),Reflect.has(e,"bannerProperties")&&Reflect.has(e.bannerProperties,"autoCollapseDelay")&&Reflect.has(e.bannerProperties.autoCollapseDelay,"seconds")&&(this.banner_properties_auto_collapse_delay_seconds=e.bannerProperties.autoCollapseDelay.seconds)}}Eh.type="LiveChatBanner";class mg extends l{constructor(e){super(),this.banner=m(e.bannerRenderer,Eh)}}mg.type="AddBannerToLiveChatCommand";class Rh extends l{constructor(e){super(),this.item=m(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}}Rh.type="AddChatItemAction";class _g extends l{constructor(e){super(),this.item=m(e.item),this.duration_sec=e.durationSec}}_g.type="AddLiveChatTickerItemAction";class bg extends l{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}}bg.type="DimChatItemAction";class yg extends l{constructor(e){super(),this.menu_endpoint=new y(e.contextMenuEndpoint),this.moderation_buttons=k(e.moderationButtons,E),this.auto_moderated_item=m(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}}yg.type="LiveChatAutoModMessage";class gg extends l{constructor(e){super(),this.id=e.liveChatSummaryId,this.chat_summary=new u(e.chatSummary),this.icon_type=e.icon.iconType,this.like_feedback_button=m(e.likeFeedbackButton,mn),this.dislike_feedback_button=m(e.dislikeFeedbackButton,mn)}}gg.type="LiveChatBannerChatSummary";class wg extends l{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=C.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=m(e.contextMenuButton,E)}}wg.type="LiveChatBannerPoll";class vg extends l{constructor(e){super(),this.banner_message=new u(e.bannerMessage),this.author_photo=C.fromResponse(e.authorPhoto),this.inline_action_button=m(e.inlineActionButton,E),this.context_menu_button=m(e.contextMenuButton,E)}}vg.type="LiveChatBannerRedirect";class xg extends l{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new u(e.timestampText)),Reflect.has(e,"headerPrimaryText")&&(this.header_primary_text=new u(e.headerPrimaryText)),this.header_subtext=new u(e.headerSubtext),Reflect.has(e,"message")&&(this.message=new u(e.message)),this.author=new z(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new y(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}}xg.type="LiveChatMembershipItem";class kg extends l{constructor(e){super(),this.id=e.id,this.icon_type=e.icon.iconType,this.text=new u(e.text),this.subtext=new u(e.subtext),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,this.timestamp_text=new u(e.timestampText)}}kg.type="LiveChatModeChangeMessage";class Sg extends l{constructor(e){super(),this.message=new u(e.message),this.author=new z(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new y(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}}Sg.type="LiveChatPaidMessage";class Tg extends l{constructor(e){super(),this.id=e.id,this.author=new z(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=C.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new y(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}}Tg.type="LiveChatPaidSticker";class Cg extends l{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}}Cg.type="LiveChatPlaceholderItem";class Ig extends l{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=C.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=m(e.informationButton),this.endpoint=new y(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=C.fromResponse(e.authorPhoto),this.information_dialog=m(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}}Ig.type="LiveChatProductItem";class Eg extends l{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}}Eg.type="LiveChatRestrictedParticipation";class Ph extends Oi{constructor(e){super(e),this.custom_thumbnail=C.fromResponse(e.customThumbnail)}}Ph.type="LiveChatAuthorBadge";class Ah extends l{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=C.fromResponse(e.authorPhoto),this.author_badges=k(e.authorBadges,Ph),this.primary_text=new u(e.primaryText),this.menu_endpoint=new y(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.image=C.fromResponse(e.image)}}Ah.type="LiveChatSponsorshipsHeader";class Rg extends l{constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.author_external_channel_id=e.authorExternalChannelId,this.header=m(e.header,Ah)}}Rg.type="LiveChatSponsorshipsGiftPurchaseAnnouncement";class Pg extends l{constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.timestamp_text=new u(e.timestampText),this.author=new z(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.message=new u(e.message),this.menu_endpoint=new y(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}}Pg.type="LiveChatSponsorshipsGiftRedemptionAnnouncement";class Mh extends l{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=k(e.inlineActionButtons,E),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}}Mh.type="LiveChatMessageBase";class Ag extends Mh{constructor(e){super(e),this.author=new z(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new y(e.contextMenuEndpoint)}}Ag.type="LiveChatTextMessage";class Nh extends l{constructor(e){var i,n;super(),this.author=new z(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=m((n=(i=e.showItemEndpoint)==null?void 0:i.showLiveChatItemEndpoint)==null?void 0:n.renderer),this.show_item_endpoint=new y(e.showItemEndpoint),this.id=e.id}}Nh.type="LiveChatTickerPaidMessageItem";class Mg extends Nh{}Mg.type="LiveChatTickerPaidStickerItem";class Ng extends l{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new z(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}}Ng.type="LiveChatTickerSponsorItem";class Dg extends Mh{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=m(e.actionButton)}}Dg.type="LiveChatViewerEngagementMessage";class Og extends l{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=C.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=m(e.contextMenuButton,E)}}Og.type="PollHeader";class Dh extends l{constructor(e){super(),this.id=e.id,this.contents=ne(e.contents),this.target_id=e.targetId}}Dh.type="LiveChatActionPanel";class Lg extends l{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}}Lg.type="MarkChatItemAsDeletedAction";class Bg extends l{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}}Bg.type="MarkChatItemsByAuthorAsDeletedAction";class Vg extends l{constructor(e){super(),this.target_action_id=e.targetActionId}}Vg.type="RemoveBannerForLiveChatCommand";class Ug extends l{constructor(e){super(),this.target_item_id=e.targetItemId}}Ug.type="RemoveChatItemAction";class Fg extends l{constructor(e){super(),this.external_channel_id=e.externalChannelId}}Fg.type="RemoveChatItemByAuthorAction";class Wg extends l{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=m(e.replacementItem)}}Wg.type="ReplaceChatItemAction";class Hg extends l{constructor(e){var i;super(),this.actions=k((i=e.actions)==null?void 0:i.map(n=>(delete n.clickTrackingParams,n))),this.video_offset_time_msec=e.videoOffsetTimeMsec}}Hg.type="ReplayChatItemAction";class jg extends l{constructor(e){super(),this.panel_to_show=m(e.panelToShow,Dh)}}jg.type="ShowLiveChatActionPanelAction";class Gg extends l{constructor(e){super(),this.dialog=m(e.dialog)}}Gg.type="ShowLiveChatDialogAction";class qg extends l{constructor(e){super(),this.tooltip=m(e.tooltip)}}qg.type="ShowLiveChatTooltipCommand";class Oh extends l{constructor(e){super(),this.date_text=new u(e.dateText).toString()}}Oh.type="UpdateDateTextAction";class Lh extends l{constructor(e){super(),this.description=new u(e.description)}}Lh.type="UpdateDescriptionAction";class Yg extends l{constructor(e){super(),this.poll_to_update=m(e.pollToUpdate)}}Yg.type="UpdateLiveChatPollAction";class Bh extends l{constructor(e){super(),this.title=new u(e.title)}}Bh.type="UpdateTitleAction";class Vh extends l{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}}Vh.type="UpdateToggleButtonTextAction";class Uh extends l{constructor(e){super();const i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}}Uh.type="UpdateViewershipAction";class Kg extends l{constructor(e){super(),this.confirm_button=m(e.confirmButton,E),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}}Kg.type="LiveChatDialog";class Fh extends l{constructor(e){super(),this.overflow_menu=m(e.overflowMenu,te),this.collapse_button=m(e.collapseButton,E),this.view_selector=m(e.viewSelector,Mi)}}Fh.type="LiveChatHeader";class Wh extends l{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=m(e.moreCommentsBelowButton,E)}}Wh.type="LiveChatItemList";class $g extends l{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=C.fromResponse(e.authorPhoto),this.send_button=m(e.sendButton,E),this.target_id=e.targetId}}$g.type="LiveChatMessageInput";class Hh extends l{constructor(e){super(),this.name=new u(e.authorName),this.photo=C.fromResponse(e.authorPhoto),this.badges=k(e.authorBadges)}}Hh.type="LiveChatParticipant";class jh extends l{constructor(e){super(),this.title=new u(e.title),this.participants=k(e.participants,Hh)}}jh.type="LiveChatParticipantsList";class Gh extends l{constructor(e){super(),this.title=u.fromAttributed(e.title),this.metadata=m(e.metadata,sa),this.image=m(e.image,ra)}}Gh.type="LockupMetadataView";class qh extends l{constructor(e){super(),this.content_image=m(e.contentImage,Ll),this.metadata=m(e.metadata,Gh),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.on_tap_endpoint=new y(e.rendererContext.commandContext.onTap)}}qh.type="LockupView";class Yh extends E{constructor(e){super(e)}}Yh.type="MenuNavigationItem";class zg extends l{constructor(e){super(),this.items=k(e.items,[Yh,un])}}zg.type="MenuPopup";class Qg extends l{constructor(e){super(),this.items=ne(e.items)}get contents(){return this.items}}Qg.type="MultiPageMenuNotificationSection";class Kh extends l{constructor(e){super()}}Kh.type="MusicMenuItemDivider";class ln extends l{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new y(e.selectedCommand)),this.selected=!!this.endpoint}}ln.type="MusicMultiSelectMenuItem";class $h extends l{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)==null?void 0:i.primaryText)),this.options=k(e.options,[ln,Kh])}}$h.type="MusicMultiSelectMenu";class zh extends l{constructor(e){super(),this.title=new u(e.title),this.buttons=k(e.buttons,E)}}zh.type="SimpleMenuHeader";class Xg extends l{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=C.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new y(e.buttonCommand)}}Xg.type="MerchandiseItem";class Qh extends l{constructor(e){super(),this.title=e.title,this.menu=m(e.actionButton),this.items=k(e.items)}get contents(){return this.items}}Qh.type="MerchandiseShelf";class Zg extends l{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}}Zg.type="MetadataRow";class Xh extends l{constructor(e){super(),this.rows=k(e.rows),this.collapsed_item_count=e.collapsedItemCount}}Xh.type="MetadataRowContainer";class Jg extends l{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}}Jg.type="MetadataRowHeader";class ew extends l{constructor(e){super(),this.section_list=m(e)}}ew.type="MetadataScreen";class hn extends l{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=C.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}}hn.type="MicroformatData";class tw extends hs{constructor(e){super(e)}}tw.type="Mix";class iw extends l{constructor(e){super(),this.title=new u(e.title),this.content=new u(e.content),this.button=m(e.button,E)}}iw.type="ModalWithTitleAndButton";class nw extends l{constructor(e){var n,s,o;super();const i=((n=e.thumbnailOverlays.find(r=>r.thumbnailOverlayTimeStatusRenderer))==null?void 0:n.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=C.fromResponse(e.thumbnail),this.thumbnail_overlays=k(e.thumbnailOverlays),this.author=new z(e.longBylineText,e.ownerBadges,(o=(s=e.channelThumbnailSupportedRenderers)==null?void 0:s.channelThumbnailWithLinkRenderer)==null?void 0:o.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(i).toString(),seconds:pi(e.lengthText?new u(e.lengthText).toString():new u(i).toString())},this.endpoint=new y(e.navigationEndpoint),this.badges=k(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=m(e.menu,te)}}nw.type="Movie";class sw extends l{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)==null?void 0:i.thumbnails.map(n=>new C(n)).sort((n,s)=>s.width-n.width)}}sw.type="MovingThumbnail";class Zh extends l{constructor(e){super(),this.title=new u(e.title)}}Zh.type="MusicCardShelfHeaderBasic";class da extends l{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}}da.type="MusicInlineBadge";class pa extends l{constructor(e){var i,n;super(),this.endpoint=new y(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)==null?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(n=e.accessibilityPauseData.accessibilityData)==null?void 0:n.label),this.icon_color=e.iconColor}}pa.type="MusicPlayButton";class ds extends l{constructor(e){super(),this.content=m(e.content,pa),this.content_position=e.contentPosition,this.display_style=e.displayStyle}}ds.type="MusicItemThumbnailOverlay";class Kt extends l{constructor(e){super(),this.contents=C.fromResponse(e.thumbnail)}}Kt.type="MusicThumbnail";class Jh extends l{constructor(e){super(),this.thumbnail=m(e.thumbnail,Kt),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=k(e.buttons,E),this.menu=m(e.menu,te),this.on_tap=new y(e.onTap),this.header=m(e.header,Zh),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=k(e.subtitleBadges,da),this.thumbnail_overlay=m(e.thumbnailOverlay,ds),Reflect.has(e,"contents")&&(this.contents=k(e.contents))}}Jh.type="MusicCardShelf";class ed extends l{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=m(e.thumbnail,Kt)),Reflect.has(e,"moreContentButton")&&(this.more_content=m(e.moreContentButton,E)),Reflect.has(e,"endIcons")&&(this.end_icons=k(e.endIcons,gh))}}ed.type="MusicCarouselShelfBasicHeader";class td extends l{constructor(e){super(),this.thumbnail=m(e.thumbnail,Kt),this.overlay=m(e.overlay,ds),this.on_tap=new y(e.onTap),this.menu=m(e.menu,te),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}}td.type="MusicMultiRowListItem";class fa extends l{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new y(e.clickCommand)}}fa.type="MusicNavigationButton";class id extends l{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}}id.type="musicResponsiveListItemFlexColumnRenderer";class nd extends l{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}}nd.type="MusicResponsiveListItemFlexColumn";var rt,Gn,Hc,ow,Ff,Wf,rw,aw,cw,uw,lw,hw;class wn extends l{constructor(e){var n,s,o,r,c,h;super(),rt.add(this),Gn.set(this,void 0),this.flex_columns=k(e.flexColumns,nd),this.fixed_columns=k(e.fixedColumns,id),T(this,Gn,{video_id:((n=e==null?void 0:e.playlistItemData)==null?void 0:n.videoId)||null,playlist_set_video_id:((s=e==null?void 0:e.playlistItemData)==null?void 0:s.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new y(e.navigationEndpoint));let i=(h=(c=(r=(o=this.endpoint)==null?void 0:o.payload)==null?void 0:r.browseEndpointContextSupportedConfigs)==null?void 0:c.browseEndpointContextMusicConfig)==null?void 0:h.pageType;switch(i||this.flex_columns.find(p=>{var _,b,w,v;return((v=(w=(b=(_=p.title.endpoint)==null?void 0:_.payload)==null?void 0:b.browseEndpointContextSupportedConfigs)==null?void 0:w.browseEndpointContextMusicConfig)==null?void 0:v.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(i="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),i){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",a(this,rt,"m",lw).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",a(this,rt,"m",hw).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",a(this,rt,"m",rw).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",a(this,rt,"m",aw).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",a(this,rt,"m",cw).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",a(this,rt,"m",uw).call(this);break;default:this.flex_columns[1]?a(this,rt,"m",ow).call(this):a(this,rt,"m",Hc).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=m(e.thumbnail,Kt)),Reflect.has(e,"badges")&&(this.badges=k(e.badges)),Reflect.has(e,"menu")&&(this.menu=m(e.menu,te)),Reflect.has(e,"overlay")&&(this.overlay=m(e.overlay,ds))}get thumbnails(){var e;return((e=this.thumbnail)==null?void 0:e.contents)||[]}}Gn=new WeakMap,rt=new WeakSet,Hc=function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},ow=function(){var i,n,s,o,r,c,h;switch((h=(c=(r=(o=(s=(n=(i=this.flex_columns.at(0))==null?void 0:i.title.runs)==null?void 0:n.at(0))==null?void 0:s.endpoint)==null?void 0:o.payload)==null?void 0:r.watchEndpointMusicSupportedConfigs)==null?void 0:c.watchEndpointMusicConfig)==null?void 0:h.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",a(this,rt,"m",Wf).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",a(this,rt,"m",Ff).call(this);break;default:a(this,rt,"m",Hc).call(this)}},Ff=function(){var s,o,r,c,h,d,p,_,b,w,v,S,R,I,O;this.id=a(this,Gn,"f").video_id||((o=(s=this.endpoint)==null?void 0:s.payload)==null?void 0:o.videoId),this.title=this.flex_columns.first().title.toString();const e=((h=(c=(r=this.flex_columns.at(1))==null?void 0:r.title.runs)==null?void 0:c.find(N=>/^\d+$/.test(N.text.replace(/:/g,""))))==null?void 0:h.text)||((p=(d=this.fixed_columns.first())==null?void 0:d.title)==null?void 0:p.toString());e&&(this.duration={text:e,seconds:pi(e)});const i=((b=(_=this.flex_columns.at(1))==null?void 0:_.title.runs)==null?void 0:b.find(N=>tt(N)&&N.endpoint&&N.endpoint.payload.browseId.startsWith("MPR")))||((v=(w=this.flex_columns.at(2))==null?void 0:w.title.runs)==null?void 0:v.find(N=>tt(N)&&N.endpoint&&N.endpoint.payload.browseId.startsWith("MPR")));i&&tt(i)&&(this.album={id:(R=(S=i.endpoint)==null?void 0:S.payload)==null?void 0:R.browseId,name:i.text,endpoint:i.endpoint});const n=(O=(I=this.flex_columns.at(1))==null?void 0:I.title.runs)==null?void 0:O.filter(N=>tt(N)&&N.endpoint&&N.endpoint.payload.browseId.startsWith("UC"));n&&(this.artists=n.map(N=>{var q,Z;return{name:N.text,channel_id:tt(N)?(Z=(q=N.endpoint)==null?void 0:q.payload)==null?void 0:Z.browseId:void 0,endpoint:tt(N)?N.endpoint:void 0}}))},Wf=function(){var n,s,o,r,c,h,d,p,_,b;this.id=a(this,Gn,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(s=(n=this.flex_columns.at(1))==null?void 0:n.title.runs)==null?void 0:s.find(w=>w.text.match(/(.*?) views/)))==null?void 0:o.toString();const e=(c=(r=this.flex_columns.at(1))==null?void 0:r.title.runs)==null?void 0:c.filter(w=>tt(w)&&w.endpoint&&w.endpoint.payload.browseId.startsWith("UC"));e&&(this.authors=e.map(w=>{var v,S;return{name:w.text,channel_id:tt(w)?(S=(v=w.endpoint)==null?void 0:v.payload)==null?void 0:S.browseId:void 0,endpoint:tt(w)?w.endpoint:void 0}}));const i=((d=(h=this.flex_columns[1].title.runs)==null?void 0:h.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))==null?void 0:d.text)||((b=(_=(p=this.fixed_columns.first())==null?void 0:p.title.runs)==null?void 0:_.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))==null?void 0:b.text);i&&(this.duration={text:i,seconds:pi(i)})},rw=function(){var e,i,n,s,o,r;this.id=(i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(n=this.flex_columns.at(1))==null?void 0:n.title,this.subscribers=((r=(o=(s=this.subtitle)==null?void 0:s.runs)==null?void 0:o.find(c=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(c.text)))==null?void 0:r.text)||""},aw=function(){var e,i,n,s;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))==null?void 0:e.title,this.song_count=((s=(n=(i=this.subtitle)==null?void 0:i.runs)==null?void 0:n.find(o=>/^\d+(,\d+)? songs?$/i.test(o.text)))==null?void 0:s.text)||""},cw=function(){var e,i;this.id=a(this,Gn,"f").video_id||((i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},uw=function(){var e,i;this.id=(i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.browseId,this.title=this.flex_columns.first().title.toString()},lw=function(){var i,n,s,o,r,c,h,d,p;this.id=(n=(i=this.endpoint)==null?void 0:i.payload)==null?void 0:n.browseId,this.title=this.flex_columns.first().title.toString();const e=(o=(s=this.flex_columns.at(1))==null?void 0:s.title.runs)==null?void 0:o.find(_=>tt(_)&&_.endpoint&&_.endpoint.payload.browseId.startsWith("UC"));e&&tt(e)&&(this.author={name:e.text,channel_id:(c=(r=e.endpoint)==null?void 0:r.payload)==null?void 0:c.browseId,endpoint:e.endpoint}),this.year=(p=(d=(h=this.flex_columns.at(1))==null?void 0:h.title.runs)==null?void 0:d.find(_=>/^[12][0-9]{3}$/.test(_.text)))==null?void 0:p.text},hw=function(){var n,s,o,r,c,h,d,p;this.id=(s=(n=this.endpoint)==null?void 0:n.payload)==null?void 0:s.browseId,this.title=this.flex_columns.first().title.toString();const e=(r=(o=this.flex_columns.at(1))==null?void 0:o.title.runs)==null?void 0:r.find(_=>_.text.match(/\d+ (song|songs)/));this.item_count=e?e.text:void 0;const i=(h=(c=this.flex_columns.at(1))==null?void 0:c.title.runs)==null?void 0:h.find(_=>tt(_)&&_.endpoint&&_.endpoint.payload.browseId.startsWith("UC"));i&&tt(i)&&(this.author={name:i.text,channel_id:(p=(d=i.endpoint)==null?void 0:d.payload)==null?void 0:p.browseId,endpoint:i.endpoint})};wn.type="MusicResponsiveListItem";class ma extends l{constructor(e){var n,s,o,r,c,h,d,p,_,b,w,v,S,R,I,O,N,q,Z,pe,D,$;switch(super(),this.title=new u(e.title),this.endpoint=new y(e.navigationEndpoint),this.id=((s=(n=this.endpoint)==null?void 0:n.payload)==null?void 0:s.browseId)||((r=(o=this.endpoint)==null?void 0:o.payload)==null?void 0:r.videoId),this.subtitle=new u(e.subtitle),this.badges=ne(e.subtitleBadges),(p=(d=(h=(c=this.endpoint)==null?void 0:c.payload)==null?void 0:h.browseEndpointContextSupportedConfigs)==null?void 0:d.browseEndpointContextMusicConfig)==null?void 0:p.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((b=(_=this.endpoint)==null?void 0:_.metadata)==null?void 0:b.api_url)==="/next"?this.item_type="endpoint":(w=this.subtitle.runs)!=null&&w[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((S=(v=this.subtitle.runs)==null?void 0:v.find(V=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(V.text)))==null?void 0:S.text)||"";else if(this.item_type=="playlist"){const V=(R=this.subtitle.runs)==null?void 0:R.find(U=>U.text.match(/\d+ songs|song/));this.item_count=V?V.text:null}else if(this.item_type=="album"){const V=(I=this.subtitle.runs)==null?void 0:I.filter(U=>{var J,se;return(se=(J=U.endpoint)==null?void 0:J.payload)==null?void 0:se.browseId.startsWith("UC")});V&&(this.artists=V.map(U=>{var J,se;return{name:U.text,channel_id:(se=(J=U.endpoint)==null?void 0:J.payload)==null?void 0:se.browseId,endpoint:U.endpoint}})),this.year=(O=this.subtitle.runs)==null?void 0:O.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((q=(N=this==null?void 0:this.subtitle.runs)==null?void 0:N.find(U=>U==null?void 0:U.text.match(/(.*?) views/)))==null?void 0:q.text)||"N/A";const V=(Z=this.subtitle.runs)==null?void 0:Z.find(U=>{var J,se,Ye;return(Ye=(se=(J=U.endpoint)==null?void 0:J.payload)==null?void 0:se.browseId)==null?void 0:Ye.startsWith("UC")});V&&(this.author={name:V==null?void 0:V.text,channel_id:(D=(pe=V==null?void 0:V.endpoint)==null?void 0:pe.payload)==null?void 0:D.browseId,endpoint:V==null?void 0:V.endpoint})}else if(this.item_type=="song"){const V=($=this.subtitle.runs)==null?void 0:$.filter(U=>{var J,se;return(se=(J=U.endpoint)==null?void 0:J.payload)==null?void 0:se.browseId.startsWith("UC")});V&&(this.artists=V.map(U=>{var J,se;return{name:U==null?void 0:U.text,channel_id:(se=(J=U==null?void 0:U.endpoint)==null?void 0:J.payload)==null?void 0:se.browseId,endpoint:U==null?void 0:U.endpoint}}))}this.thumbnail=C.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=m(e.thumbnailOverlay,ds),this.menu=m(e.menu,te)}}ma.type="MusicTwoRowItem";class _t extends l{constructor(e){super(),this.header=m(e.header,ed),this.contents=k(e.contents,[ma,wn,td,fa]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}}_t.type="MusicCarouselShelf";class Eo extends l{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}}Eo.type="MusicDescriptionShelf";class _a extends l{constructor(e){var n,s,o,r,c,h,d,p,_;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((s=(n=this.subtitle.runs)==null?void 0:n.find(b=>/^[12][0-9]{3}$/.test(b.text)))==null?void 0:s.text)||"",this.song_count=((r=(o=this.second_subtitle.runs)==null?void 0:o[0])==null?void 0:r.text)||"",this.total_duration=((h=(c=this.second_subtitle.runs)==null?void 0:c[2])==null?void 0:h.text)||"",this.thumbnails=C.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=k(e.subtitleBadges);const i=(d=this.subtitle.runs)==null?void 0:d.find(b=>{var w,v;return(v=(w=b==null?void 0:b.endpoint)==null?void 0:w.payload)==null?void 0:v.browseId.startsWith("UC")});i&&(this.author={name:i.text,channel_id:(_=(p=i.endpoint)==null?void 0:p.payload)==null?void 0:_.browseId,endpoint:i.endpoint}),this.menu=m(e.menu)}}_a.type="MusicDetailHeader";class dw extends l{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}}dw.type="MusicDownloadStateBadge";class sd extends l{constructor(e){super(),this.header=m(e.header),this.edit_header=m(e.editHeader),this.playlist_id=e.playlistId}}sd.type="MusicEditablePlaylistDetailHeader";class kr extends l{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?m(e,sh):null}}kr.type="MusicElementHeader";class Ro extends l{constructor(e){super(),Reflect.has(e,"header")&&(this.header=m(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}}Ro.type="MusicHeader";class od extends l{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=m(e.thumbnail,Kt)}}od.type="MusicImmersiveHeader";class pw{constructor(e){this.icon_name=e.iconName,this.endpoint=new y(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}}pw.type="ActionButton";class fw{constructor(e){this.image=C.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new pw(i))}}fw.type="Panel";class mw extends l{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new fw(i))}}mw.type="MusicLargeCardItemCarousel";class _w extends l{constructor(e){super(),this.title=new u(e.title),this.edit_title=new u(e.editTitle),this.edit_description=new u(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new y(e.collaborationSettingsCommand),this.privacy_dropdown=m(e.privacyDropdown,yo)}}_w.type="MusicPlaylistEditHeader";class uo extends l{constructor(e){var i,n,s;super(),this.playlist_id=e.playlistId,this.contents=k(e.contents,wn),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((s=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextContinuationData)==null?void 0:s.continuation)||null}}uo.type="MusicPlaylistShelf";class ns extends l{constructor(e){var s,o,r,c,h;super(),this.title=new u(e.title),this.thumbnail=C.fromResponse(e.thumbnail),this.endpoint=new y(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:pi(new u(e.lengthText).toString())};const i=(s=new u(e.longBylineText).runs)==null?void 0:s.find(d=>{var p,_,b;return(b=(_=(p=d.endpoint)==null?void 0:p.payload)==null?void 0:_.browseId)==null?void 0:b.startsWith("MPR")}),n=(o=new u(e.longBylineText).runs)==null?void 0:o.filter(d=>{var p,_,b;return(b=(_=(p=d.endpoint)==null?void 0:p.payload)==null?void 0:_.browseId)==null?void 0:b.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),i&&(this.album={id:(c=(r=i.endpoint)==null?void 0:r.payload)==null?void 0:c.browseId,name:i.text,year:(h=new u(e.longBylineText).runs)==null?void 0:h.slice(-1)[0].text,endpoint:i.endpoint}),n&&(this.artists=n.map(d=>{var p,_;return{name:d.text,channel_id:(_=(p=d.endpoint)==null?void 0:p.payload)==null?void 0:_.browseId,endpoint:d.endpoint}})),this.badges=k(e.badges),this.menu=m(e.menu),this.set_video_id=e.playlistSetVideoId}}ns.type="PlaylistPanelVideo";class rd extends l{constructor(e){super(),this.primary=m(e.primaryRenderer,ns),Reflect.has(e,"counterpart")&&(this.counterpart=X(e.counterpart.map(i=>m(i.counterpartRenderer,ns))||[]))}}rd.type="PlaylistPanelVideoWrapper";class _n extends l{constructor(e){var i,n,s,o,r,c;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=k(e.contents,[rd,ns,wo]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((s=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextRadioContinuationData)==null?void 0:s.continuation)||((c=(r=(o=e.continuations)==null?void 0:o[0])==null?void 0:r.nextContinuationData)==null?void 0:c.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}}_n.type="PlaylistPanel";class ba extends l{constructor(e){super(),this.content=m(e.content,_n)}}ba.type="MusicQueue";class ya extends l{constructor(e){super(),this.thumbnail=m(e.thumbnail,Kt),this.buttons=k(e.buttons,[$r,Le,pa,E,te]),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.strapline_text_one=new u(e.straplineTextOne),this.strapline_thumbnail=m(e.straplineThumbnail,Kt),this.second_subtitle=new u(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=k(e.subtitleBadge,da)),Reflect.has(e,"description")&&(this.description=m(e.description,Eo))}}ya.type="MusicResponsiveHeader";class Ee extends l{constructor(e){var i,n,s,o;super(),this.title=new u(e.title),this.contents=k(e.contents,wn),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new y(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((n=(i=e.continuations)==null?void 0:i[0].nextContinuationData)==null?void 0:n.continuation)||((o=(s=e.continuations)==null?void 0:s[0].reloadContinuationData)==null?void 0:o.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=m(e.bottomButton,E)),Reflect.has(e,"subheaders")&&(this.subheaders=k(e.subheaders))}}Ee.type="MusicShelf";class ad extends l{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=k(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=k(e.endItems))}}ad.type="MusicSideAlignedItem";class Sr extends l{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=m(e.menu,$h)}}Sr.type="MusicSortFilterButton";class cd extends l{constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail)}}cd.type="MusicTastebuilderShelfThumbnail";class ud extends l{constructor(e){super(),this.thumbnail=m(e.thumbnail,cd),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=m(e.actionButton,E),this.is_visible=e.isVisible}}ud.type="MusicTasteBuilderShelf";class ld extends l{constructor(e){var i,n;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?C.fromResponse((i=e.thumbnail.musicThumbnailRenderer)==null?void 0:i.thumbnail):[],this.menu=m(e.menu,te),this.foreground_thumbnail=e.foregroundThumbnail?C.fromResponse((n=e.foregroundThumbnail.musicThumbnailRenderer)==null?void 0:n.thumbnail):[]}}ld.type="MusicVisualHeader";class bw extends l{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.buttons=k(e.buttons),Reflect.has(e,"logo")&&Reflect.has(e.logo,"iconType")&&(this.logo_type=e.logo.iconType)}}bw.type="MobileTopbar";class yw extends l{constructor(e){super(),this.items=k(e.items)}}yw.type="MultiPageMenuSection";class gw extends l{constructor(e){super(),this.items=k(e.items)}}gw.type="PivotBar";class ww extends l{constructor(e){super(),this.pivot_identifier=e.pivotIdentifier,this.endpoint=new y(e.navigationEndpoint),this.title=new u(e.title),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.accessibility_label=e.accessibility.accessibilityData.label),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}}ww.type="PivotBarItem";class vw extends l{constructor(e){super(),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.menu_renderer=m(e.menuRenderer),this.target_id=e.targetId}}vw.type="TopbarMenuButton";class hd extends l{constructor(e){super(),this.thumbnails=C.fromResponse(e.thumbnail),this.video_thumbnails=C.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new y(e.navigationEndpoint),this.record_click_endpoint=new y(e.recordClickEndpoint),this.menu=m(e.contextualMenu),this.read=e.read}}hd.type="Notification";class xw extends l{constructor(e){super(),this.response_text=new u(e.responseText)}}xw.type="NotificationAction";class dd extends l{constructor(e){super(),this.title=m(e.title,nh),this.image=m(e.image,[oo,ra]),this.animated_image=m(e.animatedImage,oo),this.metadata=m(e.metadata,sa),this.actions=m(e.actions,Qr),this.description=m(e.description,Zl),this.attributation=m(e.attributation,Vu),this.banner=m(e.banner,wh)}}dd.type="PageHeaderView";class dn extends l{constructor(e){super(),this.page_title=e.pageTitle,this.content=m(e.content,dd)}}dn.type="PageHeader";class pd extends l{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}}pd.type="PageIntroduction";class fd extends l{constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail),this.endpoint=new y(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}}fd.type="PivotButton";class md extends l{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:C.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new y(e.featuredChannel.navigationEndpoint),subscribe_button:m(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}}md.type="PlayerAnnotationsExpanded";class _d extends l{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}}_d.type="PlayerCaptionsTracklist";class bd extends l{constructor(e){super(),this.endpoint=new y(e.endpoint),this.enable_listen_first=e.enableListenFirst}}bd.type="PlayerOverflow";class kw extends l{constructor(e){super(),this.overflow=m(e.overflow,bd)}}kw.type="PlayerControlsOverlay";class Sw extends l{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=m(e.proceedButton,E),this.thumbnails=C.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}}Sw.type="PlayerErrorMessage";class Tw extends l{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}}Tw.type="PlayerLegacyDesktopYpcOffer";class yd extends l{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}}yd.type="YpcTrailer";class Tr extends l{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=m(e.ypcTrailer,yd)}}Tr.type="PlayerLegacyDesktopYpcTrailer";class gd extends l{constructor(e){super();const[i,n,s,o,r]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(n,10),thumbnail_height:parseInt(s,10),columns:parseInt(o,10),rows:parseInt(r,10)}}}gd.type="PlayerLiveStoryboardSpec";class Pt extends l{constructor(e){var i,n;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=C.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=(i=e.liveBroadcastDetails)!=null&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=(n=e.liveBroadcastDetails)!=null&&n.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}}Pt.type="PlayerMicroformat";class wd extends l{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=C.fromResponse(e.background),this.thumbnail_overlays=k(e.thumbnailOverlays),this.author=new z(e.byline),this.cancel_button=m(e.cancelButton,E),this.next_button=m(e.nextButton,E),this.close_button=m(e.closeButton,E)}}wd.type="PlayerOverlayAutoplay";class vd extends l{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle)}}vd.type="PlayerOverlayVideoDetails";class xd extends l{constructor(e){super(),this.results=k(e.results,[uh,ch]),this.title=new u(e.title).toString()}}xd.type="WatchNextEndScreen";class Po extends l{constructor(e){super(),this.end_screen=m(e.endScreen,xd),this.autoplay=m(e.autoplay,wd),this.share_button=m(e.shareButton,E),this.add_to_menu=m(e.addToMenu,te),this.fullscreen_engagement=m(e.fullscreenEngagement),this.actions=k(e.actions),this.browser_media_session=m(e.browserMediaSession),this.decorated_player_bar=m(e.decoratedPlayerBarRenderer,Xl),this.video_details=m(e.videoDetails,vd)}}Po.type="PlayerOverlay";class kd extends l{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new z({...e.ownerText,navigationEndpoint:e.ownerEndpoint},e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=m(e.saveButton),this.shuffle_play_button=m(e.shufflePlayButton),this.menu=m(e.moreActionsMenu),this.banner=m(e.playlistHeaderBanner)}}kd.type="PlaylistHeader";class Cw extends l{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=C.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new y(e.action)}}Cw.type="PlaylistInfoCardContent";class Sd extends l{constructor(e){super(),this.title=e.title,this.description=e.description||null}}Sd.type="PlaylistMetadata";class Iw extends l{constructor(e){super(),this.items=k(e.items)}get contents(){return this.items}}Iw.type="PlaylistSidebar";class Td extends l{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=m(e.thumbnailRenderer),this.title=new u(e.title),this.menu=m(e.menu),this.endpoint=new y(e.navigationEndpoint),this.description=new u(e.description)}}Td.type="PlaylistSidebarPrimaryInfo";class Cd extends l{constructor(e){super(),this.owner=m(e.videoOwner),this.button=m(e.button)}}Cd.type="PlaylistSidebarSecondaryInfo";class Ew extends l{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.text=new u(e.text)}}Ew.type="PlaylistThumbnailOverlay";class ga extends l{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new z(e.shortBylineText),this.thumbnails=C.fromResponse(e.thumbnail),this.thumbnail_overlays=k(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new y(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=m(e.menu,te),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);const i=e.upcomingEventData&&+`${e.upcomingEventData.startTime}000`;i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(so))==null?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(so))==null?void 0:e.style)==="UPCOMING"}}ga.type="PlaylistVideo";class Rw extends l{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=k(e.contents)}}Rw.type="PlaylistVideoList";class Pw extends l{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new y(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new y(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?C.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}}Pw.type="Poll";class wa extends vo{constructor(e){super(e)}}wa.type="Post";class Aw extends l{constructor(e){super(),this.images=k(e.images,Wu)}}Aw.type="PostMultiImage";class Mw extends l{constructor(e){super(),this.label=new u(e.label)}}Mw.type="PremiereTrailerBadge";class Nw extends l{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}}Nw.type="ProductListHeader";class Dw extends l{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=C.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new y(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=m(e.viewButton,E)}}Dw.type="ProductListItem";class Ow extends l{constructor(e){super(),this.items=k(e.items)}get contents(){return this.items}}Ow.type="ProfileColumn";class Lw extends l{constructor(e){super(),this.items=k(e.items)}get contents(){return this.items}}Lw.type="ProfileColumnStats";class Bw extends l{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}}Bw.type="ProfileColumnStatsEntry";class Vw extends l{constructor(e){super(),this.title=new u(e.title),this.thumbnails=C.fromResponse(e.thumbnail)}}Vw.type="ProfileColumnUserInfo";class Uw extends l{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}}Uw.type="Quiz";class Fw extends l{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new C(i)),this.button=m(e.button,E),this.surface=e.surface}}Fw.type="RecognitionShelf";class va extends l{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=C.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new y(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}}va.type="ReelItem";class Id extends l{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=C.fromResponse(e.channelThumbnail),this.author=new z(e.channelNavigationEndpoint,void 0)}}Id.type="ReelPlayerHeader";class Ww extends l{constructor(e){super(),this.like_button=m(e.likeButton,zr),this.reel_player_header_supported_renderers=m(e.reelPlayerHeaderSupportedRenderers,Id),this.menu=m(e.menu,te),this.next_item_button=m(e.nextItemButton,E),this.prev_item_button=m(e.prevItemButton,E),this.subscribe_button_renderer=m(e.subscribeButtonRenderer,[E,zt]),this.style=e.style,this.view_comments_button=m(e.viewCommentsButton,E),this.share_button=m(e.shareButton,E),this.pivot_button=m(e.pivotButton,fd),this.info_panel=m(e.infoPanel,xh)}}Ww.type="ReelPlayerOverlay";class Ed extends l{constructor(e){super(),this.content=m(e.content)}}Ed.type="RelatedChipCloud";class Ao extends l{constructor(e){super(),this.header=m(e.header),this.contents=k(e.contents)}}Ao.type="RichGrid";class Hw extends l{constructor(e){super(),this.content=m(e.content)}}Hw.type="RichItem";class jw extends l{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}}jw.type="RichListHeader";class Cr extends l{constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new y(e.endpoint)}}Cr.type="RichMetadata";class Ir extends l{constructor(e){super(),this.contents=k(e.contents)}}Ir.type="RichMetadataRow";class Gw extends l{constructor(e){super(),this.content=m(e.content)}}Gw.type="RichSection";class Rd extends l{constructor(e){super(),this.title=new u(e.title),this.contents=k(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new y(e.endpoint)),Reflect.has(e,"subtitle")&&(this.subtitle=new u(e.subtitle))}}Rd.type="RichShelf";class qw extends l{constructor(e){super(),this.endpoint=new y(e.endpoint),this.search_button=m(e.searchButton,E),this.clear_button=m(e.clearButton,E),this.placeholder_text=new u(e.placeholderText)}}qw.type="SearchBox";class Pd extends l{constructor(e){super(),this.label=new u(e.label),this.endpoint=new y(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}}Pd.type="SearchFilter";class xa extends l{constructor(e){super(),this.title=new u(e.title),this.filters=k(e.filters,Pd)}}xa.type="SearchFilterGroup";class Yw extends l{constructor(e){super(),this.title=new u(e.title),this.groups=k(e.groups,xa)}}Yw.type="SearchFilterOptionsDialog";class Ad extends l{constructor(e){super(),this.chip_bar=m(e.chipBar,Ni),this.search_filter_button=m(e.searchFilterButton,E)}}Ad.type="SearchHeader";class Md extends l{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=k(e.groups,xa)),Reflect.has(e,"button")&&(this.button=m(e.button,Le))}}Md.type="SearchSubMenu";class Nd extends l{constructor(e){super(),this.contents=k(e.contents)}}Nd.type="SearchSuggestionsSection";class Kw extends l{constructor(e){super(),this.contents=k(e.contents)}}Kw.type="SecondarySearchContainer";class qn extends l{constructor(e){super(),this.like_button=m(e.likeButton,[Le,E]),this.dislike_button=m(e.dislikeButton,[Le,E])}}qn.type="SegmentedLikeDislikeButton";class $w extends l{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new y(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new y(e.disableServiceEndpoint)),this.item_id=e.itemId}}$w.type="SettingBoolean";class Dd extends l{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}}Dd.type="SettingsCheckbox";class ka extends l{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new y(e.enableServiceEndpoint),this.disable_endpoint=new y(e.disableServiceEndpoint)}}ka.type="SettingsSwitch";class Ys extends l{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=k(e.options,[ka,yo,oa,Dd,Rl]))}}Ys.type="SettingsOptions";class Od extends l{constructor(e){super(),this.title=new u(e.title),this.items=k(e.items,go)}get contents(){return this.items}}Od.type="SettingsSidebar";class Ld extends l{constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=m(e.actionMenu,te),this.original_post=m(e.originalPost,[vo,wa]),this.id=e.postId,this.endpoint=new y(e.navigationEndpoint),this.expand_button=m(e.expandButton,E),this.author=new z(e.displayName,void 0)}}Ld.type="SharedPost";class Bd extends l{constructor(e){super(),this.title=m(e.title)}}Bd.type="SharePanelHeader";class zw extends l{constructor(e){super(),this.title=new u(e.title)}}zw.type="SharePanelTitleV15";class Vd extends l{constructor(e){super(),Reflect.has(e,"serviceEndpoint")?this.endpoint=new y(e.serviceEndpoint):Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new y(e.navigationEndpoint)),this.service_name=e.serviceName,this.target_id=e.targetId,this.title=new u(e.title)}}Vd.type="ShareTarget";class Sa extends l{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new y(e.endpoint)),this.content=m(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=m(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=m(e.playAllButton,E)),Reflect.has(e,"subtitle")&&(this.subtitle=new u(e.subtitle))}}Sa.type="Shelf";class Ta extends l{constructor(e){var i;super(),this.entity_id=e.entityId,this.accessibility_text=e.accessibilityText,this.thumbnail=C.fromResponse(e.thumbnail),this.on_tap_endpoint=new y(e.onTap),this.menu_on_tap=new y(e.menuOnTap),this.index_in_collection=e.indexInCollection,this.menu_on_tap_a11y_label=e.menuOnTapA11yLabel,this.overlay_metadata={primary_text:e.overlayMetadata.primaryText?u.fromAttributed(e.overlayMetadata.primaryText):void 0,secondary_text:e.overlayMetadata.secondaryText?u.fromAttributed(e.overlayMetadata.secondaryText):void 0},(i=e.inlinePlayerData)!=null&&i.onVisible&&(this.inline_player_data=new y(e.inlinePlayerData.onVisible)),e.badge&&(this.badge=m(e.badge,Vb))}}Ta.type="ShortsLockupView";class Ud extends l{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new y(e.correctedQueryEndpoint),this.original_query_endpoint=new y(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}}Ud.type="ShowingResultsFor";class Qw extends l{constructor(e){super(),this.image=C.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new y(e.command)}}Qw.type="SimpleCardContent";class Xw extends l{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}}Xw.type="SimpleCardTeaser";class Zw extends l{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}}Zw.type="SimpleTextSection";class Jw extends l{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new y(e.navigationEndpoint)}}Jw.type="SingleActionEmergencySupport";class je extends l{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new y(e.endpoint),this.content=m(e.content,[le,ba,Ao])}}je.type="Tab";class Mo extends l{constructor(e){super(),this.tabs=k(e.tabs,je)}}Mo.type="SingleColumnBrowseResults";class ev extends l{constructor(e){super(),this.contents=ne(e)}}ev.type="SingleColumnMusicWatchNextResults";class tv extends l{constructor(e){super(),this.thumbnails=C.fromResponse(e.thumbnail),this.style=e.style}}tv.type="SingleHeroImage";class iv extends l{constructor(e){super(),this.thumbnail=C.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new y(e.navigationEndpoint),this.subscribe_button=m(e.subscribeButton,zt)}}iv.type="SlimOwner";class Fd extends l{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=m(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}}Fd.type="SlimVideoMetadata";class Wd extends l{constructor(e){super(),this.start_at_option_label=new u(e.startAtOptionLabel)}}Wd.type="StartAt";class Hd extends l{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new y(e.navigationEndpoint)}}Hd.type="SubFeedOption";class nv extends l{constructor(e){super(),this.title=new u(e.title),this.options=k(e.options,Hd)}}nv.type="SubFeedSelector";class sv extends l{constructor(e){super(),this.contents=ne(e)}}sv.type="Tabbed";class jd extends l{constructor(e){super(),this.tabs=k(e.tabs,je)}}jd.type="TabbedSearchResults";class ov extends l{constructor(e){super(),this.title=new u(e.title),this.style=e.style}}ov.type="TextHeader";class Gd extends l{constructor(e){super(),this.share_targets=k(e.shareTargets,Vd)}}Gd.type="ThirdPartyShareTargetSection";class rv extends l{constructor(e){super(),this.landscape=C.fromResponse(e.landscape),this.portrait=C.fromResponse(e.portrait)}}rv.type="ThumbnailLandscapePortrait";class av extends l{constructor(e){super(),this.text=new u(e.text).toString()}}av.type="ThumbnailOverlayEndorsement";class cv extends l{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}}cv.type="ThumbnailOverlayHoverText";class uv extends l{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}}uv.type="ThumbnailOverlayInlineUnplayable";class lv extends l{constructor(e){super(),this.text=new u(e.text)}}lv.type="ThumbnailOverlayLoadingPreview";class hv extends l{constructor(e){super(),this.text=new u(e.text).toString()}}hv.type="ThumbnailOverlayNowPlaying";class dv extends l{constructor(e){super(),this.hack=e.hack}}dv.type="ThumbnailOverlayPinking";class pv extends l{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}}pv.type="ThumbnailOverlayPlaybackStatus";class fv extends l{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}}fv.type="ThumbnailOverlayResumePlayback";class mv extends l{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}}mv.type="ThumbnailOverlaySidePanel";class _v extends l{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},e.toggledServiceEndpoint&&(this.toggled_endpoint=new y(e.toggledServiceEndpoint)),e.untoggledServiceEndpoint&&(this.untoggled_endpoint=new y(e.untoggledServiceEndpoint))}}_v.type="ThumbnailOverlayToggleButton";class bv extends l{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}}bv.type="TimedMarkerDecoration";class yv extends l{constructor(e){super(),this.title=new u(e.title)}}yv.type="TitleAndButtonListHeader";class gv extends l{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new y(e.defaultServiceEndpoint),this.toggled_endpoint=new y(e.toggledServiceEndpoint)}}gv.type="ToggleMenuServiceItem";class wv extends l{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new y(i)),accept:new y(e.promoConfig.acceptCommand),dismiss:new y(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}}wv.type="Tooltip";class vv extends l{constructor(e){super(),this.title=new u(e.title),this.avatar=C.fromResponse(e.thumbnail??e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=m(e.subscribeButton,zt),this.endpoint=new y(e.navigationEndpoint)}}vv.type="TopicChannelDetails";class ps extends l{constructor(e){super(),this.tabs=ne(e.tabs),this.secondary_contents=ne(e.secondaryContents)}}ps.type="TwoColumnBrowseResults";class qd extends l{constructor(e){super(),this.primary_contents=ne(e.primaryContents),this.secondary_contents=ne(e.secondaryContents)}}qd.type="TwoColumnSearchResults";var Xo,jc;class Ca extends l{constructor(e){var s,o,r,c,h;super(),Xo.add(this),this.results=k((s=e.results)==null?void 0:s.results.contents),this.secondary_results=k((o=e.secondaryResults)==null?void 0:o.secondaryResults.results),this.conversation_bar=m(e==null?void 0:e.conversationBar);const i=(r=e.playlist)==null?void 0:r.playlist;i&&(this.playlist={id:i.playlistId,title:i.title,author:(c=i.shortBylineText)!=null&&c.simpleText?new u(i.shortBylineText):new z(i.longBylineText),contents:k(i.contents),current_index:i.currentIndex,is_infinite:!!i.isInfinite,menu:m(i.menu,te)});const n=(h=e.autoplay)==null?void 0:h.autoplay;n&&(this.autoplay={sets:n.sets.map(d=>a(this,Xo,"m",jc).call(this,d))},n.modifiedSets&&(this.autoplay.modified_sets=n.modifiedSets.map(d=>a(this,Xo,"m",jc).call(this,d))),n.countDownSecs&&(this.autoplay.count_down_secs=n.countDownSecs))}}Xo=new WeakSet,jc=function(e){const i={autoplay_video:new y(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new y(e.nextButtonVideo)),i};Ca.type="TwoColumnWatchNextResults";class xv extends l{constructor(e){if(super(),e.contents){const i=e.contents.find(n=>n.thirdPartyNetworkSection);i&&(this.third_party_network_section={share_target_container:m(i.thirdPartyNetworkSection.shareTargetContainer,Gd),copy_link_container:m(i.thirdPartyNetworkSection.copyLinkContainer,oa),start_at_container:m(i.thirdPartyNetworkSection.startAtContainer,Wd)})}this.header=m(e.header,Bd),this.share_panel_version=e.sharePanelVersion,Reflect.has(e,"showLoadingSpinner")&&(this.show_loading_spinner=e.showLoadingSpinner)}}xv.type="UnifiedSharePanel";class Yd extends l{constructor(e){super(),this.header=m(e.header),this.call_to_action=m(e.callToAction),this.sections=k(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}}Yd.type="UniversalWatchCard";class kv extends l{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=m(e.actionButton,E),this.dismiss_button=m(e.dismissButton,E),this.is_visible=e.isVisible}}kv.type="UpsellDialog";class Sv extends l{constructor(e){super(),this.items=k(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}}Sv.type="VerticalList";class Tv extends l{constructor(e){super(),this.items=k(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new y(e.viewAllEndpoint)}get contents(){return this.items}}Tv.type="VerticalWatchCardList";class Cv extends l{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=C.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new y(e.action)}}Cv.type="VideoInfoCardContent";class Iv extends l{constructor(e){super(),this.carousel_titles=ne(e.carouselTitles,!0,Cl),this.carousel_items=ne(e.carouselItems,!0,Tl)}}Iv.type="VideoMetadataCarouselView";class Ia extends l{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new z({...e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.thumbnail)}}Ia.type="VideoOwner";class Kd extends l{constructor(e){super(),this.original_view_count=e.originalViewCount,this.short_view_count=new u(e.shortViewCount),this.extra_short_view_count=new u(e.extraShortViewCount),this.view_count=new u(e.viewCount)}}Kd.type="VideoViewCount";class $d extends l{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=m(e.viewCount,Kd),this.badges=k(e.badges,Oi),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=m(e.videoActions,te)}}$d.type="VideoPrimaryInfo";class Er extends l{constructor(e){super(),this.owner=m(e.owner,Ia),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=m(e.subscribeButton,[zt,E]),this.metadata=m(e.metadataRowContainer,Xh),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}}Er.type="VideoSecondaryInfo";class zd extends l{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:pi(e.lengthText.simpleText)},this.style=e.style}}zd.type="WatchCardCompactVideo";class Ev extends l{constructor(e){var i;super(),this.endpoint=new y(e.navigationEndpoint),this.call_to_action_button=m(e.callToActionButton),this.hero_image=m(e.heroImage),this.label=((i=e.lengthText)==null?void 0:i.accessibility.accessibilityData.label)||""}}Ev.type="WatchCardHeroVideo";class Rv extends l{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new y(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new z(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}}Rv.type="WatchCardRichHeader";class Pv extends l{constructor(e){super(),this.lists=k(e.lists)}}Pv.type="WatchCardSectionSequence";class Qd extends ps{constructor(e){super(e)}}Qd.type="WatchNextTabbedResults";class Xd extends l{constructor(e){var i,n;super(),this.title=e.title,this.content=m(e.content,le),this.endpoint=new y(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)==null?void 0:i.assetKey,background_color:(n=e.categoryAssets)==null?void 0:n.backgroundColor},this.category_type=e.categoryType}}Xd.type="AnchoredSection";var Ts;class Ea extends l{constructor(e){super(),Ts.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=C.fromResponse(e.avatar),this.block_button=m(e.blockButton,[Le]),this.blocked_entity_key=e.blockedEntityKey}async blockChannel(){if(!a(this,Ts,"f"))throw new g("An active caller must be provide to perform this operation.");const e=this.block_button;if(!e)throw new g("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new g("This channel is already blocked.",{child_display_name:this.child_display_name});return await e.endpoint.call(a(this,Ts,"f"),{parse:!1})}setActions(e){T(this,Ts,e,"f")}}Ts=new WeakMap;Ea.type="KidsBlocklistPickerItem";class Av extends l{constructor(e){super(),this.title=new u(e.title),this.child_rows=ne(e.childRows,!0,[Ea]),this.done_button=m(e.doneButton,[E]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}}Av.type="KidsBlocklistPicker";class Ra extends l{constructor(e){var i,n;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)==null?void 0:i.assetKey,background_color:(n=e.categoryAssets)==null?void 0:n.backgroundColor},this.category_type=e.categoryType,this.endpoint=new y(e.endpoint)}}Ra.type="KidsCategoryTab";class Zd extends l{constructor(e){super(),this.category_tabs=k(e.categoryTabs,Ra),this.privacy_button=m(e.privacyButtonRenderer,E)}}Zd.type="kidsCategoriesHeader";class Jd extends l{constructor(e){super(),this.anchors=k(e.anchors,Xd)}}Jd.type="kidsHomeScreen";const ES=Object.freeze(Object.defineProperty({__proto__:null,AboutChannel:xu,AboutChannelView:vu,AccountChannel:ku,AccountItem:Gr,AccountItemSection:Tu,AccountItemSectionHeader:Su,AccountSectionList:Cu,ActiveAccountHeader:Db,AddBannerToLiveChatCommand:mg,AddChatItemAction:Rh,AddLiveChatTickerItemAction:_g,AddToPlaylist:Ob,AddToPlaylistCommand:iy,AddToPlaylistEndpoint:Iy,AddToPlaylistServiceEndpoint:oh,Alert:Kr,AlertWithButton:Bu,AnchoredSection:Xd,AppendContinuationItemsAction:qr,AttributionView:Vu,AudioOnlyPlayability:Uu,AuthorCommentBadge:cy,AutomixPreviewVideo:wo,AvatarView:Fu,BackgroundPromo:Lb,BackstageImage:Wu,BackstagePost:vo,BackstagePostThread:Bb,BadgeView:Vb,BrowseEndpoint:Ey,BrowseFeedActions:$u,BrowserMediaSession:Ub,Button:E,ButtonCardView:Fb,ButtonView:Ge,C4TabbedHeader:Jn,CallToActionButton:Wb,Card:Hb,CardCollection:xl,CarouselHeader:kl,CarouselItem:jb,CarouselItemView:Tl,CarouselLockup:_l,CarouselTitleView:Cl,ChangeEngagementPanelVisibilityAction:Ib,Channel:Il,ChannelAboutFullMetadata:wr,ChannelAgeGate:Gb,ChannelExternalLinkView:wu,ChannelFeaturedContent:qb,ChannelHeaderLinks:zu,ChannelHeaderLinksView:Qu,ChannelMetadata:El,ChannelMobileHeader:Yb,ChannelOptions:Rl,ChannelOwnerEmptyState:Kb,ChannelSubMenu:vr,ChannelSwitcherHeader:$b,ChannelSwitcherPage:Eu,ChannelTagline:wl,ChannelThumbnailWithLink:zb,ChannelVideoPlayer:Qb,Chapter:Pl,ChildVideo:Xb,ChipBarView:Zb,ChipCloud:Ni,ChipCloudChip:He,ChipView:Al,ClientSideToggleMenuItem:Jb,ClipAdState:Ju,ClipCreation:el,ClipCreationScrubber:Zu,ClipCreationTextInput:Xu,ClipSection:tl,CollaboratorInfoCardContent:ey,CollageHeroImage:ty,CollectionThumbnailView:Ll,CommandExecutorCommand:ny,CommentActionButtons:ju,CommentDialog:uy,CommentReplies:Vl,CommentReplyDialog:Ul,CommentSimplebox:jl,CommentThread:Gl,CommentView:Io,CommentsEntryPointHeader:Hl,CommentsEntryPointTeaser:Wl,CommentsHeader:Co,CommentsSimplebox:Fl,CompactChannel:dy,CompactLink:go,CompactMix:py,CompactMovie:fy,CompactPlaylist:my,CompactStation:_y,CompactVideo:Jr,ConfirmDialog:by,ContentMetadataView:sa,ContentPreviewImageView:oo,ContinuationCommand:sy,ContinuationItem:xe,ConversationBar:yy,CopyLink:oa,CreateCommentEndpoint:Ry,CreatePlaylistDialog:gu,CreatePlaylistDialogFormView:Kl,CreatePlaylistServiceEndpoint:Py,CreatorHeart:Hu,DecoratedAvatarView:ra,DecoratedPlayerBar:Xl,DefaultPromoPanel:wy,DeletePlaylistEndpoint:Ay,DescriptionPreviewView:Zl,DialogHeaderView:Jl,DialogView:vy,DidYouMean:ih,DimChatItemAction:bg,DislikeButtonView:qu,DownloadButton:$r,Dropdown:yo,DropdownItem:yu,DropdownView:ql,DynamicTextView:nh,Element:sh,EmergencyOnebox:ky,EmojiPicker:Bl,EmojiPickerCategory:Sy,EmojiPickerCategoryButton:Ty,EmojiPickerUpsellCategory:Cy,EndScreenPlaylist:ch,EndScreenVideo:uh,Endscreen:ah,EndscreenElement:Qy,EngagementPanelSectionList:To,EngagementPanelTitleHeader:il,EomSettingsDisclaimer:Xy,ExpandableMetadata:ul,ExpandableTab:qs,ExpandableVideoDescriptionBody:rl,ExpandedShelfContents:Zy,Factoid:So,FancyDismissibleDialog:Jy,FeedFilterChipBar:Di,FeedNudge:eg,FeedTabbedHeader:lh,FeedbackEndpoint:My,FlexibleActionsView:Qr,FormFooterView:th,GameCard:al,GameDetails:tg,GetAccountsListInnertubeEndpoint:Ny,GetKidsBlocklistPickerCommand:oy,GetMultiPageMenuAction:Eb,Grid:ao,GridChannel:hh,GridHeader:ig,GridMix:ng,GridMovie:sg,GridPlaylist:dh,GridShow:og,GridVideo:mh,GuideCollapsibleEntry:rg,GuideCollapsibleSectionEntry:ag,GuideDownloadsEntry:cg,GuideEntry:co,GuideSection:ua,GuideSubscriptionsSection:_h,HashtagHeader:bh,HashtagTile:ug,HeatMarker:$l,Heatmap:zl,HeroPlaylistThumbnail:lg,HideEngagementPanelEndpoint:Dy,HighlightsCarousel:xr,HistorySuggestion:dg,HorizontalCardList:ko,HorizontalList:cl,HorizontalMovieList:pg,IconLink:gh,ImageBannerView:wh,IncludingResultsFor:fg,InfoPanelContainer:xh,InfoPanelContent:vh,InfoRow:ml,InteractiveTabbedHeader:kh,ItemSection:at,ItemSectionHeader:la,ItemSectionTab:Sh,ItemSectionTabbedHeader:ha,KidsBlocklistPicker:Av,KidsBlocklistPickerItem:Ea,KidsCategoriesHeader:Zd,KidsCategoryTab:Ra,KidsHomeScreen:Jd,LikeButton:zr,LikeButtonView:Gu,LikeEndpoint:Oy,LiveChat:Ch,LiveChatActionPanel:Dh,LiveChatAuthorBadge:Ph,LiveChatAutoModMessage:yg,LiveChatBanner:Eh,LiveChatBannerChatSummary:gg,LiveChatBannerHeader:Ih,LiveChatBannerPoll:wg,LiveChatBannerRedirect:vg,LiveChatDialog:Kg,LiveChatHeader:Fh,LiveChatItemContextMenuEndpoint:Ly,LiveChatItemList:Wh,LiveChatMembershipItem:xg,LiveChatMessageInput:$g,LiveChatModeChangeMessage:kg,LiveChatPaidMessage:Sg,LiveChatPaidSticker:Tg,LiveChatParticipant:Hh,LiveChatParticipantsList:jh,LiveChatPlaceholderItem:Cg,LiveChatProductItem:Ig,LiveChatRestrictedParticipation:Eg,LiveChatSponsorshipsGiftPurchaseAnnouncement:Rg,LiveChatSponsorshipsGiftRedemptionAnnouncement:Pg,LiveChatSponsorshipsHeader:Ah,LiveChatTextMessage:Ag,LiveChatTickerPaidMessageItem:Nh,LiveChatTickerPaidStickerItem:Mg,LiveChatTickerSponsorItem:Ng,LiveChatViewerEngagementMessage:Dg,LockupMetadataView:Gh,LockupView:qh,MacroMarkersInfoItem:nl,MacroMarkersList:sl,MacroMarkersListItem:Xr,MarkChatItemAsDeletedAction:Lg,MarkChatItemsByAuthorAsDeletedAction:Bg,Menu:te,MenuFlexibleItem:Ku,MenuNavigationItem:Yh,MenuPopup:zg,MenuServiceItem:un,MenuServiceItemDownload:Yu,MenuTitle:Ou,MerchandiseItem:Xg,MerchandiseShelf:Qh,Message:Yt,MetadataBadge:Oi,MetadataRow:Zg,MetadataRowContainer:Xh,MetadataRowHeader:Jg,MetadataScreen:ew,MicroformatData:hn,Mix:tw,MobileTopbar:bw,ModalWithTitleAndButton:iw,ModifyChannelNotificationPreferenceEndpoint:By,Movie:nw,MovingThumbnail:sw,MultiMarkersPlayerBar:Ql,MultiPageMenu:Iu,MultiPageMenuNotificationSection:Qg,MultiPageMenuSection:yw,MusicCardShelf:Jh,MusicCardShelfHeaderBasic:Zh,MusicCarouselShelf:_t,MusicCarouselShelfBasicHeader:ed,MusicDescriptionShelf:Eo,MusicDetailHeader:_a,MusicDownloadStateBadge:dw,MusicEditablePlaylistDetailHeader:sd,MusicElementHeader:kr,MusicHeader:Ro,MusicImmersiveHeader:od,MusicInlineBadge:da,MusicItemThumbnailOverlay:ds,MusicLargeCardItemCarousel:mw,MusicMenuItemDivider:Kh,MusicMultiRowListItem:td,MusicMultiSelectMenu:$h,MusicMultiSelectMenuItem:ln,MusicNavigationButton:fa,MusicPlayButton:pa,MusicPlaylistEditHeader:_w,MusicPlaylistShelf:uo,MusicQueue:ba,MusicResponsiveHeader:ya,MusicResponsiveListItem:wn,MusicResponsiveListItemFixedColumn:id,MusicResponsiveListItemFlexColumn:nd,MusicShelf:Ee,MusicSideAlignedItem:ad,MusicSortFilterButton:Sr,MusicTastebuilderShelf:ud,MusicTastebuilderShelfThumbnail:cd,MusicThumbnail:Kt,MusicTwoRowItem:ma,MusicVisualHeader:ld,NavigationEndpoint:y,Notification:hd,NotificationAction:xw,OpenPopupAction:bu,PageHeader:dn,PageHeaderView:dd,PageIntroduction:pd,PanelFooterView:eh,PdgCommentChip:ly,PerformCommentActionEndpoint:Vy,PivotBar:gw,PivotBarItem:ww,PivotButton:fd,PlayerAnnotationsExpanded:md,PlayerCaptionsTracklist:_d,PlayerControlsOverlay:kw,PlayerErrorMessage:Sw,PlayerLegacyDesktopYpcOffer:Tw,PlayerLegacyDesktopYpcTrailer:Tr,PlayerLiveStoryboardSpec:gd,PlayerMicroformat:Pt,PlayerOverflow:bd,PlayerOverlay:Po,PlayerOverlayAutoplay:wd,PlayerOverlayVideoDetails:vd,PlayerStoryboardSpec:bo,Playlist:hs,PlaylistAddToOption:Lu,PlaylistCustomThumbnail:ia,PlaylistEditEndpoint:Uy,PlaylistHeader:kd,PlaylistInfoCardContent:Cw,PlaylistMetadata:Sd,PlaylistPanel:_n,PlaylistPanelVideo:ns,PlaylistPanelVideoWrapper:rd,PlaylistSidebar:Iw,PlaylistSidebarPrimaryInfo:Td,PlaylistSidebarSecondaryInfo:Cd,PlaylistThumbnailOverlay:Ew,PlaylistVideo:ga,PlaylistVideoList:Rw,PlaylistVideoThumbnail:na,Poll:Pw,PollHeader:Og,Post:wa,PostMultiImage:Aw,PrefetchWatchCommand:Fy,PremiereTrailerBadge:Mw,ProductList:ol,ProductListHeader:Nw,ProductListItem:Dw,ProfileColumn:Ow,ProfileColumnStats:Lw,ProfileColumnStatsEntry:Bw,ProfileColumnUserInfo:Vw,Quiz:Uw,RecognitionShelf:Fw,ReelItem:va,ReelPlayerHeader:Id,ReelPlayerOverlay:Ww,ReelShelf:ta,ReelWatchEndpoint:Wy,RelatedChipCloud:Ed,RemoveBannerForLiveChatCommand:Vg,RemoveChatItemAction:Ug,RemoveChatItemByAuthorAction:Fg,ReplaceChatItemAction:Wg,ReplayChatItemAction:Hg,RichGrid:Ao,RichItem:Hw,RichListHeader:jw,RichMetadata:Cr,RichMetadataRow:Ir,RichSection:Gw,RichShelf:Rd,RunAttestationCommand:ry,SearchBox:qw,SearchEndpoint:Hy,SearchFilter:Pd,SearchFilterGroup:xa,SearchFilterOptionsDialog:Yw,SearchHeader:Ad,SearchRefinementCard:no,SearchSubMenu:Md,SearchSuggestion:yh,SearchSuggestionsSection:Nd,SecondarySearchContainer:Kw,SectionList:le,SegmentedLikeDislikeButton:qn,SegmentedLikeDislikeButtonView:on,SendFeedbackAction:Rb,SettingBoolean:$w,SettingsCheckbox:Dd,SettingsOptions:Ys,SettingsSidebar:Od,SettingsSwitch:ka,ShareEndpoint:jy,ShareEntityEndpoint:Gy,ShareEntityServiceEndpoint:ca,SharePanelHeader:Bd,SharePanelTitleV15:zw,ShareTarget:Vd,SharedPost:Ld,Shelf:Sa,ShortsLockupView:Ta,ShowCustomThumbnail:ph,ShowDialogCommand:ay,ShowEngagementPanelEndpoint:qy,ShowLiveChatActionPanelAction:jg,ShowLiveChatDialogAction:Gg,ShowLiveChatTooltipCommand:qg,ShowingResultsFor:Ud,SignalAction:Pb,SignalServiceEndpoint:Yy,SimpleCardContent:Qw,SimpleCardTeaser:Xw,SimpleMenuHeader:zh,SimpleTextSection:Zw,SingleActionEmergencySupport:Jw,SingleColumnBrowseResults:Mo,SingleColumnMusicWatchNextResults:ev,SingleHeroImage:tv,SlimOwner:iv,SlimVideoMetadata:Fd,SortFilterHeader:Th,SortFilterSubMenu:Mi,SponsorCommentBadge:hy,StartAt:Wd,StructuredDescriptionContent:ro,StructuredDescriptionPlaylistLockup:bl,SubFeedOption:Hd,SubFeedSelector:nv,SubscribeButton:zt,SubscribeEndpoint:Ky,SubscriptionNotificationToggleButton:vl,Tab:je,Tabbed:sv,TabbedSearchResults:jd,TextCarouselItemView:Sl,TextFieldView:Yl,TextHeader:ov,ThirdPartyShareTargetSection:Gd,ThumbnailBadgeView:Nl,ThumbnailHoverOverlayView:Ml,ThumbnailLandscapePortrait:rv,ThumbnailOverlayBadgeView:Dl,ThumbnailOverlayBottomPanel:fh,ThumbnailOverlayEndorsement:av,ThumbnailOverlayHoverText:cv,ThumbnailOverlayInlineUnplayable:uv,ThumbnailOverlayLoadingPreview:lv,ThumbnailOverlayNowPlaying:hv,ThumbnailOverlayPinking:dv,ThumbnailOverlayPlaybackStatus:pv,ThumbnailOverlayResumePlayback:fv,ThumbnailOverlaySidePanel:mv,ThumbnailOverlayTimeStatus:so,ThumbnailOverlayToggleButton:_v,ThumbnailView:Ol,TimedMarkerDecoration:bv,TitleAndButtonListHeader:yv,ToggleButton:Le,ToggleButtonView:mn,ToggleMenuServiceItem:gv,Tooltip:wv,TopbarMenuButton:vw,TopicChannelDetails:vv,Transcript:Yr,TranscriptFooter:Ru,TranscriptSearchBox:Pu,TranscriptSearchPanel:Du,TranscriptSectionHeader:Au,TranscriptSegment:Mu,TranscriptSegmentList:Nu,TwoColumnBrowseResults:ps,TwoColumnSearchResults:qd,TwoColumnWatchNextResults:Ca,UnifiedSharePanel:xv,UniversalWatchCard:Yd,UnsubscribeEndpoint:$y,UpdateChannelSwitcherPageAction:Ab,UpdateDateTextAction:Oh,UpdateDescriptionAction:Lh,UpdateEngagementPanelAction:Mb,UpdateLiveChatPollAction:Yg,UpdateSubscribeButtonAction:Nb,UpdateTitleAction:Bh,UpdateToggleButtonTextAction:Vh,UpdateViewershipAction:Uh,UploadTimeFactoid:hl,UpsellDialog:kv,VerticalList:Sv,VerticalWatchCardList:Tv,Video:Zr,VideoAttributeView:xo,VideoAttributesSectionView:gl,VideoCard:ll,VideoDescriptionCourseSection:yl,VideoDescriptionHeader:pl,VideoDescriptionInfocardsSection:fl,VideoDescriptionMusicSection:ea,VideoDescriptionTranscriptSection:gr,VideoInfoCardContent:Cv,VideoMetadataCarouselView:Iv,VideoOwner:Ia,VideoPrimaryInfo:$d,VideoSecondaryInfo:Er,VideoViewCount:Kd,ViewCountFactoid:dl,WatchCardCompactVideo:zd,WatchCardHeroVideo:Ev,WatchCardRichHeader:Rv,WatchCardSectionSequence:Pv,WatchEndpoint:rh,WatchNextEndScreen:xd,WatchNextEndpoint:zy,WatchNextTabbedResults:Qd,YpcTrailer:yd},Symbol.toStringTag,{value:"Module"})),RS=new Set(["trackingParams","accessibility","accessibilityData"]),Gc={};function No(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}function ep(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=Mv(e))return Gc[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=PS(e)){for(const[s,o]of Object.entries(i))Gc[s]=o;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=AS(t,e))||(i=MS(e)))return i}const n=typeof e;return n==="object"?{type:"object",keys:Object.entries(e).map(([s,o])=>[s,ep(s,o)]),optional:!1}:{type:"primitive",typeof:[n],optional:!1}}function PS(t){const e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(n=>Mv(n))?Object.fromEntries(t.map(n=>{const s=Reflect.ownKeys(n)[0].toString();return[Aa(s),n[s]]})):!1}function AS(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new y(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){const i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}function Mv(t){if(!(typeof t=="object"))return!1;const i=Reflect.ownKeys(t);if(i.length===1){const n=i[0].toString();if(n.endsWith("Renderer")||n.endsWith("Model"))return Aa(n)}return!1}function MS(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["never"],optional:!1},optional:!1};const e=t.map(o=>typeof o);if(!e.every(o=>o===e[0]))return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!1},optional:!1};const n=e[0];if(n!=="object")return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:[n],optional:!1},optional:!1};let s=[];for(let o=0;o<t.length;o++){const r=Object.entries(t[o]).map(([c,h])=>[c,ep(c,h)]);if(o===0){s=r;continue}s=Rr(s,r).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:s,optional:!1},optional:!1}}function NS(t){if(typeof t!="object"||t===null)throw new g("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!LS(i)).filter(i=>typeof i=="string").map(i=>{const n=Reflect.get(t,i),s=ep(i,n);return[i,s]})}function DS(t){const i=t.filter(([,r])=>{var c;return r.type!=="misc"||!(r.misc_type==="NavigationEndpoint"||r.misc_type==="Text")?!1:((c=r.endpoint)==null?void 0:c.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,r],[,c])=>r.type!=="misc"||c.type!=="misc"||r.misc_type!=="Text"||c.misc_type!=="Text"?0:c.text.length-r.text.length),n=new Set,s=i[0];let o;if(s){n.add(s[0]);const c=t.map(([b])=>b).filter(b=>b.endsWith("Badges")||b==="badges"),d=c.filter(b=>b.startsWith("owner")||b.startsWith("author"))[0]??c[0],p=t.find(([b])=>b===d),_=p?p[1].type==="array"&&p[1].array_type==="renderer"&&Reflect.has(p[1].renderers,"MetadataBadge"):!1;_&&d&&n.add(d),o={type:"misc",misc_type:"Author",optional:!1,params:[s[0],_?d:void 0]}}return o&&t.push(["author",o]),t.filter(([r])=>!n.has(r))}function OS(t){const e=NS(t);return DS(e)}function Nv(t){const e=OS(t),i=new Map;for(const[,s]of e)if(s.type==="renderer"||s.type==="array"&&s.array_type==="renderer")for(const o of s.renderers){const r=Gc[o];r&&i.set(o,r)}const n=Array.from(i).filter(([s])=>!lp(s));return{key_info:e,unimplemented_dependencies:n}}function LS(t){return typeof t=="string"&&RS.has(t)}function BS(t,e,i){var n,s;i({error_type:"class_not_found",classname:t,key_info:e});const o=(n=class extends l{static set key_info(r){T(this,n,new Map(r),"f",s)}static get key_info(){return[...a(this,n,"f",s).entries()]}constructor(r){super();const{key_info:c,unimplemented_dependencies:h}=Nv(r),{resolved_key_info:d,changed_keys:p}=Rr(o.key_info,c);p.length>0&&(o.key_info=d,i({error_type:"class_changed",classname:t,key_info:o.key_info,changed_keys:p}));for(const[b,w]of h)tp(b,w,i);for(const[b,w]of c){let v=No(b);w.type==="misc"&&w.misc_type==="NavigationEndpoint"&&(v="endpoint"),Reflect.set(this,v,Lv(b,w,r))}}},ik(n,"node"),n.type=t,s={value:new Map},n);return o.key_info=e,Object.defineProperty(o,"name",{value:t,writable:!1}),o}function tp(t,e,i){const{key_info:n,unimplemented_dependencies:s}=Nv(e),o=BS(t,n,i);jS(t,o);for(const[r,c]of s)tp(r,c,i);return o}function Hf(t,e){const i=[],n=["super();"];for(const[s,o]of e){let r=No(s);o.type==="misc"&&o.misc_type==="NavigationEndpoint"&&(r="endpoint"),i.push(`${r}${o.optional?"?":""}: ${Dv(o)};`),n.push(`this.${r} = ${Ov(s,o)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${n.join(`
    `)}
  }
}
`}function jf(t,e){return`{
${e.map(([i,n])=>`${" ".repeat((t+2)*2)}${No(i)}${n.optional?"?":""}: ${Dv(n,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}function Dv(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{const i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${jf(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return jf(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primitive":return t.typeof.join(" | ")}}function Gf(t,e,i,n){const s=[...i,n];return`{
${e.map(([o,r])=>`${" ".repeat((t+2)*2)}${No(o)}: ${Ov(o,r,s,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}function Ov(t,e,i=["data"],n=1){let s="undefined";switch(e.type){case"renderer":s=`Parser.parseItem(${i.join(".")}.${t}, ${qf(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":s=`Parser.parse(${i.join(".")}.${t}, true, ${qf(e.renderers)})`;break;case"object":s=`${i.join(".")}.${t}.map((item: any) => (${Gf(n,e.items.keys,[],"item")}))`;break;case"primitive":s=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":s=Gf(n,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":s=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{const o=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${o} : undefined`:o}default:s=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(s==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primitive":s=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${s} : undefined`:s}function qf(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}function Mt(t,e){let i=t;for(const n of e)i=i[n];return i}function Yf(t,e){let i=t;for(const n of e)if(Reflect.has(i,n))i=i[n];else return!1;return!0}function Kf(t,e,i,n,s){const o={},r=[...i,t];for(const[c,h]of n)o[c]=s?Lv(c,h,e,r):void 0;return o}function Lv(t,e,i,n=["data"]){const s=!e.optional||Yf({data:i},[...n,t]);switch(e.type){case"renderer":return s?m(Mt({data:i},[...n,t]),e.renderers.map(o=>Ar(o))):void 0;case"array":switch(e.array_type){case"renderer":return s?ne(Mt({data:i},[...n,t]),!0,e.renderers.map(o=>Ar(o))):void 0;case"object":return s?Mt({data:i},[...n,t]).map((o,r)=>Kf(`${r}`,i,[...n,t],e.items.keys,s)):void 0;case"primitive":return s?Mt({data:i},[...n,t]):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return Kf(t,i,n,e.keys,s);case"misc":switch(e.misc_type){case"NavigationEndpoint":return s?new y(Mt({data:i},[...n,t])):void 0;case"Text":return s?new u(Mt({data:i},[...n,t])):void 0;case"Thumbnail":return s?C.fromResponse(Mt({data:i},[...n,t])):void 0;case"Author":return!e.optional||Yf({data:i},[...n,e.params[0]])?new z(Mt({data:i},[...n,e.params[0]]),e.params[1]?Mt({data:i},[...n,e.params[1]]):void 0):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"primitive":return Mt({data:i},[...n,t])}}function Rr(t,e){const i=new Map,n=new Set(t.map(([b])=>b)),s=new Set(e.map(([b])=>b)),o=e.filter(([b])=>!n.has(b)),r=t.filter(([b])=>!s.has(b)),c=t.filter(([b])=>s.has(b)),h=new Map(e);for(const[b,w]of c){const v=h.get(b);if(v){if(w.type!==v.type){i.set(b,{type:"primitive",typeof:["unknown"],optional:!0});continue}switch(w.type){case"object":{if(v.type!=="object")continue;const{resolved_key_info:S}=Rr(w.keys,v.keys),R={type:"object",keys:S,optional:w.optional||v.optional};JSON.stringify(R)!==JSON.stringify(w)&&i.set(b,R)}break;case"renderer":{if(v.type!=="renderer")continue;const S={...w.renderers,...v.renderers},R=w.optional||v.optional,I={type:"renderer",renderers:S,optional:R};JSON.stringify({...I,renderers:Object.keys(I.renderers)})!==JSON.stringify({...w,renderers:Object.keys(w.renderers)})&&i.set(b,I)}break;case"array":{if(v.type!=="array")continue;switch(w.array_type){case"renderer":{if(v.array_type!=="renderer"){i.set(b,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}const S={...w.renderers,...v.renderers},R=w.optional||v.optional,I={type:"array",array_type:"renderer",renderers:S,optional:R};JSON.stringify({...I,renderers:Object.keys(I.renderers)})!==JSON.stringify({...w,renderers:Object.keys(w.renderers)})&&i.set(b,I)}break;case"object":{if(v.array_type==="primitive"&&v.items.typeof.length==1&&v.items.typeof[0]==="never")continue;if(v.array_type!=="object"){i.set(b,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}const{resolved_key_info:S}=Rr(w.items.keys,v.items.keys),R={type:"array",array_type:"object",items:{type:"object",keys:S,optional:w.items.optional||v.items.optional},optional:w.optional||v.optional};JSON.stringify(R)!==JSON.stringify(w)&&i.set(b,R)}break;case"primitive":{if(w.items.typeof.includes("never")&&v.array_type==="object"){i.set(b,v);continue}if(v.array_type!=="primitive"){i.set(b,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}const S=new Set([...v.items.typeof,...w.items.typeof]);S.size>1&&S.has("never")&&S.delete("never");const R={type:"array",array_type:"primitive",items:{type:"primitive",typeof:Array.from(S),optional:w.items.optional||v.items.optional},optional:w.optional||v.optional};JSON.stringify(R)!==JSON.stringify(w)&&i.set(b,R)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}break}case"misc":{if(v.type!=="misc")continue;switch(w.misc_type!==v.misc_type&&i.set(b,{type:"primitive",typeof:["unknown"],optional:!0}),w.misc_type){case"Author":{if(v.misc_type!=="Author")break;const S=w.params[1]||v.params[1],I={type:"misc",misc_type:"Author",optional:w.optional||v.optional,params:[v.params[0],S]};JSON.stringify(I)!==JSON.stringify(w)&&i.set(b,I)}break}}break;case"primitive":{if(v.type!=="primitive")continue;const S={type:"primitive",typeof:Array.from(new Set([...v.typeof,...w.typeof])),optional:w.optional||v.optional};JSON.stringify(S)!==JSON.stringify(w)&&i.set(b,S)}break}}}for(const[b,w]of o)i.set(b,{...w,optional:!0});for(const[b,w]of r)i.set(b,{...w,optional:!0});const d=t.filter(([b])=>!i.has(b));return{resolved_key_info:[...new Map([...d,...i]).entries()],changed_keys:[...i.entries()]}}class ip extends l{constructor(e){var i,n,s;super(),this.contents=k(e.contents),Array.isArray(e.continuations)&&(this.continuation=(s=(n=(i=e.continuations)==null?void 0:i.at(0))==null?void 0:n.nextContinuationData)==null?void 0:s.continuation)}}ip.type="itemSectionContinuation";class np extends l{constructor(e){super(),this.endpoint=new y(e.endpoint)}}np.type="navigateAction";class Bv extends l{constructor(e){super(),this.miniplayer_command=new y(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}}Bv.type="showMiniplayerCommand";class sp extends l{constructor(e){super(),this.target_id=e.targetId,this.contents=ne(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}}sp.type="reloadContinuationItemsCommand";class bn extends l{constructor(e){var i,n,s,o,r,c;super(),this.contents=ne(e.contents,!0),this.continuation=((s=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextContinuationData)==null?void 0:s.continuation)||((c=(r=(o=e.continuations)==null?void 0:o[0])==null?void 0:r.reloadContinuationData)==null?void 0:c.continuation)||null}}bn.type="sectionListContinuation";class op extends l{constructor(e){var i;super(),this.contents=ne(e.contents,!0),this.continuation=((i=e.continuations)==null?void 0:i[0].nextContinuationData.continuation)||null}}op.type="musicPlaylistShelfContinuation";class Pa extends l{constructor(e){var i,n,s,o;super(),this.contents=k(e.contents),this.continuation=((n=(i=e.continuations)==null?void 0:i[0].nextContinuationData)==null?void 0:n.continuation)||((o=(s=e.continuations)==null?void 0:s[0].reloadContinuationData)==null?void 0:o.continuation)||null}}Pa.type="musicShelfContinuation";class rp extends l{constructor(e){var i;super(),this.items=ne(e.items,!0),this.continuation=((i=e.continuations)==null?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}}rp.type="gridContinuation";class Vv extends l{constructor(e){var i,n,s,o,r,c;super(),this.contents=k(e.contents),this.continuation=((s=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextContinuationData)==null?void 0:s.continuation)||((c=(r=(o=e.continuations)==null?void 0:o[0])==null?void 0:r.nextRadioContinuationData)==null?void 0:c.continuation)||null}}Vv.type="playlistPanelContinuation";class ap extends l{constructor(e){var i,n,s;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)==null?void 0:i.timeoutMs,this.time_until_last_message_ms=(n=e.continuation)==null?void 0:n.timeUntilLastMessageMsec,this.token=(s=e.continuation)==null?void 0:s.continuation}}ap.type="continuation";class cp extends l{constructor(e){var s,o,r,c,h,d,p,_;super(),this.actions=ne((s=e.actions)==null?void 0:s.map(b=>(delete b.clickTrackingParams,b)),!0)||X([]),this.action_panel=m(e.actionPanel),this.item_list=m(e.itemList,Wh),this.header=m(e.header,Fh),this.participants_list=m(e.participantsList,jh),this.popout_message=m(e.popoutMessage,Yt),this.emojis=((o=e.emojis)==null?void 0:o.map(b=>({emoji_id:b.emojiId,shortcuts:b.shortcuts,search_terms:b.searchTerms,image:C.fromResponse(b.image),is_custom_emoji:b.isCustomEmoji})))||[];let i,n;(r=e.continuations)!=null&&r[0].timedContinuationData?(n="timed",i=(c=e.continuations)==null?void 0:c[0].timedContinuationData):(h=e.continuations)!=null&&h[0].invalidationContinuationData?(n="invalidation",i=(d=e.continuations)==null?void 0:d[0].invalidationContinuationData):(p=e.continuations)!=null&&p[0].liveChatReplayContinuationData&&(n="replay",i=(_=e.continuations)==null?void 0:_[0].liveChatReplayContinuationData),this.continuation=new ap({continuation:i,type:n}),this.viewer_name=e.viewerName}}cp.type="liveChatContinuation";class Pr extends l{constructor(e){super(),this.request=e.request,this.token=e.token}}Pr.type="ContinuationCommand";var Zo;class VS{constructor(e,i){var n,s,o,r,c,h,d,p;if(Zo.set(this,void 0),i&&T(this,Zo,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=(n=e.stereoLayout)==null?void 0:n.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.last_modified_ms=e.lastModified,Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=(s=e.spatialAudioType)==null?void 0:s.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:(o=e.colorInfo.primaries)==null?void 0:o.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(r=e.colorInfo.transferCharacteristics)==null?void 0:r.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(c=e.colorInfo.matrixCoefficients)==null?void 0:c.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){const _=new URLSearchParams(this.cipher||this.signature_cipher),w=(h=new URLSearchParams(_.get("url")||this.url).get("xtags"))==null?void 0:h.split(":");if(this.language=((d=w==null?void 0:w.find(v=>v.startsWith("lang=")))==null?void 0:d.split("=")[1])||null,this.has_audio){this.is_drc=!!e.isDrc||!!(w!=null&&w.includes("drc=1"));const v=(p=w==null?void 0:w.find(S=>S.startsWith("acont=")))==null?void 0:p.split("=")[1];this.is_dubbed=v==="dubbed",this.is_descriptive=v==="descriptive",this.is_secondary=v==="secondary",this.is_auto_dubbed=v==="dubbed-auto",this.is_original=v==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_auto_dubbed&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(e){return e?e.decipher(this.url,this.signature_cipher,this.cipher,a(this,Zo,"f")):this.url||""}}Zo=new WeakMap;class US{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=C.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}}const Bi="Parser",FS=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","PromotedSparklesWeb","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),up=new Map(Object.entries(ES)),WS=new Map;let pn=null,Ei=({classname:t,...e})=>{switch(e.error_type){case"parse":e.error instanceof Error&&Oe(Bi,new g(`Something went wrong at ${t}!
This is a bug, please report it at ${j.shim.info.bugs_url}`,{stack:e.error.stack,classdata:JSON.stringify(e.classdata,null,2)}));break;case"typecheck":Oe(Bi,new yn(`Type mismatch, got ${t} expected ${Array.isArray(e.expected)?e.expected.join(" | "):e.expected}.`,e.classdata));break;case"mutation_data_missing":Oe(Bi,new g(`Mutation data required for processing ${t}, but none found.
This is a bug, please report it at ${j.shim.info.bugs_url}`));break;case"mutation_data_invalid":Oe(Bi,new g(`Mutation data missing or invalid for ${e.failed} out of ${e.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${e.titles.join(", ")}.
This is a bug, please report it at ${j.shim.info.bugs_url}`));break;case"class_not_found":Oe(Bi,new g(`${t} not found!
This is a bug, want to help us fix it? Follow the instructions at ${j.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${j.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${Hf(t,e.key_info)}`));break;case"class_changed":Oe(Bi,`${t} changed!
The following keys where altered: ${e.changed_keys.map(([i])=>No(i)).join(", ")}
The class has changed to:
${Hf(t,e.key_info)}`);break;default:Oe(Bi,"Unreachable code reached at ParserErrorHandler");break}};function Nt(){pn=null}function Dt(){pn=new ub}function HS(t,e){if(!pn)return;const i=pn.get(t);if(!i)return pn.set(t,[e]);i.push(e)}function Ot(){if(!pn)throw new Error("Parser#getMemo() called before Parser#createMemo()");return pn}function Uv(t){return FS.has(t)}function Aa(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}function Ar(t){const e=up.get(t);if(!e){const i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}function lp(t){return up.has(t)}function jS(t,e){up.set(t,e),WS.set(t,e)}function re(t){var Dp,Op,Lp,Bp,Vp,Up,Fp,Wp,Hp,jp,Gp,qp,Yp,Kp,$p,zp;const e={};Dt();const i=ne(t.contents),n=Ot();i&&(e.contents=i,e.contents_memo=n),Nt(),Dt();const s=t.onResponseReceivedActions?Xa(t.onResponseReceivedActions):null,o=Ot();s&&(e.on_response_received_actions=s,e.on_response_received_actions_memo=o),Nt(),Dt();const r=t.onResponseReceivedEndpoints?Xa(t.onResponseReceivedEndpoints):null,c=Ot();r&&(e.on_response_received_endpoints=r,e.on_response_received_endpoints_memo=c),Nt(),Dt();const h=t.onResponseReceivedCommands?Xa(t.onResponseReceivedCommands):null,d=Ot();h&&(e.on_response_received_commands=h,e.on_response_received_commands_memo=d),Nt(),Dt();const p=t.continuationContents?$f(t.continuationContents):null,_=Ot();p&&(e.continuation_contents=p,e.continuation_contents_memo=_),Nt(),Dt();const b=t.actions?zS(t.actions):null,w=Ot();b&&(e.actions=b,e.actions_memo=w),Nt(),Dt();const v=t.liveChatItemContextMenuSupportedRenderers?m(t.liveChatItemContextMenuSupportedRenderers):null,S=Ot();v&&(e.live_chat_item_context_menu_supported_renderers=v,e.live_chat_item_context_menu_supported_renderers_memo=S),Nt(),Dt();const R=t.header?ne(t.header):null,I=Ot();R&&(e.header=R,e.header_memo=I),Nt(),Dt();const O=t.sidebar?m(t.sidebar):null,N=Ot();O&&(e.sidebar=O,e.sidebar_memo=N),Nt(),Dt();const q=ne(t.items);q&&(e.items=q,e.items_memo=Ot()),Nt(),QS(n,(Op=(Dp=t.frameworkUpdates)==null?void 0:Dp.entityBatchUpdate)==null?void 0:Op.mutations),c&&XS(c,(Bp=(Lp=t.frameworkUpdates)==null?void 0:Lp.entityBatchUpdate)==null?void 0:Bp.mutations);const Z=t.continuation?$S(t.continuation):null;Z&&(e.continuation=Z);const pe=t.continuationEndpoint?$f(t.continuationEndpoint):null;pe&&(e.continuation_endpoint=pe);const D=ne(t.metadata);D&&(e.metadata=D);const $=m(t.microformat);$&&(e.microformat=$);const V=m(t.overlay);V&&(e.overlay=V);const U=k(t.alerts,[Kr,Bu]);U.length&&(e.alerts=U);const J=t.refinements;J&&(e.refinements=J);const se=t.estimatedResults?parseInt(t.estimatedResults):null;se&&(e.estimated_results=se);const Ye=ne(t.playerOverlays);Ye&&(e.player_overlays=Ye);const wt=m(t.background,Kt);wt&&(e.background=wt);const vt=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;vt&&(e.playback_tracking=vt);const xt=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:m(t.playabilityStatus.audioOnlyPlayability,Uu),error_screen:m(t.playabilityStatus.errorScreen)}:null;if(xt&&(e.playability_status=xt),t.streamingData){const Lo=new Map;e.streaming_data={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:zf(t.streamingData.formats,Lo),adaptive_formats:zf(t.streamingData.adaptiveFormats,Lo),dash_manifest_url:t.streamingData.dashManifestUrl,hls_manifest_url:t.streamingData.hlsManifestUrl,server_abr_streaming_url:t.streamingData.serverAbrStreamingUrl}}t.playerConfig&&(e.player_config={audio_config:{loudness_db:(Vp=t.playerConfig.audioConfig)==null?void 0:Vp.loudnessDb,perceptual_loudness_db:(Up=t.playerConfig.audioConfig)==null?void 0:Up.perceptualLoudnessDb,enable_per_format_loudness:(Fp=t.playerConfig.audioConfig)==null?void 0:Fp.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((Wp=t.playerConfig.streamSelectionConfig)==null?void 0:Wp.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((jp=(Hp=t.playerConfig.mediaCommonConfig)==null?void 0:Hp.dynamicReadaheadConfig)==null?void 0:jp.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((qp=(Gp=t.playerConfig.mediaCommonConfig)==null?void 0:Gp.dynamicReadaheadConfig)==null?void 0:qp.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((Kp=(Yp=t.playerConfig.mediaCommonConfig)==null?void 0:Yp.dynamicReadaheadConfig)==null?void 0:Kp.readAheadGrowthRateMs)||0},media_ustreamer_request_config:{video_playback_ustreamer_config:(zp=($p=t.playerConfig.mediaCommonConfig)==null?void 0:$p.mediaUstreamerRequestConfig)==null?void 0:zp.videoPlaybackUstreamerConfig}}});const Ke=t.currentVideoEndpoint?new y(t.currentVideoEndpoint):null;Ke&&(e.current_video_endpoint=Ke);const _i=t.endpoint?new y(t.endpoint):null;_i&&(e.endpoint=_i);const Zt=m(t.captions,_d);Zt&&(e.captions=Zt);const fe=t.videoDetails?new US(t.videoDetails):null;fe&&(e.video_details=fe);const et=k(t.annotations,md);et.length&&(e.annotations=et);const me=m(t.storyboards,[bo,gd]);me&&(e.storyboards=me);const Be=m(t.endscreen,ah);Be&&(e.endscreen=Be);const ct=m(t.cards,xl);ct&&(e.cards=ct);const he=k(t.engagementPanels,To);return he.length&&(e.engagement_panels=he),t.playerResponse&&(e.player_response=re(t.playerResponse)),t.watchNextResponse&&(e.watch_next_response=re(t.watchNextResponse)),t.cpnInfo&&(e.cpn_info={cpn:t.cpnInfo.cpn,cpn_source:t.cpnInfo.cpnSource}),t.entries&&(e.entries=t.entries.map(Lo=>new y(Lo))),e}function m(t,e){if(!t)return null;const i=Object.keys(t);if(!i.length)return null;const n=Aa(i[0]);if(!Uv(n))try{const o=lp(n)?Ar(n):tp(n,t[i[0]],Ei);if(e){if(Array.isArray(e)){if(!e.some(c=>c.type===o.type))return Ei({classdata:t[i[0]],classname:n,error_type:"typecheck",expected:e.map(c=>c.type)}),null}else if(o.type!==e.type)return Ei({classdata:t[i[0]],classname:n,error_type:"typecheck",expected:e.type}),null}const r=new o(t[i[0]]);return HS(n,r),r}catch(s){return Ei({classname:n,classdata:t[i[0]],error:s,error_type:"parse"}),null}return null}function k(t,e){if(Array.isArray(t)){const i=[];for(const n of t){const s=m(n,e);s&&i.push(s)}return X(i)}else if(!t)return X([]);throw new yn("Expected array but got a single item")}function ne(t,e,i){if(!t)return null;if(Array.isArray(t)){const n=[];for(const o of t){const r=m(o,i);r&&n.push(r)}const s=X(n);return e?s:new io(s)}else if(e)throw new yn("Expected array but got a single item");return new io(m(t,i))}const GS=/Command$/,qS=/Endpoint$/,YS=/Action$/;function Fv(t){let e=[];try{e=Object.keys(t)}catch{}for(const i of e){const n=t[i];if(GS.test(i)||qS.test(i)||YS.test(i)){const s=Aa(i);if(Uv(s))return;try{if(lp(s))return new(Ar(s))(n)}catch(o){Ei({error:o,classname:s,classdata:n,error_type:"parse"})}}}}function KS(t){if(Array.isArray(t)){const e=[];for(const i of t){const n=Fv(i);n&&e.push(n)}return X(e)}else if(!t)return X([]);throw new yn("Expected array but got a single item")}function $S(t){return t.timedContinuationData?new ap({continuation:t.timedContinuationData,type:"timed"}):null}function $f(t){return t.itemSectionContinuation?new ip(t.itemSectionContinuation):t.sectionListContinuation?new bn(t.sectionListContinuation):t.liveChatContinuation?new cp(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new op(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new Pa(t.musicShelfContinuation):t.gridContinuation?new rp(t.gridContinuation):t.playlistPanelContinuation?new Vv(t.playlistPanelContinuation):t.continuationCommand?new Pr(t.continuationCommand):null}function Xa(t){return X(t.map(e=>{if(e.navigateAction)return new np(e.navigateAction);if(e.showMiniplayerCommand)return new Bv(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new sp(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new qr(e.appendContinuationItemsAction)}).filter(e=>e))}function zS(t){return Array.isArray(t)?ne(t.map(e=>(delete e.clickTrackingParams,e))):new io(m(t))}function zf(t,e){return(t==null?void 0:t.map(i=>new VS(i,e)))||[]}function QS(t,e){const i=t.getType(ln);if(i.length>0&&!e)Ei({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{const n=[];for(const s of i){const o=e.find(c=>{var h,d;return((d=(h=c.payload)==null?void 0:h.musicFormBooleanChoice)==null?void 0:d.id)===s.form_item_entity_key}),r=o==null?void 0:o.payload.musicFormBooleanChoice;(r==null?void 0:r.selected)!==void 0&&(r!=null&&r.opaqueToken)?s.selected=r.selected:n.push(`'${s.title}'`)}n.length>0&&Ei({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:n.length,titles:n})}}function XS(t,e){var n,s,o,r,c,h;const i=t.getType(Io);if(i.length>0){e||Ei({error_type:"mutation_data_missing",classname:"CommentView"});for(const d of i){const p=(s=(n=e.find(w=>{var v,S;return((S=(v=w.payload)==null?void 0:v.commentEntityPayload)==null?void 0:S.key)===d.keys.comment}))==null?void 0:n.payload)==null?void 0:s.commentEntityPayload,_=(r=(o=e.find(w=>{var v,S;return((S=(v=w.payload)==null?void 0:v.engagementToolbarStateEntityPayload)==null?void 0:S.key)===d.keys.toolbar_state}))==null?void 0:o.payload)==null?void 0:r.engagementToolbarStateEntityPayload,b=(h=(c=e.find(w=>w.entityKey===d.keys.toolbar_surface))==null?void 0:c.payload)==null?void 0:h.engagementToolbarSurfaceEntityPayload;d.applyMutations(p,_,b)}}}var In;class ZS{constructor(e){if(In.set(this,void 0),T(this,In,re(e.data),"f"),!a(this,In,"f").contents)throw new g("Page contents not found");const i=a(this,In,"f").contents.array().as(Cu).first();if(!i)throw new g("Account section list not found");this.contents=i.contents.first()}get page(){return a(this,In,"f")}}In=new WeakMap;var Cs,Ne,Is,Qe,ji,Wv,qc;class ge{constructor(e,i,n=!1){Cs.add(this),Ne.set(this,void 0),Is.set(this,void 0),Qe.set(this,void 0),ji.set(this,void 0),a(this,Cs,"m",Wv).call(this,i)||n?T(this,Ne,i,"f"):T(this,Ne,re(i.data),"f");const s=GC(a(this,Ne,"f").contents_memo,a(this,Ne,"f").continuation_contents_memo,a(this,Ne,"f").on_response_received_commands_memo,a(this,Ne,"f").on_response_received_endpoints_memo,a(this,Ne,"f").on_response_received_actions_memo,a(this,Ne,"f").sidebar_memo,a(this,Ne,"f").header_memo);if(!s)throw new g("No memo found in feed");T(this,Qe,s,"f"),T(this,Is,e,"f")}static getVideosFromMemo(e){return e.getType(Zr,mh,va,Ta,Jr,ga,ns,zd)}static getPlaylistsFromMemo(e){const i=e.getType(hs,dh),n=e.getType(qh).filter(s=>["PLAYLIST","ALBUM","PODCAST"].includes(s.content_type));return n.length>0&&i.push(...n),i}get videos(){return ge.getVideosFromMemo(a(this,Qe,"f"))}get posts(){return a(this,Qe,"f").getType(vo,wa,Ld)}get channels(){return a(this,Qe,"f").getType(Il,hh)}get playlists(){return ge.getPlaylistsFromMemo(a(this,Qe,"f"))}get memo(){return a(this,Qe,"f")}get page_contents(){var s;const e=(s=a(this,Qe,"f").getType(je))==null?void 0:s.first().content,i=a(this,Qe,"f").getType(sp).first(),n=a(this,Qe,"f").getType(qr).first();return e||i||n}get shelves(){return a(this,Qe,"f").getType(Sa,Rd,ta)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var i,n;if(!((i=a(this,Ne,"f").contents)!=null&&i.is_node))return;const e=(n=a(this,Ne,"f").contents)==null?void 0:n.item();if(e.is(ps,qd))return e.secondary_contents}get actions(){return a(this,Is,"f")}get page(){return a(this,Ne,"f")}get has_continuation(){return a(this,Cs,"m",qc).call(this).length>0}async getContinuationData(){if(a(this,ji,"f")){if(a(this,ji,"f").length===0)throw new g("There are no continuations.");return await a(this,ji,"f")[0].endpoint.call(a(this,Is,"f"),{parse:!0})}if(T(this,ji,a(this,Cs,"m",qc).call(this),"f"),a(this,ji,"f"))return this.getContinuationData()}async getContinuation(){const e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new ge(this.actions,e,!0)}}Ne=new WeakMap,Is=new WeakMap,Qe=new WeakMap,ji=new WeakMap,Cs=new WeakSet,Wv=function(e){return!("data"in e)},qc=function(){if(a(this,Ne,"f").header_memo){const e=a(this,Ne,"f").header_memo.getType(xe);return a(this,Qe,"f").getType(xe).filter(i=>!e.includes(i))}return a(this,Qe,"f").getType(xe)};var En;class hp extends ge{constructor(e,i,n=!1){super(e,i,n),En.set(this,void 0)}get filter_chips(){var e,i;if(a(this,En,"f"))return a(this,En,"f")||[];if(((e=this.memo.getType(Di))==null?void 0:e.length)>1)throw new g("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(Di))==null?void 0:i.length)===0)throw new g("There are no feed filter chipbars");return T(this,En,this.memo.getType(He),"f"),a(this,En,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}async getFilteredFeed(e){var s;let i;if(typeof e=="string"){if(!this.filters.includes(e))throw new g("Filter not found",{available_filters:this.filters});i=this.filter_chips.find(o=>o.text.toString()===e)}else if(e.type==="ChipCloudChip")i=e;else throw new g("Invalid filter");if(!i)throw new g("Filter not found");if(i.is_selected)return this;const n=await((s=i.endpoint)==null?void 0:s.call(this.actions,{parse:!0}));if(!n)throw new g("Failed to get filtered feed");return new ge(this.actions,n,!0)}}En=new WeakMap;var bi,It,Rn,Es;class Ma{constructor(e,i,n){var r,c,h,d,p,_,b,w,v,S,R,I,O,N,q,Z,pe,D,$,V,U,J;bi.set(this,void 0),It.set(this,void 0),Rn.set(this,void 0),Es.set(this,void 0),T(this,It,i,"f");const s=re(e[0].data.playerResponse?e[0].data.playerResponse:e[0].data),o=(r=e[1])!=null&&r.data?re(e[1].data):void 0;if(T(this,bi,[s,o],"f"),T(this,Rn,n,"f"),((c=s.playability_status)==null?void 0:c.status)==="ERROR")throw new g("This video is unavailable",s.playability_status);if(s.microformat&&!((h=s.microformat)!=null&&h.is(Pt,hn)))throw new g("Unsupported microformat",s.microformat);this.basic_info={...s.video_details,embed:(d=s.microformat)!=null&&d.is(Pt)?(p=s.microformat)==null?void 0:p.embed:null,channel:(_=s.microformat)!=null&&_.is(Pt)?(b=s.microformat)==null?void 0:b.channel:null,is_unlisted:(w=s.microformat)==null?void 0:w.is_unlisted,is_family_safe:(v=s.microformat)==null?void 0:v.is_family_safe,category:(S=s.microformat)!=null&&S.is(Pt)?(R=s.microformat)==null?void 0:R.category:null,has_ypc_metadata:(I=s.microformat)!=null&&I.is(Pt)?(O=s.microformat)==null?void 0:O.has_ypc_metadata:null,start_timestamp:(N=s.microformat)!=null&&N.is(Pt)?s.microformat.start_timestamp:null,end_timestamp:(q=s.microformat)!=null&&q.is(Pt)?s.microformat.end_timestamp:null,view_count:(Z=s.microformat)!=null&&Z.is(Pt)&&isNaN((pe=s.video_details)==null?void 0:pe.view_count)?s.microformat.view_count:(D=s.video_details)==null?void 0:D.view_count,url_canonical:($=s.microformat)!=null&&$.is(hn)?(V=s.microformat)==null?void 0:V.url_canonical:null,tags:(U=s.microformat)!=null&&U.is(hn)?(J=s.microformat)==null?void 0:J.tags:null,like_count:void 0,is_liked:void 0,is_disliked:void 0},this.annotations=s.annotations,this.storyboards=s.storyboards,this.endscreen=s.endscreen,this.captions=s.captions,this.cards=s.cards,this.streaming_data=s.streaming_data,this.playability_status=s.playability_status,this.player_config=s.player_config,T(this,Es,s.playback_tracking,"f")}async toDash(e,i,n={include_thumbnails:!1}){var c,h;const s=a(this,bi,"f")[0];if(s.video_details&&s.video_details.is_live)throw new g("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let o,r;return n.include_thumbnails&&s.storyboards&&(o=s.storyboards),typeof n.captions_format=="string"&&((c=s.captions)!=null&&c.caption_tracks)&&(r=s.captions.caption_tracks),Mk(this.streaming_data,(h=this.page[0].video_details)==null?void 0:h.is_post_live_dvr,e,i,a(this,Rn,"f"),a(this,It,"f").session.player,a(this,It,"f"),o,r,n)}getStreamingInfo(e,i){var n;return _b(this.streaming_data,(n=this.page[0].video_details)==null?void 0:n.is_post_live_dvr,e,i,this.cpn,a(this,It,"f").session.player,a(this,It,"f"),a(this,bi,"f")[0].storyboards?a(this,bi,"f")[0].storyboards:void 0)}chooseFormat(e){return bb(e,this.streaming_data)}async download(e={}){const i=a(this,bi,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new g("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Nk(e,a(this,It,"f"),this.playability_status,this.streaming_data,a(this,It,"f").session.player,this.cpn)}async getTranscript(){var o;const e=this.page[1];if(!e)throw new g("Cannot get transcript from basic video info.");if(!e.engagement_panels)throw new g("Engagement panels not found. Video likely has no transcript.");const i=e.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!i)throw new g("Transcript panel not found. Video likely has no transcript.");const n=(o=i.content)==null?void 0:o.as(xe);if(!n)throw new g("Transcript continuation not found.");const s=await n.endpoint.call(this.actions);return new bp(this.actions,s)}async addToWatchHistory(e=L.WEB.NAME,i=L.WEB.VERSION,n="https://www."){if(!a(this,Es,"f"))throw new g("Playback tracking not available");const s={cpn:a(this,Rn,"f"),fmt:251,rtn:0,rt:0},o=a(this,Es,"f").videostats_playback_url.replace("https://s.",n);return await a(this,It,"f").stats(o,{client_name:e,client_version:i},s)}get actions(){return a(this,It,"f")}get cpn(){return a(this,Rn,"f")}get page(){return a(this,bi,"f")}}bi=new WeakMap,It=new WeakMap,Rn=new WeakMap,Es=new WeakMap;var Gi,qi;class ss extends ge{constructor(e,i,n=!1){var s;super(e,i,n),Gi.set(this,void 0),qi.set(this,void 0),T(this,Gi,e,"f"),T(this,qi,(s=this.page.contents_memo)==null?void 0:s.getType(je),"f")}get tabs(){var e;return((e=a(this,qi,"f"))==null?void 0:e.map(i=>i.title.toString()))??[]}async getTabByName(e){var s;const i=(s=a(this,qi,"f"))==null?void 0:s.find(o=>o.title.toLowerCase()===e.toLowerCase());if(!i)throw new g(`Tab "${e}" not found`);if(i.selected)return this;const n=await i.endpoint.call(a(this,Gi,"f"));return new ss(a(this,Gi,"f"),n,!1)}async getTabByURL(e){var s;const i=(s=a(this,qi,"f"))==null?void 0:s.find(o=>{var r;return((r=o.endpoint.metadata.url)==null?void 0:r.split("/").pop())===e});if(!i)throw new g(`Tab "${e}" not found`);if(i.selected)return this;const n=await i.endpoint.call(a(this,Gi,"f"));return new ss(a(this,Gi,"f"),n,!1)}hasTabWithURL(e){var i;return((i=a(this,qi,"f"))==null?void 0:i.some(n=>{var s;return((s=n.endpoint.metadata.url)==null?void 0:s.split("/").pop())===e}))??!1}get title(){var e,i,n;return(n=(i=(e=this.page.contents_memo)==null?void 0:e.getType(je))==null?void 0:i.find(s=>s.selected))==null?void 0:n.title.toString()}}Gi=new WeakMap,qi=new WeakMap;let JS=class ht extends ss{constructor(e,i,n=!1){var r,c,h,d,p;super(e,i,n),this.header=(c=(r=this.page.header)==null?void 0:r.item())==null?void 0:c.as(Jn,kl,kh,dn);const s=(h=this.page.metadata)==null?void 0:h.item().as(El),o=(d=this.page.microformat)==null?void 0:d.as(hn);if(this.page.alerts){const _=this.page.alerts.first();if((_==null?void 0:_.alert_type)==="ERROR")throw new HC(_.text.toString())}if(!s&&!this.page.contents)throw new g("Invalid channel",this);this.metadata={...s,...o||{}},this.subscribe_button=(p=this.page.header_memo)==null?void 0:p.getType(zt).first(),this.page.contents&&(this.current_tab=this.page.contents.item().as(ps).tabs.array().filterType(je,qs).get({selected:!0}))}async applyFilter(e){let i;const n=this.memo.getType(Di).first();if(typeof e=="string"){if(i=n==null?void 0:n.contents.get({text:e}),!i)throw new g(`Filter ${e} not found`,{available_filters:this.filters})}else i=e;if(!i.endpoint)throw new g("Invalid filter",e);const s=await i.endpoint.call(this.actions,{parse:!0});if(!s)throw new g("No page returned",{filter:i});return new Mr(this.actions,s,!0)}async applySort(e){const i=this.memo.getType(Mi).first();if(!i||!i.sub_menu_items)throw new g("No sort filter sub menu found");const n=i.sub_menu_items.find(o=>o.title===e);if(!n)throw new g(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(n.selected)return this;const s=await n.endpoint.call(this.actions,{parse:!0});return new ht(this.actions,s,!0)}async applyContentTypeFilter(e){var o,r,c;const i=(c=(r=(o=this.current_tab)==null?void 0:o.content)==null?void 0:r.as(le).sub_menu)==null?void 0:c.as(vr);if(!i)throw new g("Sub menu not found");const n=i.content_type_sub_menu_items.find(h=>h.title===e);if(!n)throw new g(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(n.selected)return this;const s=await n.endpoint.call(this.actions,{parse:!0});return new ht(this.actions,s,!0)}get filters(){var e,i;return((i=(e=this.memo.getType(Di))==null?void 0:e[0])==null?void 0:i.contents.filterType(He).map(n=>n.text))||[]}get sort_filters(){var i;const e=this.memo.getType(Mi).first();return((i=e==null?void 0:e.sub_menu_items)==null?void 0:i.map(n=>n.title))||[]}get content_type_filters(){var i,n,s;const e=(s=(n=(i=this.current_tab)==null?void 0:i.content)==null?void 0:n.as(le).sub_menu)==null?void 0:s.as(vr);return(e==null?void 0:e.content_type_sub_menu_items.map(o=>o.title))||[]}async getHome(){const e=await this.getTabByURL("featured");return new ht(this.actions,e.page,!0)}async getVideos(){const e=await this.getTabByURL("videos");return new ht(this.actions,e.page,!0)}async getShorts(){const e=await this.getTabByURL("shorts");return new ht(this.actions,e.page,!0)}async getLiveStreams(){const e=await this.getTabByURL("streams");return new ht(this.actions,e.page,!0)}async getReleases(){const e=await this.getTabByURL("releases");return new ht(this.actions,e.page,!0)}async getPodcasts(){const e=await this.getTabByURL("podcasts");return new ht(this.actions,e.page,!0)}async getPlaylists(){const e=await this.getTabByURL("playlists");return new ht(this.actions,e.page,!0)}async getCommunity(){const e=await this.getTabByURL("community");return new ht(this.actions,e.page,!0)}async getAbout(){var i,n,s,o,r;if(this.hasTabWithURL("about"))return(await this.getTabByURL("about")).memo.getType(wr)[0];const e=((i=this.header)==null?void 0:i.is(Jn))&&this.header.tagline;if(e||(n=this.header)!=null&&n.is(dn)&&((s=this.header.content)!=null&&s.description)){if(e&&e.more_endpoint instanceof y){const d=await e.more_endpoint.call(this.actions);return new ss(this.actions,d,!1).memo.getType(wr)[0]}const c=(r=(o=this.page.header_memo)==null?void 0:o.getType(xe)[0])==null?void 0:r.endpoint;if(!c)throw new g("Failed to extract continuation to get channel about");const h=await c.call(this.actions,{parse:!0});if(!h.on_response_received_endpoints_memo)throw new g("Unexpected response while fetching channel about",{response:h});return h.on_response_received_endpoints_memo.getType(xu)[0]}throw new g("About not found")}async search(e){var s;const i=(s=this.memo.getType(qs))==null?void 0:s[0];if(!i)throw new g("Search tab not found",this);const n=await i.endpoint.call(this.actions,{query:e,parse:!0});return new ht(this.actions,n,!0)}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,n,s,o;return this.hasTabWithURL("about")||!!((e=this.header)!=null&&e.is(Jn)&&((i=this.header.tagline)!=null&&i.more_endpoint))||!!((n=this.header)!=null&&n.is(dn)&&((o=(s=this.header.content)==null?void 0:s.description)!=null&&o.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(qs))==null?void 0:e.length)>0}async getContinuation(){const e=await super.getContinuationData();if(!e)throw new g("Could not get continuation data");return new dp(this.actions,e,!0)}};class dp extends ge{constructor(e,i,n=!1){var s,o;super(e,i,n),this.contents=((s=this.page.on_response_received_actions)==null?void 0:s.first())||((o=this.page.on_response_received_endpoints)==null?void 0:o.first())}async getContinuation(){const e=await super.getContinuationData();if(!e)throw new g("Could not get continuation data");return new dp(this.actions,e,!0)}}class Mr extends hp{constructor(e,i,n=!1){var s;super(e,i,n),this.applied_filter=this.memo.getType(He).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=(s=this.page.on_response_received_actions)==null?void 0:s.first()}async applyFilter(e){const i=await super.getFilteredFeed(e);return new Mr(this.actions,i.page,!0)}async getContinuation(){const e=await super.getContinuationData();if(!(e!=null&&e.on_response_received_actions_memo))throw new g("Unexpected continuation data",e);return e.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(Di)),e.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(He)),new Mr(this.actions,e,!0)}}var Pn,Bt,An;class Nr{constructor(e,i,n=!1){var h,d,p;Pn.set(this,void 0),Bt.set(this,void 0),An.set(this,void 0),T(this,Pn,n?i:re(i),"f"),T(this,Bt,e,"f");const s=a(this,Pn,"f").on_response_received_endpoints;if(!s)throw new g("Comments page did not have any content.");const o=s.at(0),r=s.at(1);this.header=(h=o==null?void 0:o.contents)==null?void 0:h.firstOfType(Co);const c=((d=r==null?void 0:r.contents)==null?void 0:d.filterType(Gl))||[];this.contents=X(c.map(_=>(_.comment&&_.comment.setActions(a(this,Bt,"f")),_.setActions(a(this,Bt,"f")),_))),T(this,An,(p=r==null?void 0:r.contents)==null?void 0:p.firstOfType(xe),"f")}async applySort(e){var s,o,r,c;if(!this.header)throw new g("Page header is missing. Cannot apply sort option.");let i;if(e==="TOP_COMMENTS"?i=(o=(s=this.header.sort_menu)==null?void 0:s.sub_menu_items)==null?void 0:o.at(0):e==="NEWEST_FIRST"&&(i=(c=(r=this.header.sort_menu)==null?void 0:r.sub_menu_items)==null?void 0:c.at(1)),!i)throw new g("Could not find target button.");if(i.selected)return this;const n=await i.endpoint.call(a(this,Bt,"f"),{parse:!0});return new Nr(a(this,Bt,"f"),n,!0)}async createComment(e){var n;if(!this.header)throw new g("Page header is missing. Cannot create comment.");const i=(n=this.header.create_renderer)==null?void 0:n.as(jl).submit_button;if(!i)throw new g("Could not find target button. You are probably not logged in.");if(!i.endpoint)throw new g("Button does not have an endpoint.");return await i.endpoint.call(a(this,Bt,"f"),{commentText:e})}async getContinuation(){if(!a(this,An,"f"))throw new g("Continuation not found");const e=await a(this,An,"f").endpoint.call(a(this,Bt,"f"),{parse:!0}),i=Object.assign({},a(this,Pn,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new g("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Nr(a(this,Bt,"f"),i,!0)}get has_continuation(){return!!a(this,An,"f")}get page(){return a(this,Pn,"f")}}Pn=new WeakMap,Bt=new WeakMap,An=new WeakMap;var Mn;class eT{constructor(e){Mn.set(this,void 0),T(this,Mn,re(e),"f"),a(this,Mn,"f").items&&(this.contents=a(this,Mn,"f").items.array().as(ua,_h))}get page(){return a(this,Mn,"f")}}Mn=new WeakMap;class Na extends ge{constructor(e,i,n=!1){super(e,i,n),this.sections=this.memo.getType(at),this.feed_actions=this.memo.getType($u).first()}async getContinuation(){const e=await this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Na(this.actions,e,!0)}async removeVideo(e){let i;for(const r of this.sections)for(const c of r.contents){const h=c;if(h.id===e&&h.menu){i=h.menu.top_level_buttons[0].as(E).endpoint.payload.feedbackToken;break}}if(!i)throw new Error("Failed to get feedback token");const n={feedbackTokens:[i]};if(!(await this.actions.execute("/feedback",n)).data.feedbackResponses[0].isProcessed)throw new Error("Failed to remove video from watch history");return!0}}let tT=class Yc extends hp{constructor(e,i,n=!1){var s;super(e,i,n),this.header=this.memo.getType(lh).first(),this.contents=this.memo.getType(Ao).first()||((s=this.page.on_response_received_actions)==null?void 0:s.first())}async applyFilter(e){const i=await super.getFilteredFeed(e);return new Yc(this.actions,i.page,!0)}async getContinuation(){var i;const e=await super.getContinuation();return e.page.header=this.page.header,this.header&&((i=e.page.header_memo)==null||i.set(this.header.type,[this.header])),new Yc(this.actions,e.page,!0)}};class pp extends hp{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new g("Unexpected response",this.page);const n=this.page.contents_memo.getType(je).first();if(!n.content)throw new g("Content tab has no content",n);this.page.header&&(this.header=this.page.header.item().as(bh,dn)),this.contents=n.content.as(Ao)}async applyFilter(e){const i=await super.getFilteredFeed(e);return new pp(this.actions,i.page)}}var Jo,er,Rs;class iT{constructor(e,i){Jo.set(this,void 0),er.set(this,void 0),Rs.set(this,void 0),T(this,Jo,e,"f"),T(this,er,i,"f");const n=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!n||!n.is(te))throw new g('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');T(this,Rs,n.as(te).items,"f")}async selectItem(e){let i;if(e instanceof E){if(!e.endpoint)throw new g("Item does not have an endpoint.");i=e.endpoint}else{const n=a(this,Rs,"f").find(s=>s.is(un)?s.as(un).icon_type===e:!1);if(!n||!n.is(un))throw new g(`Button "${e}" not found.`);i=n.endpoint}if(!i)throw new g("Target button does not have an endpoint.");return await i.call(a(this,er,"f"),{parse:!0})}items(){return a(this,Rs,"f")}page(){return a(this,Jo,"f")}}Jo=new WeakMap,er=new WeakMap,Rs=new WeakMap;var Ps,tr;let fp=class Hv extends ge{constructor(e,i,n=!1){var h,d,p,_;super(e,i,n),Ps.add(this);const s=this.memo.getType(kd).first(),o=this.memo.getType(Td).first(),r=this.memo.getType(Cd).first(),c=(h=this.page.alerts)==null?void 0:h.firstOfType(Kr);if(c&&c.alert_type==="ERROR")throw new g(c.text.toString(),c);if(!o&&!r&&Object.keys(this.page).length===0)throw new g("Got empty continuation response. This is likely the end of the playlist.");this.info={...(d=this.page.metadata)==null?void 0:d.item().as(Sd),subtitle:s?s.subtitle:null,author:((p=r==null?void 0:r.owner)==null?void 0:p.as(Ia).author)??(s==null?void 0:s.author),thumbnails:(_=o==null?void 0:o.thumbnail_renderer)==null?void 0:_.as(na,ia).thumbnail,total_items:a(this,Ps,"m",tr).call(this,0,o),views:a(this,Ps,"m",tr).call(this,1,o),last_updated:a(this,Ps,"m",tr).call(this,2,o),can_share:s==null?void 0:s.can_share,can_delete:s==null?void 0:s.can_delete,is_editable:s==null?void 0:s.is_editable,privacy:s==null?void 0:s.privacy},this.menu=o==null?void 0:o.menu,this.endpoint=o==null?void 0:o.endpoint,this.messages=this.memo.getType(Yt)}get items(){return X(this.videos.as(ga,va,Ta).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){const e=this.memo.getType(le).first();return e?!!this.memo.getType(xe).find(i=>!e.contents.includes(i)):super.has_continuation}async getContinuationData(){const e=this.memo.getType(le).first();if(!e)return await super.getContinuationData();const i=this.memo.getType(xe).find(n=>!e.contents.includes(n));if(!i)throw new g("There are no continuations.");return await i.endpoint.call(this.actions,{parse:!0})}async getContinuation(){const e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Hv(this.actions,e,!0)}};Ps=new WeakSet,tr=function(e,i){var n;return!i||!i.stats?"N/A":((n=i.stats[e])==null?void 0:n.toString())||"N/A"};var Kc,jv;let nT=class extends ge{constructor(e,i){if(super(e,i),Kc.add(this),!this.page.contents_memo)throw new g("Page contents not found");this.header=this.memo.getType(dn).first();const n=this.page.contents_memo.getType(Sa);this.sections=n.map(s=>{var o;return{type:s.icon_type,title:s.title,contents:((o=s.content)==null?void 0:o.key("items").array())||[],getAll:()=>a(this,Kc,"m",jv).call(this,s)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};Kc=new WeakSet,jv=async function(e){var s;if(!((s=e.menu)!=null&&s.as(te).top_level_buttons))throw new g(`The ${e.title.text} shelf doesn't have more items`);const i=e.menu.as(te).top_level_buttons.firstOfType(E);if(!i)throw new g("Did not find target button.");const n=await i.as(E).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new fp(this.actions,n,!0);case"WATCH_HISTORY":return new Na(this.actions,n,!0);case"CONTENT_CUT":return new ge(this.actions,n,!0);default:throw new g("Target shelf not implemented.")}};var ni,yi,Yi,dt,Et,ze;function sT(t){const e=[];for(const i of t)if(Array.isArray(i))for(const n of i)e.push(n);else e.push(i);return e}class oT{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}}class rT{constructor(){ni.set(this,void 0),yi.set(this,void 0),Yi.set(this,void 0),dt.set(this,void 0),Et.set(this,void 0),ze.set(this,void 0),T(this,ni,null,"f"),T(this,yi,null,"f"),T(this,Yi,null,"f"),T(this,dt,[],"f"),T(this,Et,null,"f"),T(this,ze,new oT,"f")}enqueueActionGroup(e){if(a(this,ni,"f")!==null){const i=Date.now()-a(this,ni,"f");a(this,ze,"f").back.push(i),5<a(this,ze,"f").front.length+a(this,ze,"f").back.length&&(a(this,ze,"f").front.length||(a(this,ze,"f").front=a(this,ze,"f").back,a(this,ze,"f").front.reverse(),a(this,ze,"f").back=[]),a(this,ze,"f").front.pop()),T(this,yi,Math.max(...a(this,ze,"f").getValues()),"f")}T(this,ni,Date.now(),"f"),a(this,dt,"f").push(e),a(this,Et,"f")===null&&T(this,Et,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(T(this,Et,null,"f"),a(this,dt,"f").length){let e=1e4;a(this,yi,"f")!==null&&a(this,ni,"f")!==null&&(e=a(this,yi,"f")-Date.now()+a(this,ni,"f")),e=a(this,dt,"f").length<e/80?1:Math.ceil(a(this,dt,"f").length/(e/80));const i=sT(a(this,dt,"f").splice(0,e));a(this,Yi,"f")&&a(this,Yi,"f").call(this,i),a(this,dt,"f")!==null&&(e==1?(e=a(this,yi,"f")/a(this,dt,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,T(this,Et,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){a(this,Et,"f")!==null&&(clearTimeout(a(this,Et,"f")),T(this,Et,null,"f")),T(this,dt,[],"f")}set callback(e){T(this,Yi,e,"f")}get callback(){return a(this,Yi,"f")}get action_queue(){return a(this,dt,"f")}get estimated_update_interval(){return a(this,yi,"f")}get last_update_time(){return a(this,ni,"f")}get next_update_id(){return a(this,Et,"f")}get poll_response_delay_queue(){return a(this,ze,"f")}}ni=new WeakMap,yi=new WeakMap,Yi=new WeakMap,dt=new WeakMap,Et=new WeakMap,ze=new WeakMap;var Ce,ci,Ks,ir,rn,As,Ms,$c,nr,Gv,Ji;class aT extends lb{constructor(e){var i,n;super(),Ce.add(this),ci.set(this,void 0),Ks.set(this,void 0),ir.set(this,void 0),rn.set(this,void 0),As.set(this,void 0),Ms.set(this,0),this.running=!1,this.is_replay=!1,T(this,Ks,e.basic_info.id,"f"),T(this,ir,e.basic_info.channel_id,"f"),T(this,ci,e.actions,"f"),T(this,rn,(i=e.livechat)==null?void 0:i.continuation,"f"),this.is_replay=((n=e.livechat)==null?void 0:n.is_replay)||!1,this.smoothed_queue=new rT,this.smoothed_queue.callback=async s=>{s.length?s.length<10?await a(this,Ce,"m",nr).call(this,s):this.is_replay?(a(this,Ce,"m",nr).call(this,s),await a(this,Ce,"m",Ji).call(this,2e3)):a(this,Ce,"m",nr).call(this,s):await a(this,Ce,"m",Ji).call(this,2e3),this.running&&a(this,Ce,"m",$c).call(this)}}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,a(this,Ce,"m",$c).call(this),a(this,Ce,"m",Gv).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}async sendMessage(e){const i=eS.encode({params:{ids:{videoId:a(this,Ks,"f"),channelId:a(this,ir,"f")}},number0:1,number1:4}),n=btoa(encodeURIComponent(jt(i.finish()))),s=await a(this,ci,"f").execute("/live_chat/send_message",{richMessage:{textSegments:[{text:e}]},clientMessageId:j.shim.uuidv4(),client:"WEB",parse:!0,params:n});if(!s.actions)throw new g("Unexpected response from send_message",s);return s.actions.array().as(Rh)}applyFilter(e){var n,s,o,r,c,h,d;if(!this.initial_info)throw new g("Cannot apply filter before initial info is retrieved.");const i=(o=(s=(n=this.initial_info)==null?void 0:n.header)==null?void 0:s.view_selector)==null?void 0:o.sub_menu_items;if(e==="TOP_CHAT"){if((r=i==null?void 0:i.at(0))!=null&&r.selected)return;T(this,rn,(c=i==null?void 0:i.at(0))==null?void 0:c.continuation,"f")}else{if((h=i==null?void 0:i.at(1))!=null&&h.selected)return;T(this,rn,(d=i==null?void 0:i.at(1))==null?void 0:d.continuation,"f")}}async getItemMenu(e){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(y))throw new g("This item does not have a menu.",e);const i=await e.key("menu_endpoint").instanceof(y).call(a(this,ci,"f"),{parse:!0});if(!i)throw new g("Could not retrieve item menu.",e);return new iT(i,a(this,ci,"f"))}async selectButton(e){return await e.endpoint.call(a(this,ci,"f"),{parse:!0})}}ci=new WeakMap,Ks=new WeakMap,ir=new WeakMap,rn=new WeakMap,As=new WeakMap,Ms=new WeakMap,Ce=new WeakSet,$c=function t(){(async()=>{var e,i;try{const n=await a(this,ci,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:a(this,rn,"f"),parse:!0}),s=n.continuation_contents;if(s||(this.emit("error",new g("Unexpected live chat incremental continuation response",n)),this.emit("end"),this.stop()),!(s instanceof cp)){this.stop(),this.emit("end");return}T(this,rn,s.continuation.token,"f"),s.header?(this.initial_info=s,this.emit("start",s),this.running&&a(this,Ce,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(s.actions),T(this,Ms,0,"f")}catch(n){this.emit("error",n),T(this,Ms,(i=a(this,Ms,"f"),e=i++,i),"f"),e<10?(await a(this,Ce,"m",Ji).call(this,2e3),a(this,Ce,"m",t).call(this)):(this.emit("error",new g("Reached retry limit for incremental continuation requests",n)),this.emit("end"),this.stop())}})()},nr=async function(e){let n=e.length<125?1:Math.ceil(e.length/125);const s=n==1?(n=1e4/e.length,n*=Math.random()+.5,n=Math.min(1e3,n),n=Math.max(80,n)):n=80;for(const o of e)await a(this,Ce,"m",Ji).call(this,s),this.emit("chat-update",o)},Gv=function t(){(async()=>{var e,i,n,s,o,r,c,h,d,p,_;try{const b={videoId:a(this,Ks,"f")};a(this,As,"f")&&(b.continuation=a(this,As,"f"));const w=await a(this,ci,"f").execute("/updated_metadata",b),v=re(w.data);T(this,As,(e=v.continuation)==null?void 0:e.token,"f"),this.metadata={title:((i=v.actions)==null?void 0:i.array().firstOfType(Bh))||((n=this.metadata)==null?void 0:n.title),description:((s=v.actions)==null?void 0:s.array().firstOfType(Lh))||((o=this.metadata)==null?void 0:o.description),views:((r=v.actions)==null?void 0:r.array().firstOfType(Uh))||((c=this.metadata)==null?void 0:c.views),likes:((h=v.actions)==null?void 0:h.array().firstOfType(Vh))||((d=this.metadata)==null?void 0:d.likes),date:((p=v.actions)==null?void 0:p.array().firstOfType(Oh))||((_=this.metadata)==null?void 0:_.date)},this.emit("metadata-update",this.metadata),await a(this,Ce,"m",Ji).call(this,5e3),this.running&&a(this,Ce,"m",t).call(this)}catch{await a(this,Ce,"m",Ji).call(this,2e3),this.running&&a(this,Ce,"m",t).call(this)}})()},Ji=async function(e){return new Promise(i=>setTimeout(()=>i(),e))};var gi,Ns;class mp{constructor(e,i){if(gi.set(this,void 0),Ns.set(this,void 0),T(this,Ns,e,"f"),T(this,gi,re(i.data),"f"),!a(this,gi,"f").actions_memo)throw new g("Page actions not found");this.header=a(this,gi,"f").actions_memo.getType(zh).first(),this.contents=a(this,gi,"f").actions_memo.getType(hd)}async getContinuation(){var n;const e=(n=a(this,gi,"f").actions_memo)==null?void 0:n.getType(xe).first();if(!e)throw new g("Continuation not found");const i=await e.endpoint.call(a(this,Ns,"f"),{parse:!1});return new mp(a(this,Ns,"f"),i)}get page(){return a(this,gi,"f")}}gi=new WeakMap,Ns=new WeakMap;let cT=class zc extends ge{constructor(e,i,n=!1){var o,r,c;super(e,i,n);const s=((o=this.page.contents_memo)==null?void 0:o.getType(le).first().contents)||((r=this.page.on_response_received_commands)==null?void 0:r.first().contents);if(!s)throw new g("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(Ad)),this.results=X(s.filterType(at).flatMap(h=>h.contents)),this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType(Md).first(),this.watch_card=this.page.contents_memo.getType(Yd).first()),this.refinement_cards=(c=this.results)==null?void 0:c.firstOfType(ko)}async selectRefinementCard(e){var s,o;let i;if(typeof e=="string"){if(!this.refinement_cards)throw new g("No refinement cards found.");if(i=(o=(s=this.refinement_cards)==null?void 0:s.cards.get({query:e}))==null?void 0:o.as(no),!i)throw new g(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")i=e;else throw new g("Invalid refinement card!");const n=await i.endpoint.call(this.actions,{parse:!0});return new zc(this.actions,n,!0)}get refinement_card_queries(){var e;return((e=this.refinement_cards)==null?void 0:e.cards.as(no).map(i=>i.query))||[]}async getContinuation(){const e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new zc(this.actions,e,!0)}};var Ki,Ds;class _p{constructor(e,i){var o,r,c,h;if(Ki.set(this,void 0),Ds.set(this,void 0),T(this,Ds,e,"f"),T(this,Ki,re(i.data),"f"),this.sidebar=(o=a(this,Ki,"f").sidebar)==null?void 0:o.as(Od),!a(this,Ki,"f").contents)throw new g("Page contents not found");const n=a(this,Ki,"f").contents.item().as(ps).tabs.array().as(je).get({selected:!0});if(!n)throw new g("Target tab not found");const s=(r=n.content)==null?void 0:r.as(le).contents.as(at);this.introduction=(h=(c=s==null?void 0:s.shift())==null?void 0:c.contents)==null?void 0:h.firstOfType(pd),this.sections=s==null?void 0:s.map(d=>{var p;return{title:(p=d.header)!=null&&p.is(Co,la,ha)?d.header.title.toString():null,contents:d.contents}})}async selectSidebarItem(e){if(!this.sidebar)throw new g("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new g(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(go))i=e;else throw new g("Invalid item",{target_item:e});const n=await i.endpoint.call(a(this,Ds,"f"),{parse:!1});return new _p(a(this,Ds,"f"),n)}getSettingOption(e){var i;if(!this.sections)throw new g("Sections not available");for(const n of this.sections)if(n.contents)for(const s of n.contents){const o=s.as(Ys).options;if(o){for(const r of o)if(r.is(ka)&&((i=r.title)==null?void 0:i.toString())===e)return r}}throw new g(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new g("Sections not available");let e=[];for(const i of this.sections)if(i.contents)for(const n of i.contents)n.as(Ys).options&&(e=e.concat(n.as(Ys).options));return e.map(i=>{var n;return(n=i.title)==null?void 0:n.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new g("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return a(this,Ki,"f")}}Ki=new WeakMap,Ds=new WeakMap;var wi;let Qf=class qv extends Ma{constructor(e,i,n){var d,p,_,b,w,v,S,R,I,O,N,q,Z,pe,D,$,V,U,J,se,Ye,wt,vt,xt,Ke,_i,Zt,fe,et;super(e,i,n),wi.set(this,void 0);const[s,o]=this.page;if(this.streaming_data){const me=this.streaming_data.adaptive_formats.find(Be=>{var ct;return(ct=Be.audio_track)==null?void 0:ct.audio_is_default});if(me)this.streaming_data.formats.forEach(Be=>Be.language=me.language);else if((d=this.captions)!=null&&d.caption_tracks&&((p=this.captions)==null?void 0:p.caption_tracks.length)>0){const Be=this.captions.caption_tracks.find(he=>he.kind==="asr"),ct=Be==null?void 0:Be.language_code;this.streaming_data.adaptive_formats.forEach(he=>{he.has_audio&&(he.language=ct)}),this.streaming_data.formats.forEach(he=>he.language=ct)}}const r=(_=o==null?void 0:o.contents)==null?void 0:_.item().as(Ca),c=r==null?void 0:r.results,h=r==null?void 0:r.secondary_results;if(c&&h){if((b=s.microformat)!=null&&b.is(Pt)&&((w=s.microformat)==null?void 0:w.category)==="Gaming"){const he=(R=(S=(v=c.firstOfType(Er))==null?void 0:v.metadata)==null?void 0:S.rows)==null?void 0:R.firstOfType(Ir);he!=null&&he.is(Ir)&&(this.game_info={title:(O=(I=he==null?void 0:he.contents)==null?void 0:I.firstOfType(Cr))==null?void 0:O.title,release_year:(q=(N=he==null?void 0:he.contents)==null?void 0:N.firstOfType(Cr))==null?void 0:q.subtitle})}this.primary_info=c.firstOfType($d),this.secondary_info=c.firstOfType(Er),this.merchandise=c.firstOfType(Qh),this.related_chip_cloud=(Z=h.firstOfType(Ed))==null?void 0:Z.content.as(Ni),r!=null&&r.playlist&&(this.playlist=r.playlist),this.watch_next_feed=((pe=h.firstOfType(at))==null?void 0:pe.contents)||h,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((D=this.watch_next_feed.at(-1))!=null&&D.is(xe))&&T(this,wi,($=this.watch_next_feed.pop())==null?void 0:$.as(xe),"f"),this.player_overlays=(V=o==null?void 0:o.player_overlays)==null?void 0:V.item().as(Po),r!=null&&r.autoplay&&(this.autoplay=r.autoplay);const me=(J=(U=this.primary_info)==null?void 0:U.menu)==null?void 0:J.top_level_buttons.firstOfType(qn);(se=me==null?void 0:me.like_button)!=null&&se.is(Le)&&((Ye=me==null?void 0:me.dislike_button)!=null&&Ye.is(Le))&&(this.basic_info.like_count=(wt=me==null?void 0:me.like_button)==null?void 0:wt.like_count,this.basic_info.is_liked=(vt=me==null?void 0:me.like_button)==null?void 0:vt.is_toggled,this.basic_info.is_disliked=(xt=me==null?void 0:me.dislike_button)==null?void 0:xt.is_toggled);const Be=(_i=(Ke=this.primary_info)==null?void 0:Ke.menu)==null?void 0:_i.top_level_buttons.firstOfType(on);if(Be&&(this.basic_info.like_count=Be.like_count,Be.like_button)){const he=Be.like_button.like_status_entity.like_status;this.basic_info.is_liked=he==="LIKE",this.basic_info.is_disliked=he==="DISLIKE"}const ct=(Zt=c.get({target_id:"comments-entry-point"}))==null?void 0:Zt.as(at);this.comments_entry_point_header=(fe=ct==null?void 0:ct.contents)==null?void 0:fe.firstOfType(Hl),this.livechat=(et=o==null?void 0:o.contents_memo)==null?void 0:et.getType(Ch).first()}}async selectFilter(e){var o,r,c,h;if(!this.related_chip_cloud)throw new g("Chip cloud not found, cannot apply filter");let i;if(typeof e=="string"){const d=(r=(o=this.related_chip_cloud)==null?void 0:o.chips)==null?void 0:r.get({text:e});if(!d)throw new g("Invalid filter",{available_filters:this.filters});i=d}else if(e!=null&&e.is(He))i=e;else throw new g("Invalid cloud chip",e);if(i.is_selected)return this;const n=await((c=i.endpoint)==null?void 0:c.call(this.actions,{parse:!0})),s=(h=n==null?void 0:n.on_response_received_endpoints)==null?void 0:h.get({target_id:"watch-next-feed"});return this.watch_next_feed=s==null?void 0:s.contents,this}async addToWatchHistory(){return super.addToWatchHistory()}async getWatchNextContinuation(){var n,s,o,r,c;if(!a(this,wi,"f"))throw new g("Watch next feed continuation not found");const e=await((n=a(this,wi,"f"))==null?void 0:n.endpoint.call(this.actions,{parse:!0})),i=(s=e==null?void 0:e.on_response_received_endpoints)==null?void 0:s.get({type:"AppendContinuationItemsAction"});if(!i)throw new g("AppendContinuationItemsAction not found");return this.watch_next_feed=i==null?void 0:i.contents,(r=(o=this.watch_next_feed)==null?void 0:o.at(-1))!=null&&r.is(xe)?T(this,wi,(c=this.watch_next_feed.pop())==null?void 0:c.as(xe),"f"):T(this,wi,void 0,"f"),this}async like(){var s,o,r,c,h;const e=(o=(s=this.primary_info)==null?void 0:s.menu)==null?void 0:o.top_level_buttons.firstOfType(on);if(e){const d=(r=e==null?void 0:e.like_button)==null?void 0:r.toggle_button;if(!d||!d.default_button||!e.like_button)throw new g("Like button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="LIKE")throw new g("This video is already liked",{video_id:this.basic_info.id});return await new y(d.default_button.on_tap.payload.commands.find(b=>b.innertubeCommand)).call(this.actions)}const i=(h=(c=this.primary_info)==null?void 0:c.menu)==null?void 0:h.top_level_buttons.firstOfType(qn),n=i==null?void 0:i.like_button;if(!n)throw new g("Like button not found",{video_id:this.basic_info.id});if(!n.is(Le))throw new g("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new g("This video is already liked",{video_id:this.basic_info.id});return await n.endpoint.call(this.actions)}async dislike(){var s,o,r,c,h;const e=(o=(s=this.primary_info)==null?void 0:s.menu)==null?void 0:o.top_level_buttons.firstOfType(on);if(e){const d=(r=e==null?void 0:e.dislike_button)==null?void 0:r.toggle_button;if(!d||!d.default_button||!e.dislike_button||!e.like_button)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="DISLIKE")throw new g("This video is already disliked",{video_id:this.basic_info.id});return await new y(d.default_button.on_tap.payload.commands.find(b=>b.innertubeCommand)).call(this.actions)}const i=(h=(c=this.primary_info)==null?void 0:c.menu)==null?void 0:h.top_level_buttons.firstOfType(qn),n=i==null?void 0:i.dislike_button;if(!n)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(!n.is(Le))throw new g("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new g("This video is already disliked",{video_id:this.basic_info.id});return await n.endpoint.call(this.actions)}async removeRating(){var r,c,h,d,p,_,b;let e;const i=(c=(r=this.primary_info)==null?void 0:r.menu)==null?void 0:c.top_level_buttons.firstOfType(on);if(i){const w=(h=i==null?void 0:i.like_button)==null?void 0:h.toggle_button;if(!w||!w.default_button||!i.like_button)throw new g("Like button not found",{video_id:this.basic_info.id});const v=i.like_button.like_status_entity.like_status;if(v==="LIKE")e=(d=i==null?void 0:i.like_button)==null?void 0:d.toggle_button;else if(v==="DISLIKE")e=(p=i==null?void 0:i.dislike_button)==null?void 0:p.toggle_button;else throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});if(!e||!e.toggled_button)throw new g("Like/Dislike button not found",{video_id:this.basic_info.id});return await new y(e.toggled_button.on_tap.payload.commands.find(R=>R.innertubeCommand)).call(this.actions)}const n=(b=(_=this.primary_info)==null?void 0:_.menu)==null?void 0:b.top_level_buttons.firstOfType(qn),s=n==null?void 0:n.like_button,o=n==null?void 0:n.dislike_button;if(!(s!=null&&s.is(Le))||!(o!=null&&o.is(Le)))throw new g("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s!=null&&s.is_toggled?e=s:o!=null&&o.is_toggled&&(e=o),!e)throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});return await e.toggled_endpoint.call(this.actions)}getLiveChat(){if(!this.livechat)throw new g("Live Chat is not available",{video_id:this.basic_info.id});return new aT(this)}getTrailerInfo(){var e,i;if(this.has_trailer&&this.playability_status){const n=(i=(e=this.playability_status.error_screen)==null?void 0:e.as(Tr).trailer)==null?void 0:i.player_response;if(n)return new qv([{data:n}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)==null?void 0:e.chips)==null?void 0:i.map(n=>{var s;return(s=n.text)==null?void 0:s.toString()}))||[]}get wn_has_continuation(){return!!a(this,wi,"f")}get autoplay_video_endpoint(){var e,i,n;return((n=(i=(e=this.autoplay)==null?void 0:e.sets)==null?void 0:i[0])==null?void 0:n.autoplay_video)||null}get has_trailer(){var e,i;return!!((i=(e=this.playability_status)==null?void 0:e.error_screen)!=null&&i.is(Tr))}get music_tracks(){var i,n,s,o,r,c;const e=(n=(i=this.page[1])==null?void 0:i.engagement_panels)==null?void 0:n.filter(h=>{var d;return(d=h.content)==null?void 0:d.is(ro)});if(e!==void 0&&e.length>0){const h=(r=(o=(s=e[0].content)==null?void 0:s.as(ro))==null?void 0:o.items)==null?void 0:r.filterType(ea);if(h!==void 0&&h.length>0)return(c=h[0].carousel_lockups)==null?void 0:c.map(d=>{var R,I,O,N,q,Z,pe,D,$,V,U,J,se,Ye,wt,vt,xt,Ke,_i;let p,_,b,w,v,S;p=(I=(R=d.video_lockup)==null?void 0:R.title)==null?void 0:I.toString(),v=(O=d.video_lockup)==null?void 0:O.endpoint.payload.videoId;for(let Zt=0;Zt<d.info_rows.length;Zt++){const fe=d.info_rows[Zt];if(fe.info_row_expand_status_key===void 0)if(p===void 0){if(p=((N=fe.default_metadata)==null?void 0:N.toString())||((q=fe.expanded_metadata)==null?void 0:q.toString()),v===void 0){const et=((Z=fe.default_metadata)==null?void 0:Z.endpoint)||((pe=fe.expanded_metadata)==null?void 0:pe.endpoint);v=(D=et==null?void 0:et.payload)==null?void 0:D.videoId}}else b=(($=fe.default_metadata)==null?void 0:$.toString())||((V=fe.expanded_metadata)==null?void 0:V.toString());else{if(((U=fe.info_row_expand_status_key)==null?void 0:U.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(_=((J=fe.default_metadata)==null?void 0:J.toString())||((se=fe.expanded_metadata)==null?void 0:se.toString()),S===void 0)){const et=((Ye=fe.default_metadata)==null?void 0:Ye.endpoint)||((wt=fe.expanded_metadata)==null?void 0:wt.endpoint);S=(vt=et==null?void 0:et.payload)==null?void 0:vt.browseId}((xt=fe.info_row_expand_status_key)==null?void 0:xt.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(w=((Ke=fe.default_metadata)==null?void 0:Ke.toString())||((_i=fe.expanded_metadata)==null?void 0:_i.toString()))}}return{song:p,artist:_,album:b,license:w,videoId:v,channelId:S}})}return[]}};wi=new WeakMap;var Nn,Os;class bp{constructor(e,i){if(Nn.set(this,void 0),Os.set(this,void 0),T(this,Nn,re(i.data),"f"),T(this,Os,e,"f"),!a(this,Nn,"f").actions_memo)throw new Error("Page actions not found");this.transcript=a(this,Nn,"f").actions_memo.getType(Yr).first()}async selectLanguage(e){var s,o,r,c;const i=(c=(r=(o=(s=this.transcript.content)==null?void 0:s.footer)==null?void 0:o.language_menu)==null?void 0:r.sub_menu_items)==null?void 0:c.find(h=>h.title.toString()===e);if(!i)throw new Error(`Language not found: ${e}`);if(i.selected)return this;const n=await a(this,Os,"f").execute("/get_transcript",{params:i.continuation});return new bp(a(this,Os,"f"),n)}get languages(){var e,i,n,s;return((s=(n=(i=(e=this.transcript.content)==null?void 0:e.footer)==null?void 0:i.language_menu)==null?void 0:n.sub_menu_items)==null?void 0:s.map(o=>o.title.toString()))||[]}get selectedLanguage(){var e,i,n,s,o;return((o=(s=(n=(i=(e=this.transcript.content)==null?void 0:e.footer)==null?void 0:i.language_menu)==null?void 0:n.sub_menu_items)==null?void 0:s.find(r=>r.selected))==null?void 0:o.title.toString())||""}get page(){return a(this,Nn,"f")}}Nn=new WeakMap,Os=new WeakMap;var Vt;class uT{constructor(e){var i,n,s;if(Vt.set(this,void 0),T(this,Vt,re(e.data),"f"),!a(this,Vt,"f").contents_memo)throw new Error("No contents found in the response");this.header=(i=a(this,Vt,"f").contents_memo.getType(_a,ya))==null?void 0:i.first(),this.contents=((n=a(this,Vt,"f").contents_memo.getType(Ee))==null?void 0:n.first().contents)||X([]),this.sections=a(this,Vt,"f").contents_memo.getType(_t)||X([]),this.background=a(this,Vt,"f").background,this.url=(s=a(this,Vt,"f").microformat)==null?void 0:s.as(hn).url_canonical}get page(){return a(this,Vt,"f")}}Vt=new WeakMap;var Dn,sr;class lT{constructor(e,i){var o,r,c;Dn.set(this,void 0),sr.set(this,void 0),T(this,Dn,re(e.data),"f"),T(this,sr,i,"f"),this.header=(o=this.page.header)==null?void 0:o.item().as(od,ld,Ro);const n=((r=a(this,Dn,"f").contents_memo)==null?void 0:r.getType(Ee))||[],s=((c=a(this,Dn,"f").contents_memo)==null?void 0:c.getType(_t))||[];this.sections=X([...n,...s])}async getAllSongs(){var s,o;const e=this.sections.filter(r=>r.type==="MusicShelf");if(!e.length)throw new g("Could not find any node of type MusicShelf.");const i=e.find(r=>r.title.toString()==="Songs");if(!i)throw new g("Could not find target shelf (Songs).");if(!i.endpoint)throw new g("Target shelf (Songs) did not have an endpoint.");return(o=(s=(await i.endpoint.call(a(this,sr,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)==null?void 0:s.getType(uo))==null?void 0:o.first()}get page(){return a(this,Dn,"f")}}Dn=new WeakMap,sr=new WeakMap;var Ls;class hT{constructor(e){var s,o,r;Ls.set(this,void 0),T(this,Ls,re(e.data),"f");const i=(s=a(this,Ls,"f").contents)==null?void 0:s.item().as(Mo).tabs.get({selected:!0});if(!i)throw new g("Could not find target tab.");const n=(o=i.content)==null?void 0:o.as(le);if(!n)throw new g("Target tab did not have any content.");this.top_buttons=((r=n.contents.firstOfType(ao))==null?void 0:r.items.as(fa))||[],this.sections=n.contents.filterType(_t)}get page(){return a(this,Ls,"f")}}Ls=new WeakMap;var vi,$i,zi;let dT=class Qc{constructor(e,i){var s,o,r,c,h,d;vi.set(this,void 0),$i.set(this,void 0),zi.set(this,void 0),T(this,$i,i,"f"),T(this,vi,re(e.data),"f");const n=(s=a(this,vi,"f").contents)==null?void 0:s.item().as(Mo).tabs.get({selected:!0});if(!n)throw new g("Could not find Home tab.");if(n.content===null){if(!a(this,vi,"f").continuation_contents)throw new g("Continuation did not have any content.");T(this,zi,a(this,vi,"f").continuation_contents.as(bn).continuation,"f"),this.sections=(o=a(this,vi,"f").continuation_contents.as(bn).contents)==null?void 0:o.as(_t);return}this.header=(c=(r=n.content)==null?void 0:r.as(le).header)==null?void 0:c.as(Ni),T(this,zi,(h=n.content)==null?void 0:h.as(le).continuation,"f"),this.sections=(d=n.content)==null?void 0:d.as(le).contents.as(_t,ud)}async getContinuation(){if(!a(this,zi,"f"))throw new g("Continuation not found.");const e=await a(this,$i,"f").execute("/browse",{client:"YTMUSIC",continuation:a(this,zi,"f")});return new Qc(e,a(this,$i,"f"))}async applyFilter(e){var s,o;let i;if(typeof e=="string"){if(i=(o=(s=this.header)==null?void 0:s.chips)==null?void 0:o.as(He).get({text:e}),!i)throw new g("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(He)&&(i=e);if(!i)throw new g("Invalid filter",{available_filters:this.filters});if(i!=null&&i.is_selected)return this;if(!i.endpoint)throw new g("Selected filter does not have an endpoint.");const n=await i.endpoint.call(a(this,$i,"f"),{client:"YTMUSIC"});return new Qc(n,a(this,$i,"f"))}get filters(){var e,i;return((i=(e=this.header)==null?void 0:e.chips)==null?void 0:i.as(He).map(n=>n.text))||[]}get has_continuation(){return!!a(this,zi,"f")}get page(){return a(this,vi,"f")}};vi=new WeakMap,$i=new WeakMap,zi=new WeakMap;var Ut,xi,On,Ln,Bs,Bn;class yp{constructor(e,i){var s,o,r,c,h;Ut.set(this,void 0),xi.set(this,void 0),On.set(this,void 0),T(this,Ut,re(e.data),"f"),T(this,xi,i,"f");const n=(s=a(this,Ut,"f").contents_memo)==null?void 0:s.getType(le).first();this.header=(o=n==null?void 0:n.header)==null?void 0:o.as(ad),this.contents=(r=n==null?void 0:n.contents)==null?void 0:r.as(ao,Ee),T(this,On,(h=(c=this.contents)==null?void 0:c.find(d=>d.continuation))==null?void 0:h.continuation,"f")}async applySort(e){var r,c,h,d,p,_,b,w,v;let i;if(typeof e=="string"){const S=(r=a(this,Ut,"f").contents_memo)==null?void 0:r.getType(Sr).first(),R=(c=S==null?void 0:S.menu)==null?void 0:c.options.filter(I=>I instanceof ln);if(i=R==null?void 0:R.find(I=>I.title===e),!i)throw new g(`Sort option "${e}" not found`,{available_filters:R.map(I=>I.title)})}else i=e;if(!i.endpoint)throw new g("Invalid sort option");if(i.selected)return this;const n=(p=(d=(h=i.endpoint.payload)==null?void 0:h.commands)==null?void 0:d.find(S=>S.browseSectionListReloadEndpoint))==null?void 0:p.browseSectionListReloadEndpoint;if(!n)throw new g("Failed to find sort option command");const s=await a(this,xi,"f").execute("/browse",{client:"YTMUSIC",continuation:n.continuation.reloadContinuationData.continuation,parse:!0}),o=(b=(_=a(this,Ut,"f").contents_memo)==null?void 0:_.getType(ln))==null?void 0:b.find(S=>S.selected);return o&&(o.selected=!1),i.selected=!0,this.contents=(v=(w=s.continuation_contents)==null?void 0:w.as(bn).contents)==null?void 0:v.as(ao,Ee),this}async applyFilter(e){var r,c,h;let i;const n=(r=a(this,Ut,"f").contents_memo)==null?void 0:r.getType(Ni).first();if(typeof e=="string"){if(i=n==null?void 0:n.chips.get({text:e}),!i)throw new g(`Filter "${e}" not found`,{available_filters:this.filters})}else i=e;if(!i.endpoint)throw new g("Invalid filter",e);const o=await new y((h=(c=i.endpoint.payload)==null?void 0:c.commands)==null?void 0:h[0]).call(a(this,xi,"f"),{client:"YTMUSIC"});return new yp(o,a(this,xi,"f"))}async getContinuation(){if(!a(this,On,"f"))throw new g("No continuation available");const e=await a(this,xi,"f").execute("/browse",{client:"YTMUSIC",continuation:a(this,On,"f")});return new gp(e,a(this,xi,"f"))}get has_continuation(){return!!a(this,On,"f")}get sort_options(){var n,s;const e=(n=a(this,Ut,"f").contents_memo)==null?void 0:n.getType(Sr).first();return((s=e==null?void 0:e.menu)==null?void 0:s.options.filter(o=>o instanceof ln)).map(o=>o.title)}get filters(){var e,i;return((i=(e=a(this,Ut,"f").contents_memo)==null?void 0:e.getType(Ni))==null?void 0:i.first().chips.map(n=>n.text))||[]}get page(){return a(this,Ut,"f")}}Ut=new WeakMap,xi=new WeakMap,On=new WeakMap;class gp{constructor(e,i){if(Ln.set(this,void 0),Bs.set(this,void 0),Bn.set(this,void 0),T(this,Ln,re(e.data),"f"),T(this,Bs,i,"f"),!a(this,Ln,"f").continuation_contents)throw new g("No continuation contents found");this.contents=a(this,Ln,"f").continuation_contents.as(Pa,rp),T(this,Bn,this.contents.continuation||null,"f")}async getContinuation(){if(!a(this,Bn,"f"))throw new g("No continuation available");const e=await a(this,Bs,"f").execute("/browse",{client:"YTMUSIC",continuation:a(this,Bn,"f")});return new gp(e,a(this,Bs,"f"))}get has_continuation(){return!!a(this,Bn,"f")}get page(){return a(this,Ln,"f")}}Ln=new WeakMap,Bs=new WeakMap,Bn=new WeakMap;var Xc,ot,en,Qi,Vn,$s,Yv;class Da{constructor(e,i){var n,s,o,r,c,h;if(Xc.add(this),ot.set(this,void 0),en.set(this,void 0),Qi.set(this,void 0),Vn.set(this,void 0),$s.set(this,void 0),T(this,en,i,"f"),T(this,ot,re(e.data),"f"),T(this,Vn,null,"f"),T(this,$s,null,"f"),a(this,ot,"f").continuation_contents){const d=(n=a(this,ot,"f").continuation_contents)==null?void 0:n.as(op);if(!d.contents)throw new g("No contents found in the response");this.contents=d.contents.as(wn),T(this,Qi,d.continuation,"f")}else{if(!a(this,ot,"f").contents_memo)throw new g("No contents found in the response");this.header=(s=a(this,ot,"f").contents_memo.getType(ya,sd,_a))==null?void 0:s.first(),this.contents=((r=(o=a(this,ot,"f").contents_memo.getType(uo))==null?void 0:o.first())==null?void 0:r.contents)||X([]),this.background=a(this,ot,"f").background,T(this,Qi,((h=(c=a(this,ot,"f").contents_memo.getType(uo))==null?void 0:c.first())==null?void 0:h.continuation)||null,"f")}}async getContinuation(){if(!a(this,Qi,"f"))throw new g("Continuation not found.");const e=await a(this,en,"f").execute("/browse",{client:"YTMUSIC",continuation:a(this,Qi,"f")});return new Da(e,a(this,en,"f"))}async getRelated(){var n,s,o,r;const e=(n=a(this,ot,"f").contents_memo)==null?void 0:n.getType(le).find(c=>c.continuation);if(!e)throw new g('Could not find "Related" section.');let i=e.continuation;for(;i;){const h=(s=(await a(this,en,"f").execute("/browse",{client:"YTMUSIC",continuation:i,parse:!0})).continuation_contents)==null?void 0:s.as(bn),d=(o=h==null?void 0:h.contents)==null?void 0:o.as(_t,Ee),p=(r=d==null?void 0:d.find(_=>_.is(_t)))==null?void 0:r.as(_t);if(p)return p;i=h==null?void 0:h.continuation}throw new g("Could not fetch related playlists.")}async getSuggestions(e=!0){const s=await(e||!a(this,Vn,"f")?a(this,Xc,"m",Yv).call(this):Promise.resolve(null));return s&&(T(this,Vn,s.items,"f"),T(this,$s,s.continuation,"f")),(s==null?void 0:s.items)||a(this,Vn,"f")||X([])}get page(){return a(this,ot,"f")}get items(){return this.contents||X([])}get has_continuation(){return!!a(this,Qi,"f")}}ot=new WeakMap,en=new WeakMap,Qi=new WeakMap,Vn=new WeakMap,$s=new WeakMap,Xc=new WeakSet,Yv=async function(){var n,s,o,r;const e=(n=a(this,ot,"f").contents_memo)==null?void 0:n.getType(le).find(c=>c.continuation),i=a(this,$s,"f")||(e==null?void 0:e.continuation);if(i){const h=(s=(await a(this,en,"f").execute("/browse",{client:"YTMUSIC",continuation:i,parse:!0})).continuation_contents)==null?void 0:s.as(bn),d=(o=h==null?void 0:h.contents)==null?void 0:o.as(_t,Ee),p=(r=d==null?void 0:d.find(_=>_.is(Ee)))==null?void 0:r.as(Ee);return{items:(p==null?void 0:p.contents)||X([]),continuation:(p==null?void 0:p.continuation)||null}}return{items:X([]),continuation:null}};var ki,Vs;class pT{constructor(e,i){var o,r,c,h,d,p,_;ki.set(this,void 0),Vs.set(this,void 0),T(this,ki,re(e.data),"f"),T(this,Vs,i,"f");const n=(o=a(this,ki,"f").header)==null?void 0:o.item();this.header=n!=null&&n.is(kr)?(h=(c=(r=a(this,ki,"f").header)==null?void 0:r.item().as(kr).element)==null?void 0:c.model)==null?void 0:h.as(xr):(d=a(this,ki,"f").header)==null?void 0:d.item().as(Ro);const s=(p=a(this,ki,"f").contents)==null?void 0:p.item().as(Mo).tabs.firstOfType(je);if(!s)throw new g("Target tab not found");this.sections=(_=s.content)==null?void 0:_.as(le).contents.as(at,_t,Yt)}async getPlaylist(){if(!this.header)throw new g("Header not found");if(!this.header.is(xr))throw new g("Recap playlist not available, check back later.");const i=await this.header.panels[0].text_on_tap_endpoint.call(a(this,Vs,"f"),{client:"YTMUSIC"});return new Da(i,a(this,Vs,"f"))}get page(){return a(this,ki,"f")}}ki=new WeakMap,Vs=new WeakMap;var Ft,si,Un,Us,Fn;let fT=class Zc{constructor(e,i,n){var r,c,h;if(Ft.set(this,void 0),si.set(this,void 0),Un.set(this,void 0),T(this,si,i,"f"),T(this,Ft,re(e.data),"f"),!a(this,Ft,"f").contents||!a(this,Ft,"f").contents_memo)throw new g("Response did not contain any contents.");const s=a(this,Ft,"f").contents.item().as(jd).tabs.get({selected:!0});if(!s)throw new g("Could not find target tab.");const o=(r=s.content)==null?void 0:r.as(le);if(!o)throw new g("Target tab did not have any content.");this.header=(c=o.header)==null?void 0:c.as(Ni),this.contents=o.contents.as(Ee,Jh,at),n&&T(this,Un,(h=this.contents.firstOfType(Ee))==null?void 0:h.continuation,"f")}async getMore(e){if(!e||!e.endpoint)throw new g("Cannot retrieve more items for this shelf because it does not have an endpoint.");const i=await e.endpoint.call(a(this,si,"f"),{client:"YTMUSIC"});if(!i)throw new g("Endpoint did not return any data");return new Zc(i,a(this,si,"f"),!0)}async getContinuation(){if(!a(this,Un,"f"))throw new g("Continuation not found.");const e=await a(this,si,"f").execute("/search",{continuation:a(this,Un,"f"),client:"YTMUSIC"});return new wp(a(this,si,"f"),e)}async applyFilter(e){var s,o;let i;if(typeof e=="string"){if(i=(o=(s=this.header)==null?void 0:s.chips)==null?void 0:o.as(He).get({text:e}),!i)throw new g("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(He)&&(i=e);if(!i)throw new g("Invalid filter",{available_filters:this.filters});if(i!=null&&i.is_selected)return this;if(!i.endpoint)throw new g("Selected filter does not have an endpoint.");const n=await i.endpoint.call(a(this,si,"f"),{client:"YTMUSIC"});return new Zc(n,a(this,si,"f"),!0)}get filters(){var e,i;return((i=(e=this.header)==null?void 0:e.chips)==null?void 0:i.as(He).map(n=>n.text))||[]}get has_continuation(){return!!a(this,Un,"f")}get did_you_mean(){var e;return(e=a(this,Ft,"f").contents_memo)==null?void 0:e.getType(ih).first()}get showing_results_for(){var e;return(e=a(this,Ft,"f").contents_memo)==null?void 0:e.getType(Ud).first()}get message(){var e;return(e=a(this,Ft,"f").contents_memo)==null?void 0:e.getType(Yt).first()}get songs(){var e;return(e=this.contents)==null?void 0:e.filterType(Ee).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)==null?void 0:e.filterType(Ee).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)==null?void 0:e.filterType(Ee).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)==null?void 0:e.filterType(Ee).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)==null?void 0:e.filterType(Ee).find(i=>i.title.toString()==="Community playlists")}get page(){return a(this,Ft,"f")}};Ft=new WeakMap,si=new WeakMap,Un=new WeakMap;class wp{constructor(e,i){var n,s;Us.set(this,void 0),Fn.set(this,void 0),T(this,Us,e,"f"),T(this,Fn,re(i.data),"f"),this.header=(n=a(this,Fn,"f").header)==null?void 0:n.item().as(Ro),this.contents=(s=a(this,Fn,"f").continuation_contents)==null?void 0:s.as(Pa)}async getContinuation(){var i;if(!((i=this.contents)!=null&&i.continuation))throw new g("Continuation not found.");const e=await a(this,Us,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new wp(a(this,Us,"f"),e)}get has_continuation(){var e;return!!((e=this.contents)!=null&&e.continuation)}get page(){return a(this,Fn,"f")}}Us=new WeakMap,Fn=new WeakMap;class Xf extends Ma{constructor(e,i,n){var o,r,c;super(e,i,n);const s=this.page[1];if(s){const h=(r=(o=s.contents_memo)==null?void 0:o.getType(Qd))==null?void 0:r[0];this.tabs=h==null?void 0:h.tabs.array().as(je),this.current_video_endpoint=s.current_video_endpoint,this.player_overlays=(c=s.player_overlays)==null?void 0:c.item().as(Po)}}async getTab(e){var s,o;if(!this.tabs)throw new g("Could not find any tab");const i=this.tabs.get({title:e})||this.tabs.matchCondition(r=>{var c,h;return((h=(c=r.endpoint.payload.browseEndpointContextSupportedConfigs)==null?void 0:c.browseEndpointContextMusicConfig)==null?void 0:h.pageType)===e})||((s=this.tabs)==null?void 0:s[0]);if(!i)throw new g(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(i.content)return i.content;const n=await i.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((o=n.contents)==null?void 0:o.item().type)==="Message")return n.contents.item().as(Yt);if(!n.contents)throw new g("Page contents was empty",n);return n.contents.item().as(le).contents}async getUpNext(e=!0){var s,o;const i=await this.getTab("Up next");if(!i||!i.content)throw new g("Music queue was empty, the video id is probably invalid.",i);const n=i.content.as(_n);if(!n.playlist_id&&e){const r=n.contents.firstOfType(wo);if(!r)throw new g("Automix item not found");const c=await((s=r.playlist_video)==null?void 0:s.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0}));if(!c||!c.contents_memo)throw new g("Could not fetch automix");return(o=c.contents_memo.getType(_n))==null?void 0:o[0]}return n}async getRelated(){return await this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")}async getLyrics(){return(await this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(Eo)}async addToWatchHistory(){return super.addToWatchHistory(L.YTMUSIC.NAME,L.YTMUSIC.VERSION,"https://music.")}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}}class vp extends ge{constructor(e,i,n=!1){var s,o;super(e,i,n),this.header=(s=this.page.header)==null?void 0:s.item().as(Jn),this.contents=this.memo.getType(at).first()||((o=this.page.continuation_contents)==null?void 0:o.as(ip))}async getContinuation(){if(!this.contents)throw new Error("No continuation available.");const i=await new y({continuationCommand:{token:this.contents.continuation,request:"CONTINUATION_REQUEST_TYPE_BROWSE"}}).call(this.actions,{client:"YTKIDS"});return new vp(this.actions,i)}get has_continuation(){var e;return!!((e=this.contents)!=null&&e.continuation)}}class xp extends ge{constructor(e,i,n=!1){var s,o;super(e,i,n),this.header=(s=this.page.header)==null?void 0:s.item().as(Zd),this.contents=(o=this.page.contents)==null?void 0:o.item().as(Jd)}async selectCategoryTab(e){var s;let i;if(typeof e=="string"?i=(s=this.header)==null?void 0:s.category_tabs.find(o=>o.title.toString()===e):e!=null&&e.is(Ra)&&(i=e),!i)throw new g(`Tab "${e}" not found`);const n=await i.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return n.header=this.page.header,n.header_memo=this.page.header_memo,new xp(this.actions,n,!0)}get categories(){var e;return((e=this.header)==null?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}}class mT extends ge{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;const n=this.memo.getType(at).first();if(!n)throw new g("No item section found in search response.");this.contents=n.contents}}class _T extends Ma{constructor(e,i,n){var h,d,p,_,b;super(e,i,n);const s=this.page[1],o=(h=s==null?void 0:s.contents)==null?void 0:h.item().as(Ca),r=o==null?void 0:o.results,c=o==null?void 0:o.secondary_results;r&&c&&(this.slim_video_metadata=(p=(d=r.firstOfType(at))==null?void 0:d.contents)==null?void 0:p.firstOfType(Fd),this.watch_next_feed=((_=c.firstOfType(at))==null?void 0:_.contents)||c,this.current_video_endpoint=s==null?void 0:s.current_video_endpoint,this.player_overlays=(b=s==null?void 0:s.player_overlays)==null?void 0:b.item().as(Po))}}var Xi;class bT extends Ma{constructor(e,i,n,s){var o;if(super(e,i,n),Xi.set(this,void 0),s){const r=re(s.data);r.entries&&(this.watch_next_feed=r.entries),r.continuation_endpoint&&T(this,Xi,(o=r.continuation_endpoint)==null?void 0:o.as(Pr),"f")}}async getWatchNextContinuation(){var i;if(!a(this,Xi,"f"))throw new g("Continuation not found");const e=await this.actions.execute("/reel/reel_watch_sequence",{sequenceParams:a(this,Xi,"f").token,parse:!0});return e.entries&&(this.watch_next_feed=e.entries),T(this,Xi,(i=e.continuation_endpoint)==null?void 0:i.as(Pr),"f"),this}get wn_has_continuation(){return!!a(this,Xi,"f")}}Xi=new WeakMap;class z{constructor(e,i,n,s){var r,c,h,d,p,_,b,w,v,S,R,I,O,N,q,Z,pe,D,$,V,U,J,se,Ye,wt,vt,xt;const o=new u(e);this.id=s||((d=(h=(c=(r=o==null?void 0:o.runs)==null?void 0:r[0])==null?void 0:c.endpoint)==null?void 0:h.payload)==null?void 0:d.browseId)||((_=(p=o==null?void 0:o.endpoint)==null?void 0:p.payload)==null?void 0:_.browseId)||"N/A",this.name=(o==null?void 0:o.text)||"N/A",this.thumbnails=n?C.fromResponse(n):[],this.endpoint=((w=(b=o==null?void 0:o.runs)==null?void 0:b[0])==null?void 0:w.endpoint)||(o==null?void 0:o.endpoint),i?Array.isArray(i)?(this.badges=k(i),this.is_moderator=(v=this.badges)==null?void 0:v.some(Ke=>Ke.icon_type=="MODERATOR"),this.is_verified=(S=this.badges)==null?void 0:S.some(Ke=>Ke.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(R=this.badges)==null?void 0:R.some(Ke=>Ke.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=X([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=X([]),this.url=((q=(N=(O=(I=o==null?void 0:o.runs)==null?void 0:I[0])==null?void 0:O.endpoint)==null?void 0:N.metadata)==null?void 0:q.api_url)==="/browse"&&`${ye.YT_BASE}${(($=(D=(pe=(Z=o==null?void 0:o.runs)==null?void 0:Z[0])==null?void 0:pe.endpoint)==null?void 0:D.payload)==null?void 0:$.canonicalBaseUrl)||`/u/${(se=(J=(U=(V=o==null?void 0:o.runs)==null?void 0:V[0])==null?void 0:U.endpoint)==null?void 0:J.payload)==null?void 0:se.browseId}`}`||`${ye.YT_BASE}${((wt=(Ye=o==null?void 0:o.endpoint)==null?void 0:Ye.payload)==null?void 0:wt.canonicalBaseUrl)||`/u/${(xt=(vt=o==null?void 0:o.endpoint)==null?void 0:vt.payload)==null?void 0:xt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}}const yT={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};class G{constructor(e,i){this.node=e,this.visitor=i}run(){}}class gT extends G{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}}const kp=(t,e)=>Object.defineProperty(e,"name",{value:t});class Dr extends Error{constructor(e,i){super(e),i&&(this.info=i)}}class wT extends G{run(){const{params:e,body:i}=this.node;return kp("anonymous function",s=>{let o=0;for(const r of e)this.visitor.visitNode(r),r.type==="Identifier"?this.visitor.scope.set(r.name,s[o]):console.warn("Unhandled param type",r.type),o++;return this.visitor.visitNode(i)})}}class Oa extends G{handleMemberExpression(e,i,n){const s=this.visitor.visitNode(e.object),o=this.visitor.visitNode(e.property),r=s[o],c=n(r,i);return s[o]=c}handleIdentifier(e,i,n){const s=this.visitor.visitNode(e),o=n(s,i);return this.visitor.scope.set(e.name,o),this.visitor.scope.get(e.name)}run(){const{operator:e,left:i,right:n}=this.node,s=this.visitor.visitNode(n),o=Oa.operatorMap[e];if(!o){console.warn("Unhandled operator:",e);return}if(i.type==="MemberExpression")return this.handleMemberExpression(i,s,o);if(i.type==="Identifier")return this.handleIdentifier(i,s,o);console.warn("Unhandled left node type:",i.type)}}Oa.operatorMap={"=":(t,e)=>e,"+=":(t,e)=>t+e,"-=":(t,e)=>t-e,"*=":(t,e)=>t*e,"/=":(t,e)=>t/e,"%=":(t,e)=>t%e,"**=":(t,e)=>t**e,"<<=":(t,e)=>t<<e,">>=":(t,e)=>t>>e,">>>=":(t,e)=>t>>>e,"&=":(t,e)=>t&e,"^=":(t,e)=>t^e,"|=":(t,e)=>t|e};class La extends G{run(){const{operator:e,left:i,right:n}=this.node,s=this.visitor.visitNode(i),o=this.visitor.visitNode(n),r=La.operatorMap[e];if(!r){console.warn("Unhandled binary operator:",e);return}return r(s,o)}}La.operatorMap={"!=":(t,e)=>t!=e,"!==":(t,e)=>t!==e,"==":(t,e)=>t==e,"===":(t,e)=>t===e,"<":(t,e)=>t<e,"<=":(t,e)=>t<=e,">":(t,e)=>t>e,">=":(t,e)=>t>=e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"**":(t,e)=>t**e,"&":(t,e)=>t&e,"|":(t,e)=>t|e,"^":(t,e)=>t^e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,in:(t,e)=>t in e,instanceof:(t,e)=>t instanceof e};class vT extends G{run(){for(const e of this.node.body){const i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&i)return i}}}class xT extends G{run(){return"break"}}var zs=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},an,or,Zf;class kT extends G{constructor(){super(...arguments),an.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){const o=this.visitor.listeners[e](this.node,this.visitor);if(o!=="__continue_exec")return o}if(i&&i!=="toString"&&this.visitor.listeners[i]){const o=this.visitor.listeners[i](this.node,this.visitor);if(o!=="__continue_exec")return o}if(this.node.callee.type==="MemberExpression"){if(Jc.has(this.node,this.visitor))return Jc.execute(this.node,this.visitor);const o=this.visitor.visitNode(this.node.callee.object),r=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),c=this.node.arguments.map(h=>this.visitor.visitNode(h));return o||zs(this,an,"m",or).call(this),typeof o[r]!="function"&&zs(this,an,"m",or).call(this),o[r].toString().includes("[native code]")?o[r](...c):o[r](c)}const n=this.visitor.visitNode(this.node.callee),s=this.node.arguments.map(o=>this.visitor.visitNode(o));return typeof n!="function"&&zs(this,an,"m",or).call(this),n(s)}}an=new WeakSet,or=function(){if(this.node.callee.type==="MemberExpression"||this.node.callee.type==="Identifier"){const e=zs(this,an,"m",Zf).call(this,this.node.callee);throw new Dr(`${e} is not a function`)}else if(this.node.callee.type==="SequenceExpression"){const e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(n=>{n.type==="Literal"?i.push(n.raw||""):n.type==="Identifier"?i.push(n.name):n.type==="MemberExpression"&&(n.computed?i.push(`${this.visitor.getName(n.object)}[${this.visitor.getName(n.property)||"..."}]`):i.push(`${this.visitor.getName(n.object)}.${this.visitor.getName(n.property)}`))}),e.push(i.join(", ")),e.push(")"),new Dr(`${e.join("")} is not a function`)}},Zf=function t(e){if(e.type==="Identifier")return e.name;if(e.type==="MemberExpression"){const i=zs(this,an,"m",t).call(this,e.object),n=e.computed?`[${this.visitor.getName(e.property)||"..."}]`:`.${this.visitor.getName(e.property)}`;return`${i}${n}`}return"<unknown>"};class Jc{static has(e,i){var n;return e.callee.type==="MemberExpression"?!!((n=this.builtins)!=null&&n[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}}Jc.builtins={forEach:(t,e)=>{const i=t.arguments.map(n=>e.visitNode(n));if(t.callee.type==="MemberExpression"){const n=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let s=0;for(const o of n)i[0]([o,s++,n])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};class ST extends G{run(){const{test:e,consequent:i,alternate:n}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(n)}}class TT extends G{run(){return"continue"}}class CT extends G{run(){}}class IT extends G{run(){return this.visitor.visitNode(this.node.expression)}}class ET extends G{run(){this.visitor.visitNode(this.node.left);const e=this.visitor.visitNode(this.node.right);for(const i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(const s of this.node.left.declarations[0].id.properties)s.type==="Property"&&s.value.type==="Identifier"&&s.key.type==="Identifier"&&this.visitor.scope.set(s.value.name,i[s.key.name]);const n=this.visitor.visitNode(this.node.body);if(n==="break")break;if(n!=="continue"&&n&&this.node.body.type!=="ExpressionStatement")return n}}}class RT extends G{run(){this.node.init&&this.visitor.visitNode(this.node.init);const e=()=>this.node.test?this.visitor.visitNode(this.node.test):!0;for(;e();){const n=this.visitor.visitNode(this.node.body);if(n!=="continue"){if(n==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),n&&this.node.body.type!=="ExpressionStatement")return n}}}}class PT extends G{run(){const{params:e,body:i}=this.node,n=this.visitor.visitNode(this.node.id),s=kp(n,o=>{let r=0;for(const c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,o[r]):console.warn("Unhandled param type",c.type),r++;return this.visitor.visitNode(i)});this.visitor.scope.set(n,s)}}class AT extends G{run(){const{params:e,body:i}=this.node;return kp("anonymous function",s=>{let o=0;for(const r of e)this.visitor.visitNode(r),r.type==="Identifier"?this.visitor.scope.set(r.name,s[o]):console.warn("Unhandled param type",r.type),o++;return this.visitor.visitNode(i)})}}class MT extends G{run(){if(this.visitor.listeners[this.node.name]){const e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="__continue_exec")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}}class NT extends G{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}}class DT extends G{run(){return this.node.value}}class Ba extends G{run(){const{operator:e,left:i,right:n}=this.node,s=Ba.operatorMap[e];if(!s){console.warn("Unhandled logical operator:",e);return}return s(this.visitor,i,n)}}Ba.operatorMap={"&&":(t,e,i)=>{const n=t.visitNode(e);return n===!0?t.visitNode(i):n},"||":(t,e,i)=>t.visitNode(e)||t.visitNode(i),"??":(t,e,i)=>{const n=(r,c)=>c&&r==="undefined"?void 0:r,s=n(t.visitNode(e),e.type==="Identifier"),o=n(t.visitNode(i),i.type==="Identifier");return s??o}};class OT extends G{run(){const{object:e,property:i,computed:n}=this.node,s=this.visitor.visitNode(e),o=n?this.visitor.visitNode(i):this.visitor.getName(i);if(o!==void 0||o!==null){if(this.visitor.listeners[o]){const r=this.visitor.listeners[o](this.node,this.visitor);if(r!=="__continue_exec")return r}return s==null?void 0:s[o]}}}class LT extends G{run(){const e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(n=>this.visitor.visitNode(n));return i.length?new e(i):new e}}class BT extends G{run(){let e={};for(const i of this.node.properties)if(i.type==="Property")e={...e,...this.visitor.visitNode(i)};else throw new Error(`Unhandled property type: ${i.type}`);return e}}var Za=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},Fs,Kv,$v,zv;class VT extends G{constructor(){super(...arguments),Fs.add(this)}run(){switch(this.node.kind){case"init":return Za(this,Fs,"m",Kv).call(this);case"get":return Za(this,Fs,"m",$v).call(this);case"set":return Za(this,Fs,"m",zv).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}}Fs=new WeakSet,Kv=function(){const e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},$v=function(){throw new TypeError("Not implemented: Property.get")},zv=function(){throw new TypeError("Not implemented: Property.set")};class UT extends G{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}}class FT extends G{run(){let e;for(const i of this.node.expressions)e=this.visitor.visitNode(i);return e}}class WT extends G{run(){for(const e of this.node.consequent){const i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}}class HT extends G{run(){const e=this.visitor.visitNode(this.node.discriminant);let i=!1,n=-1,s=0;for(;;){const o=this.node.cases[s];if(i){const r=this.visitor.visitNode(o);if(r==="break")break;if(r==="continue")return r;if(++s,s>=this.node.cases.length){s=0;break}else continue}if(i=o&&e===this.visitor.visitNode(o.test),i===void 0&&s>this.node.cases.length)break;if(o&&!i&&!o.test){n=s,s+=1;continue}if(!o&&!i&&n!==-1){i=!0,s=n;continue}i||++s}}}class jT extends G{run(){let e="";for(let i=0;i<this.node.quasis.length;++i){const n=this.node.quasis[i];if(n.type==="TemplateElement"){if(n.value.cooked===null)throw new Error(`Invalid template literal: ${n.value.raw}`);if(n.value.cooked!==void 0&&(e+=n.value.cooked),!n.tail){const s=this.node.expressions[i];if(s!==void 0)e+=this.visitor.visitNode(s);else throw new Error(`Expected expression after: ${n.value}`)}}else throw new Error(`Unhandled quasi type: ${n.type}`)}return e}}class GT extends G{run(){return this.visitor.scope.get("_this")}}class qT extends G{run(){throw this.visitor.visitNode(this.node.argument)}}class YT extends G{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}}class es extends G{static isValidOperator(e){return e in es.operatorMap}run(){const{operator:e,argument:i}=this.node;if(!es.isValidOperator(e)){console.warn("Unhandled unary operator:",e);return}return es.operatorMap[e](this.visitor,i)}}es.operatorMap={"-":(t,e)=>-t.visitNode(e),"+":(t,e)=>+t.visitNode(e),"!":(t,e)=>!t.visitNode(e),"~":(t,e)=>~t.visitNode(e),void:(t,e)=>{t.visitNode(e)},typeof:(t,e)=>{const i=t.visitNode(e);return e.type==="Identifier"&&i==="undefined"?"undefined":typeof t.visitNode(e)},delete:(t,e)=>{if(e.type==="MemberExpression"){const i=t.visitNode(e.object),n=e.computed?t.visitNode(e.property):t.getName(e.property);return delete i[n]}return e.type==="Identifier"&&t.scope.has(e.name)?t.scope.delete(e.name):!0}};class KT extends G{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){const i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){const i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}}class $T extends G{run(){this.node.declarations.forEach(e=>{const{id:i,init:n}=e,s=this.visitor.getName(i),o=n?this.visitor.visitNode(n):void 0;s&&this.visitor.scope.set(s,o),typeof o=="object"&&o!==null&&this.visitor.scope.set("_this",o)})}}class zT extends G{run(){for(;this.visitor.visitNode(this.node.test);){const e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}}const QT=Object.freeze(Object.defineProperty({__proto__:null,ArrayExpression:gT,ArrowFunctionExpression:wT,AssignmentExpression:Oa,BinaryExpression:La,BlockStatement:vT,BreakStatement:xT,CallExpression:kT,ConditionalExpression:ST,ContinueStatement:TT,EmptyStatement:CT,ExpressionStatement:IT,ForOfStatement:ET,ForStatement:RT,FunctionDeclaration:PT,FunctionExpression:AT,Identifier:MT,IfStatement:NT,Literal:DT,LogicalExpression:Ba,MemberExpression:OT,NewExpression:LT,ObjectExpression:BT,Property:VT,ReturnStatement:UT,SequenceExpression:FT,SwitchCase:WT,SwitchStatement:HT,TemplateLiteral:jT,ThisExpression:GT,ThrowStatement:qT,TryStatement:YT,UnaryExpression:es,UpdateExpression:KT,VariableDeclaration:$T,WhileStatement:zT},Symbol.toStringTag,{value:"Module"}));var XT=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},eu,Qv;class ZT{constructor(){eu.add(this),this.scope=new Map,this.listeners={},this.ast=[]}setAST(e){this.ast=e}run(){let e;for(const i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;const i=XT(this,eu,"m",Qv).call(this,e.type);return i?new i(e,this).run():null}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}}eu=new WeakSet,Qv=function(e){const i=QT[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i};var JT=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],Xv=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],eC="-----------------------------------------------------------------------------------------------------------------------------------------------------",Zv="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Ja={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ec="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",tC={5:ec,"5module":ec+" export import",6:ec+" const class extends export import super"},iC=/^in(stanceof)?$/,nC=new RegExp("["+Zv+"]"),sC=new RegExp("["+Zv+eC+"]");function tu(t,e){for(var i=65536,n=0;n<e.length;n+=2){if(i+=e[n],i>t)return!1;if(i+=e[n+1],i>=t)return!0}return!1}function li(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&nC.test(String.fromCharCode(t)):e===!1?!1:tu(t,Xv)}function os(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&sC.test(String.fromCharCode(t)):e===!1?!1:tu(t,Xv)||tu(t,JT)}var Y=function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null};function ut(t,e){return new Y(t,{beforeExpr:!0,binop:e})}var lt={beforeExpr:!0},$e={startsExpr:!0},Sp={};function H(t,e){return e===void 0&&(e={}),e.keyword=t,Sp[t]=new Y(t,e)}var f={num:new Y("num",$e),regexp:new Y("regexp",$e),string:new Y("string",$e),name:new Y("name",$e),privateId:new Y("privateId",$e),eof:new Y("eof"),bracketL:new Y("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Y("]"),braceL:new Y("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Y("}"),parenL:new Y("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Y(")"),comma:new Y(",",lt),semi:new Y(";",lt),colon:new Y(":",lt),dot:new Y("."),question:new Y("?",lt),questionDot:new Y("?."),arrow:new Y("=>",lt),template:new Y("template"),invalidTemplate:new Y("invalidTemplate"),ellipsis:new Y("...",lt),backQuote:new Y("`",$e),dollarBraceL:new Y("${",{beforeExpr:!0,startsExpr:!0}),eq:new Y("=",{beforeExpr:!0,isAssign:!0}),assign:new Y("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Y("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Y("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ut("||",1),logicalAND:ut("&&",2),bitwiseOR:ut("|",3),bitwiseXOR:ut("^",4),bitwiseAND:ut("&",5),equality:ut("==/!=/===/!==",6),relational:ut("</>/<=/>=",7),bitShift:ut("<</>>/>>>",8),plusMin:new Y("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ut("%",10),star:ut("*",10),slash:ut("/",10),starstar:new Y("**",{beforeExpr:!0}),coalesce:ut("??",1),_break:H("break"),_case:H("case",lt),_catch:H("catch"),_continue:H("continue"),_debugger:H("debugger"),_default:H("default",lt),_do:H("do",{isLoop:!0,beforeExpr:!0}),_else:H("else",lt),_finally:H("finally"),_for:H("for",{isLoop:!0}),_function:H("function",$e),_if:H("if"),_return:H("return",lt),_switch:H("switch"),_throw:H("throw",lt),_try:H("try"),_var:H("var"),_const:H("const"),_while:H("while",{isLoop:!0}),_with:H("with"),_new:H("new",{beforeExpr:!0,startsExpr:!0}),_this:H("this",$e),_super:H("super",$e),_class:H("class",$e),_extends:H("extends",lt),_export:H("export"),_import:H("import",$e),_null:H("null",$e),_true:H("true",$e),_false:H("false",$e),_in:H("in",{beforeExpr:!0,binop:7}),_instanceof:H("instanceof",{beforeExpr:!0,binop:7}),_typeof:H("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:H("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:H("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},yt=/\r\n?|\n|\u2028|\u2029/,oC=new RegExp(yt.source,"g");function fs(t){return t===10||t===13||t===8232||t===8233}function Jv(t,e,i){i===void 0&&(i=t.length);for(var n=e;n<i;n++){var s=t.charCodeAt(n);if(fs(s))return n<i-1&&s===13&&t.charCodeAt(n+1)===10?n+2:n+1}return-1}var ex=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ft=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,tx=Object.prototype,rC=tx.hasOwnProperty,aC=tx.toString,ms=Object.hasOwn||function(t,e){return rC.call(t,e)},Jf=Array.isArray||function(t){return aC.call(t)==="[object Array]"},em=Object.create(null);function Ri(t){return em[t]||(em[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function hi(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}var cC=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,lo=function(e,i){this.line=e,this.column=i};lo.prototype.offset=function(e){return new lo(this.line,this.column+e)};var Va=function(e,i,n){this.start=i,this.end=n,e.sourceFile!==null&&(this.source=e.sourceFile)};function ix(t,e){for(var i=1,n=0;;){var s=Jv(t,n,e);if(s<0)return new lo(i,e-n);++i,n=s}}var iu={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},tm=!1;function uC(t){var e={};for(var i in iu)e[i]=t&&ms(t,i)?t[i]:iu[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!tm&&typeof console=="object"&&console.warn&&(tm=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),Jf(e.onToken)){var n=e.onToken;e.onToken=function(s){return n.push(s)}}return Jf(e.onComment)&&(e.onComment=lC(e,e.onComment)),e}function lC(t,e){return function(i,n,s,o,r,c){var h={type:i?"Block":"Line",value:n,start:s,end:o};t.locations&&(h.loc=new Va(this,r,c)),t.ranges&&(h.range=[s,o]),e.push(h)}}var ho=1,_s=2,Tp=4,nx=8,sx=16,ox=32,Cp=64,rx=128,Do=256,Ip=ho|_s|Do;function Ep(t,e){return _s|(t?Tp:0)|(e?nx:0)}var Or=0,Rp=1,mi=2,ax=3,cx=4,ux=5,ke=function(e,i,n){this.options=e=uC(e),this.sourceFile=e.sourceFile,this.keywords=Ri(tC[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var s="";e.allowReserved!==!0&&(s=Ja[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(s+=" await")),this.reservedWords=Ri(s);var o=(s?s+" ":"")+Ja.strict;this.reservedWordsStrict=Ri(o),this.reservedWordsStrictBind=Ri(o+" "+Ja.strictBind),this.input=String(i),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(yt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=f.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(ho),this.regexpState=null,this.privateNameStack=[]},Qt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ke.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};Qt.inFunction.get=function(){return(this.currentVarScope().flags&_s)>0};Qt.inGenerator.get=function(){return(this.currentVarScope().flags&nx)>0&&!this.currentVarScope().inClassFieldInit};Qt.inAsync.get=function(){return(this.currentVarScope().flags&Tp)>0&&!this.currentVarScope().inClassFieldInit};Qt.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Do)return!1;if(e.flags&_s)return(e.flags&Tp)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Qt.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&Cp)>0||i||this.options.allowSuperOutsideMethod};Qt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&rx)>0};Qt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Qt.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(_s|Do))>0||i};Qt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Do)>0};ke.extend=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var n=this,s=0;s<e.length;s++)n=e[s](n);return n};ke.parse=function(e,i){return new this(i,e).parse()};ke.parseExpressionAt=function(e,i,n){var s=new this(n,e,i);return s.nextToken(),s.parseExpression()};ke.tokenizer=function(e,i){return new this(i,e)};Object.defineProperties(ke.prototype,Qt);var qe=ke.prototype,hC=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;qe.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){ft.lastIndex=t,t+=ft.exec(this.input)[0].length;var e=hC.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){ft.lastIndex=t+e[0].length;var i=ft.exec(this.input),n=i.index+i[0].length,s=this.input.charAt(n);return s===";"||s==="}"||yt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(n+1)==="=")}t+=e[0].length,ft.lastIndex=t,t+=ft.exec(this.input)[0].length,this.input[t]===";"&&t++}};qe.eat=function(t){return this.type===t?(this.next(),!0):!1};qe.isContextual=function(t){return this.type===f.name&&this.value===t&&!this.containsEsc};qe.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};qe.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};qe.canInsertSemicolon=function(){return this.type===f.eof||this.type===f.braceR||yt.test(this.input.slice(this.lastTokEnd,this.start))};qe.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};qe.semicolon=function(){!this.eat(f.semi)&&!this.insertSemicolon()&&this.unexpected()};qe.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};qe.expect=function(t){this.eat(t)||this.unexpected()};qe.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};var Ua=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};qe.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};qe.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,n=t.doubleProto;if(!e)return i>=0||n>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")};qe.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};qe.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var M=ke.prototype;M.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==f.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var n=0,s=Object.keys(this.undefinedExports);n<s.length;n+=1){var o=s[n];this.raiseRecoverable(this.undefinedExports[o].start,"Export '"+o+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var Pp={kind:"loop"},dC={kind:"switch"};M.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ft.lastIndex=this.pos;var e=ft.exec(this.input),i=this.pos+e[0].length,n=this.input.charCodeAt(i);if(n===91||n===92)return!0;if(t)return!1;if(n===123||n>55295&&n<56320)return!0;if(li(n,!0)){for(var s=i+1;os(n=this.input.charCodeAt(s),!0);)++s;if(n===92||n>55295&&n<56320)return!0;var o=this.input.slice(i,s);if(!iC.test(o))return!0}return!1};M.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ft.lastIndex=this.pos;var t=ft.exec(this.input),e=this.pos+t[0].length,i;return!yt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(os(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};M.parseStatement=function(t,e,i){var n=this.type,s=this.startNode(),o;switch(this.isLet(t)&&(n=f._var,o="let"),n){case f._break:case f._continue:return this.parseBreakContinueStatement(s,n.keyword);case f._debugger:return this.parseDebuggerStatement(s);case f._do:return this.parseDoStatement(s);case f._for:return this.parseForStatement(s);case f._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!t);case f._class:return t&&this.unexpected(),this.parseClass(s,!0);case f._if:return this.parseIfStatement(s);case f._return:return this.parseReturnStatement(s);case f._switch:return this.parseSwitchStatement(s);case f._throw:return this.parseThrowStatement(s);case f._try:return this.parseTryStatement(s);case f._const:case f._var:return o=o||this.value,t&&o!=="var"&&this.unexpected(),this.parseVarStatement(s,o);case f._while:return this.parseWhileStatement(s);case f._with:return this.parseWithStatement(s);case f.braceL:return this.parseBlock(!0,s);case f.semi:return this.parseEmptyStatement(s);case f._export:case f._import:if(this.options.ecmaVersion>10&&n===f._import){ft.lastIndex=this.pos;var r=ft.exec(this.input),c=this.pos+r[0].length,h=this.input.charCodeAt(c);if(h===40||h===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===f._import?this.parseImport(s):this.parseExport(s,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!t);var d=this.value,p=this.parseExpression();return n===f.name&&p.type==="Identifier"&&this.eat(f.colon)?this.parseLabeledStatement(s,d,p,t):this.parseExpressionStatement(s,p)}};M.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(f.semi)||this.insertSemicolon()?t.label=null:this.type!==f.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var s=this.labels[n];if((t.label==null||s.name===t.label.name)&&(s.kind!=null&&(i||s.kind==="loop")||t.label&&i))break}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};M.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};M.parseDoStatement=function(t){return this.next(),this.labels.push(Pp),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(f._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(f.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};M.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Pp),this.enterScope(0),this.expect(f.parenL),this.type===f.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===f._var||this.type===f._const||i){var n=this.startNode(),s=i?"let":this.value;return this.next(),this.parseVar(n,!0,s),this.finishNode(n,"VariableDeclaration"),(this.type===f._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&n.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===f._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,n)):(e>-1&&this.unexpected(e),this.parseFor(t,n))}var o=this.isContextual("let"),r=!1,c=this.containsEsc,h=new Ua,d=this.start,p=e>-1?this.parseExprSubscripts(h,"await"):this.parseExpression(!0,h);return this.type===f._in||(r=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===f._in&&this.unexpected(e),t.await=!0):r&&this.options.ecmaVersion>=8&&(p.start===d&&!c&&p.type==="Identifier"&&p.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),o&&r&&this.raise(p.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(p,!1,h),this.checkLValPattern(p),this.parseForIn(t,p)):(this.checkExpressionErrors(h,!0),e>-1&&this.unexpected(e),this.parseFor(t,p))};M.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,Qs|(i?0:nu),!1,e)};M.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(f._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};M.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(f.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};M.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(f.braceL),this.labels.push(dC),this.enterScope(0);for(var e,i=!1;this.type!==f.braceR;)if(this.type===f._case||this.type===f._default){var n=this.type===f._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),n?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(f.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};M.parseThrowStatement=function(t){return this.next(),yt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var pC=[];M.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?ox:0),this.checkLValPattern(t,e?cx:mi),this.expect(f.parenR),t};M.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===f._catch){var e=this.startNode();this.next(),this.eat(f.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(f._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};M.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};M.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(Pp),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};M.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};M.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};M.parseLabeledStatement=function(t,e,i,n){for(var s=0,o=this.labels;s<o.length;s+=1){var r=o[s];r.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var c=this.type.isLoop?"loop":this.type===f._switch?"switch":null,h=this.labels.length-1;h>=0;h--){var d=this.labels[h];if(d.statementStart===t.start)d.statementStart=this.start,d.kind=c;else break}return this.labels.push({name:e,kind:c,statementStart:this.start}),t.body=this.parseStatement(n?n.indexOf("label")===-1?n+"label":n:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};M.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};M.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(f.braceL),t&&this.enterScope(0);this.type!==f.braceR;){var n=this.parseStatement(null);e.body.push(n)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};M.parseFor=function(t,e){return t.init=e,this.expect(f.semi),t.test=this.type===f.semi?null:this.parseExpression(),this.expect(f.semi),t.update=this.type===f.parenR?null:this.parseExpression(),this.expect(f.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};M.parseForIn=function(t,e){var i=this.type===f._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(f.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};M.parseVar=function(t,e,i,n){for(t.declarations=[],t.kind=i;;){var s=this.startNode();if(this.parseVarId(s,i),this.eat(f.eq)?s.init=this.parseMaybeAssign(e):!n&&i==="const"&&!(this.type===f._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!n&&s.id.type!=="Identifier"&&!(e&&(this.type===f._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):s.init=null,t.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(f.comma))break}return t};M.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?Rp:mi,!1)};var Qs=1,nu=2,lx=4;M.parseFunction=function(t,e,i,n,s){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===f.star&&e&nu&&this.unexpected(),t.generator=this.eat(f.star)),this.options.ecmaVersion>=8&&(t.async=!!n),e&Qs&&(t.id=e&lx&&this.type!==f.name?null:this.parseIdent(),t.id&&!(e&nu)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Rp:mi:ax));var o=this.yieldPos,r=this.awaitPos,c=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ep(t.async,t.generator)),e&Qs||(t.id=this.type===f.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,s),this.yieldPos=o,this.awaitPos=r,this.awaitIdentPos=c,this.finishNode(t,e&Qs?"FunctionDeclaration":"FunctionExpression")};M.parseFunctionParams=function(t){this.expect(f.parenL),t.params=this.parseBindingList(f.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};M.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var n=this.enterClassBody(),s=this.startNode(),o=!1;for(s.body=[],this.expect(f.braceL);this.type!==f.braceR;){var r=this.parseClassElement(t.superClass!==null);r&&(s.body.push(r),r.type==="MethodDefinition"&&r.kind==="constructor"?(o&&this.raiseRecoverable(r.start,"Duplicate constructor in the same class"),o=!0):r.key&&r.key.type==="PrivateIdentifier"&&fC(n,r)&&this.raiseRecoverable(r.key.start,"Identifier '#"+r.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};M.parseClassElement=function(t){if(this.eat(f.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),n="",s=!1,o=!1,r="method",c=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(f.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===f.star?c=!0:n="static"}if(i.static=c,!n&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===f.star)&&!this.canInsertSemicolon()?o=!0:n="async"),!n&&(e>=9||!o)&&this.eat(f.star)&&(s=!0),!n&&!o&&!s){var h=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?r=h:n=h)}if(n?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=n,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===f.parenL||r!=="method"||s||o){var d=!i.static&&Lr(i,"constructor"),p=d&&t;d&&r!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=d?"constructor":r,this.parseClassMethod(i,s,o,p)}else this.parseClassField(i);return i};M.isClassElementNameStart=function(){return this.type===f.name||this.type===f.privateId||this.type===f.num||this.type===f.string||this.type===f.bracketL||this.type.keyword};M.parseClassElementName=function(t){this.type===f.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};M.parseClassMethod=function(t,e,i,n){var s=t.key;t.kind==="constructor"?(e&&this.raise(s.start,"Constructor can't be a generator"),i&&this.raise(s.start,"Constructor can't be an async method")):t.static&&Lr(t,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var o=t.value=this.parseMethod(e,i,n);return t.kind==="get"&&o.params.length!==0&&this.raiseRecoverable(o.start,"getter should have no params"),t.kind==="set"&&o.params.length!==1&&this.raiseRecoverable(o.start,"setter should have exactly one param"),t.kind==="set"&&o.params[0].type==="RestElement"&&this.raiseRecoverable(o.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};M.parseClassField=function(t){if(Lr(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Lr(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(f.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};M.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Do|Cp);this.type!==f.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};M.parseClassId=function(t,e){this.type===f.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,mi,!1)):(e===!0&&this.unexpected(),t.id=null)};M.parseClassSuper=function(t){t.superClass=this.eat(f._extends)?this.parseExprSubscripts(null,!1):null};M.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};M.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(this.options.checkPrivateFields)for(var n=this.privateNameStack.length,s=n===0?null:this.privateNameStack[n-1],o=0;o<i.length;++o){var r=i[o];ms(e,r.name)||(s?s.used.push(r):this.raiseRecoverable(r.start,"Private field '#"+r.name+"' must be declared in an enclosing class"))}};function fC(t,e){var i=e.key.name,n=t[i],s="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(s=(e.static?"s":"i")+e.kind),n==="iget"&&s==="iset"||n==="iset"&&s==="iget"||n==="sget"&&s==="sset"||n==="sset"&&s==="sget"?(t[i]="true",!1):n?!0:(t[i]=s,!1)}function Lr(t,e){var i=t.computed,n=t.key;return!i&&(n.type==="Identifier"&&n.name===e||n.type==="Literal"&&n.value===e)}M.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==f.string&&this.unexpected(),t.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};M.parseExport=function(t,e){if(this.next(),this.eat(f.star))return this.parseExportAllDeclaration(t,e);if(this.eat(f._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==f.string&&this.unexpected(),t.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause());else{for(var i=0,n=t.specifiers;i<n.length;i+=1){var s=n[i];this.checkUnreserved(s.local),this.checkLocalExport(s.local),s.local.type==="Literal"&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};M.parseExportDeclaration=function(t){return this.parseStatement(null)};M.parseExportDefaultDeclaration=function(){var t;if(this.type===f._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,Qs|lx,!1,t)}else if(this.type===f._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var n=this.parseMaybeAssign();return this.semicolon(),n}};M.checkExport=function(t,e,i){t&&(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),ms(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};M.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var n=0,s=e.properties;n<s.length;n+=1){var o=s[n];this.checkPatternExport(t,o)}else if(i==="ArrayPattern")for(var r=0,c=e.elements;r<c.length;r+=1){var h=c[r];h&&this.checkPatternExport(t,h)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};M.checkVariableExport=function(t,e){if(t)for(var i=0,n=e;i<n.length;i+=1){var s=n[i];this.checkPatternExport(t,s.id)}};M.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};M.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};M.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(f.braceL);!this.eat(f.braceR);){if(i)i=!1;else if(this.expect(f.comma),this.afterTrailingComma(f.braceR))break;e.push(this.parseExportSpecifier(t))}return e};M.parseImport=function(t){return this.next(),this.type===f.string?(t.specifiers=pC,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===f.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};M.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,mi),this.finishNode(t,"ImportSpecifier")};M.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,mi),this.finishNode(t,"ImportDefaultSpecifier")};M.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,mi),this.finishNode(t,"ImportNamespaceSpecifier")};M.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===f.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(f.comma)))return t;if(this.type===f.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(f.braceL);!this.eat(f.braceR);){if(e)e=!1;else if(this.expect(f.comma),this.afterTrailingComma(f.braceR))break;t.push(this.parseImportSpecifier())}return t};M.parseWithClause=function(){var t=[];if(!this.eat(f._with))return t;this.expect(f.braceL);for(var e={},i=!0;!this.eat(f.braceR);){if(i)i=!1;else if(this.expect(f.comma),this.afterTrailingComma(f.braceR))break;var n=this.parseImportAttribute(),s=n.key.type==="Identifier"?n.key.name:n.key.value;ms(e,s)&&this.raiseRecoverable(n.key.start,"Duplicate attribute key '"+s+"'"),e[s]=!0,t.push(n)}return t};M.parseImportAttribute=function(){var t=this.startNode();return t.key=this.type===f.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(f.colon),this.type!==f.string&&this.unexpected(),t.value=this.parseExprAtom(),this.finishNode(t,"ImportAttribute")};M.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===f.string){var t=this.parseLiteral(this.value);return cC.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};M.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};M.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var gt=ke.prototype;gt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var n=0,s=t.properties;n<s.length;n+=1){var o=s[n];this.toAssignable(o,e),o.type==="RestElement"&&(o.argument.type==="ArrayPattern"||o.argument.type==="ObjectPattern")&&this.raise(o.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};gt.toAssignableList=function(t,e){for(var i=t.length,n=0;n<i;n++){var s=t[n];s&&this.toAssignable(s,e)}if(i){var o=t[i-1];this.options.ecmaVersion===6&&e&&o&&o.type==="RestElement"&&o.argument.type!=="Identifier"&&this.unexpected(o.argument.start)}return t};gt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};gt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==f.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};gt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case f.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(f.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case f.braceL:return this.parseObj(!0)}return this.parseIdent()};gt.parseBindingList=function(t,e,i,n){for(var s=[],o=!0;!this.eat(t);)if(o?o=!1:this.expect(f.comma),e&&this.type===f.comma)s.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===f.ellipsis){var r=this.parseRestBinding();this.parseBindingListItem(r),s.push(r),this.type===f.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else s.push(this.parseAssignableListItem(n))}return s};gt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};gt.parseBindingListItem=function(t){return t};gt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(f.eq))return i;var n=this.startNodeAt(t,e);return n.left=i,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")};gt.checkLValSimple=function(t,e,i){e===void 0&&(e=Or);var n=e!==Or;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(n?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(e===mi&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(ms(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==ux&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(n?"Binding":"Assigning to")+" rvalue")}};gt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=Or),t.type){case"ObjectPattern":for(var n=0,s=t.properties;n<s.length;n+=1){var o=s[n];this.checkLValInnerPattern(o,e,i)}break;case"ArrayPattern":for(var r=0,c=t.elements;r<c.length;r+=1){var h=c[r];h&&this.checkLValInnerPattern(h,e,i)}break;default:this.checkLValSimple(t,e,i)}};gt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=Or),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Rt=function(e,i,n,s,o){this.token=e,this.isExpr=!!i,this.preserveSpace=!!n,this.override=s,this.generator=!!o},ae={b_stat:new Rt("{",!1),b_expr:new Rt("{",!0),b_tmpl:new Rt("${",!1),p_stat:new Rt("(",!1),p_expr:new Rt("(",!0),q_tmpl:new Rt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Rt("function",!1),f_expr:new Rt("function",!0),f_expr_gen:new Rt("function",!0,!1,null,!0),f_gen:new Rt("function",!1,!1,null,!0)},bs=ke.prototype;bs.initialContext=function(){return[ae.b_stat]};bs.curContext=function(){return this.context[this.context.length-1]};bs.braceIsBlock=function(t){var e=this.curContext();return e===ae.f_expr||e===ae.f_stat?!0:t===f.colon&&(e===ae.b_stat||e===ae.b_expr)?!e.isExpr:t===f._return||t===f.name&&this.exprAllowed?yt.test(this.input.slice(this.lastTokEnd,this.start)):t===f._else||t===f.semi||t===f.eof||t===f.parenR||t===f.arrow?!0:t===f.braceL?e===ae.b_stat:t===f._var||t===f._const||t===f.name?!1:!this.exprAllowed};bs.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};bs.updateContext=function(t){var e,i=this.type;i.keyword&&t===f.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};bs.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};f.parenR.updateContext=f.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===ae.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};f.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?ae.b_stat:ae.b_expr),this.exprAllowed=!0};f.dollarBraceL.updateContext=function(){this.context.push(ae.b_tmpl),this.exprAllowed=!0};f.parenL.updateContext=function(t){var e=t===f._if||t===f._for||t===f._with||t===f._while;this.context.push(e?ae.p_stat:ae.p_expr),this.exprAllowed=!0};f.incDec.updateContext=function(){};f._function.updateContext=f._class.updateContext=function(t){t.beforeExpr&&t!==f._else&&!(t===f.semi&&this.curContext()!==ae.p_stat)&&!(t===f._return&&yt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===f.colon||t===f.braceL)&&this.curContext()===ae.b_stat)?this.context.push(ae.f_expr):this.context.push(ae.f_stat),this.exprAllowed=!1};f.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};f.backQuote.updateContext=function(){this.curContext()===ae.q_tmpl?this.context.pop():this.context.push(ae.q_tmpl),this.exprAllowed=!1};f.star.updateContext=function(t){if(t===f._function){var e=this.context.length-1;this.context[e]===ae.f_expr?this.context[e]=ae.f_expr_gen:this.context[e]=ae.f_gen}this.exprAllowed=!0};f.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==f.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var B=ke.prototype;B.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var n=t.key,s;switch(n.type){case"Identifier":s=n.name;break;case"Literal":s=String(n.value);break;default:return}var o=t.kind;if(this.options.ecmaVersion>=6){s==="__proto__"&&o==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),e.proto=!0);return}s="$"+s;var r=e[s];if(r){var c;o==="init"?c=this.strict&&r.init||r.get||r.set:c=r.init||r[o],c&&this.raiseRecoverable(n.start,"Redefinition of property")}else r=e[s]={init:!1,get:!1,set:!1};r[o]=!0}};B.parseExpression=function(t,e){var i=this.start,n=this.startLoc,s=this.parseMaybeAssign(t,e);if(this.type===f.comma){var o=this.startNodeAt(i,n);for(o.expressions=[s];this.eat(f.comma);)o.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(o,"SequenceExpression")}return s};B.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var n=!1,s=-1,o=-1,r=-1;e?(s=e.parenthesizedAssign,o=e.trailingComma,r=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Ua,n=!0);var c=this.start,h=this.startLoc;(this.type===f.parenL||this.type===f.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var d=this.parseMaybeConditional(t,e);if(i&&(d=i.call(this,d,c,h)),this.type.isAssign){var p=this.startNodeAt(c,h);return p.operator=this.value,this.type===f.eq&&(d=this.toAssignable(d,!1,e)),n||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=d.start&&(e.shorthandAssign=-1),this.type===f.eq?this.checkLValPattern(d):this.checkLValSimple(d),p.left=d,this.next(),p.right=this.parseMaybeAssign(t),r>-1&&(e.doubleProto=r),this.finishNode(p,"AssignmentExpression")}else n&&this.checkExpressionErrors(e,!0);return s>-1&&(e.parenthesizedAssign=s),o>-1&&(e.trailingComma=o),d};B.parseMaybeConditional=function(t,e){var i=this.start,n=this.startLoc,s=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return s;if(this.eat(f.question)){var o=this.startNodeAt(i,n);return o.test=s,o.consequent=this.parseMaybeAssign(),this.expect(f.colon),o.alternate=this.parseMaybeAssign(t),this.finishNode(o,"ConditionalExpression")}return s};B.parseExprOps=function(t,e){var i=this.start,n=this.startLoc,s=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||s.start===i&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,i,n,-1,t)};B.parseExprOp=function(t,e,i,n,s){var o=this.type.binop;if(o!=null&&(!s||this.type!==f._in)&&o>n){var r=this.type===f.logicalOR||this.type===f.logicalAND,c=this.type===f.coalesce;c&&(o=f.logicalAND.binop);var h=this.value;this.next();var d=this.start,p=this.startLoc,_=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),d,p,o,s),b=this.buildBinary(e,i,t,_,h,r||c);return(r&&this.type===f.coalesce||c&&(this.type===f.logicalOR||this.type===f.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(b,e,i,n,s)}return t};B.buildBinary=function(t,e,i,n,s,o){n.type==="PrivateIdentifier"&&this.raise(n.start,"Private identifier can only be left side of binary expression");var r=this.startNodeAt(t,e);return r.left=i,r.operator=s,r.right=n,this.finishNode(r,o?"LogicalExpression":"BinaryExpression")};B.parseMaybeUnary=function(t,e,i,n){var s=this.start,o=this.startLoc,r;if(this.isContextual("await")&&this.canAwait)r=this.parseAwait(n),e=!0;else if(this.type.prefix){var c=this.startNode(),h=this.type===f.incDec;c.operator=this.value,c.prefix=!0,this.next(),c.argument=this.parseMaybeUnary(null,!0,h,n),this.checkExpressionErrors(t,!0),h?this.checkLValSimple(c.argument):this.strict&&c.operator==="delete"&&hx(c.argument)?this.raiseRecoverable(c.start,"Deleting local variable in strict mode"):c.operator==="delete"&&su(c.argument)?this.raiseRecoverable(c.start,"Private fields can not be deleted"):e=!0,r=this.finishNode(c,h?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===f.privateId)(n||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),r=this.parsePrivateIdent(),this.type!==f._in&&this.unexpected();else{if(r=this.parseExprSubscripts(t,n),this.checkExpressionErrors(t))return r;for(;this.type.postfix&&!this.canInsertSemicolon();){var d=this.startNodeAt(s,o);d.operator=this.value,d.prefix=!1,d.argument=r,this.checkLValSimple(r),this.next(),r=this.finishNode(d,"UpdateExpression")}}if(!i&&this.eat(f.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(s,o,r,this.parseMaybeUnary(null,!1,!1,n),"**",!1);else return r};function hx(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&hx(t.expression)}function su(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&su(t.expression)||t.type==="ParenthesizedExpression"&&su(t.expression)}B.parseExprSubscripts=function(t,e){var i=this.start,n=this.startLoc,s=this.parseExprAtom(t,e);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var o=this.parseSubscripts(s,i,n,!1,e);return t&&o.type==="MemberExpression"&&(t.parenthesizedAssign>=o.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=o.start&&(t.parenthesizedBind=-1),t.trailingComma>=o.start&&(t.trailingComma=-1)),o};B.parseSubscripts=function(t,e,i,n,s){for(var o=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,r=!1;;){var c=this.parseSubscript(t,e,i,n,o,r,s);if(c.optional&&(r=!0),c===t||c.type==="ArrowFunctionExpression"){if(r){var h=this.startNodeAt(e,i);h.expression=c,c=this.finishNode(h,"ChainExpression")}return c}t=c}};B.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(f.arrow)};B.parseSubscriptAsyncArrow=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,n)};B.parseSubscript=function(t,e,i,n,s,o,r){var c=this.options.ecmaVersion>=11,h=c&&this.eat(f.questionDot);n&&h&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var d=this.eat(f.bracketL);if(d||h&&this.type!==f.parenL&&this.type!==f.backQuote||this.eat(f.dot)){var p=this.startNodeAt(e,i);p.object=t,d?(p.property=this.parseExpression(),this.expect(f.bracketR)):this.type===f.privateId&&t.type!=="Super"?p.property=this.parsePrivateIdent():p.property=this.parseIdent(this.options.allowReserved!=="never"),p.computed=!!d,c&&(p.optional=h),t=this.finishNode(p,"MemberExpression")}else if(!n&&this.eat(f.parenL)){var _=new Ua,b=this.yieldPos,w=this.awaitPos,v=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var S=this.parseExprList(f.parenR,this.options.ecmaVersion>=8,!1,_);if(s&&!h&&this.shouldParseAsyncArrow())return this.checkPatternErrors(_,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=b,this.awaitPos=w,this.awaitIdentPos=v,this.parseSubscriptAsyncArrow(e,i,S,r);this.checkExpressionErrors(_,!0),this.yieldPos=b||this.yieldPos,this.awaitPos=w||this.awaitPos,this.awaitIdentPos=v||this.awaitIdentPos;var R=this.startNodeAt(e,i);R.callee=t,R.arguments=S,c&&(R.optional=h),t=this.finishNode(R,"CallExpression")}else if(this.type===f.backQuote){(h||o)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var I=this.startNodeAt(e,i);I.tag=t,I.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(I,"TaggedTemplateExpression")}return t};B.parseExprAtom=function(t,e,i){this.type===f.slash&&this.readRegexp();var n,s=this.potentialArrowAt===this.start;switch(this.type){case f._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type===f.parenL&&!this.allowDirectSuper&&this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==f.dot&&this.type!==f.bracketL&&this.type!==f.parenL&&this.unexpected(),this.finishNode(n,"Super");case f._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case f.name:var o=this.start,r=this.startLoc,c=this.containsEsc,h=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!c&&h.name==="async"&&!this.canInsertSemicolon()&&this.eat(f._function))return this.overrideContext(ae.f_expr),this.parseFunction(this.startNodeAt(o,r),0,!1,!0,e);if(s&&!this.canInsertSemicolon()){if(this.eat(f.arrow))return this.parseArrowExpression(this.startNodeAt(o,r),[h],!1,e);if(this.options.ecmaVersion>=8&&h.name==="async"&&this.type===f.name&&!c&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return h=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(f.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(o,r),[h],!0,e)}return h;case f.regexp:var d=this.value;return n=this.parseLiteral(d.value),n.regex={pattern:d.pattern,flags:d.flags},n;case f.num:case f.string:return this.parseLiteral(this.value);case f._null:case f._true:case f._false:return n=this.startNode(),n.value=this.type===f._null?null:this.type===f._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case f.parenL:var p=this.start,_=this.parseParenAndDistinguishExpression(s,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(_)&&(t.parenthesizedAssign=p),t.parenthesizedBind<0&&(t.parenthesizedBind=p)),_;case f.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(f.bracketR,!0,!0,t),this.finishNode(n,"ArrayExpression");case f.braceL:return this.overrideContext(ae.b_expr),this.parseObj(!1,t);case f._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case f._class:return this.parseClass(this.startNode(),!1);case f._new:return this.parseNew();case f.backQuote:return this.parseTemplate();case f._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};B.parseExprAtomDefault=function(){this.unexpected()};B.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===f.parenL&&!t)return this.parseDynamicImport(e);if(this.type===f.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};B.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(f.parenR)?t.options=null:(this.expect(f.comma),this.afterTrailingComma(f.parenR)?t.options=null:(t.options=this.parseMaybeAssign(),this.eat(f.parenR)||(this.expect(f.comma),this.afterTrailingComma(f.parenR)||this.unexpected())));else if(!this.eat(f.parenR)){var e=this.start;this.eat(f.comma)&&this.eat(f.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};B.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};B.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};B.parseParenExpression=function(){this.expect(f.parenL);var t=this.parseExpression();return this.expect(f.parenR),t};B.shouldParseArrow=function(t){return!this.canInsertSemicolon()};B.parseParenAndDistinguishExpression=function(t,e){var i=this.start,n=this.startLoc,s,o=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var r=this.start,c=this.startLoc,h=[],d=!0,p=!1,_=new Ua,b=this.yieldPos,w=this.awaitPos,v;for(this.yieldPos=0,this.awaitPos=0;this.type!==f.parenR;)if(d?d=!1:this.expect(f.comma),o&&this.afterTrailingComma(f.parenR,!0)){p=!0;break}else if(this.type===f.ellipsis){v=this.start,h.push(this.parseParenItem(this.parseRestBinding())),this.type===f.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else h.push(this.parseMaybeAssign(!1,_,this.parseParenItem));var S=this.lastTokEnd,R=this.lastTokEndLoc;if(this.expect(f.parenR),t&&this.shouldParseArrow(h)&&this.eat(f.arrow))return this.checkPatternErrors(_,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=b,this.awaitPos=w,this.parseParenArrowList(i,n,h,e);(!h.length||p)&&this.unexpected(this.lastTokStart),v&&this.unexpected(v),this.checkExpressionErrors(_,!0),this.yieldPos=b||this.yieldPos,this.awaitPos=w||this.awaitPos,h.length>1?(s=this.startNodeAt(r,c),s.expressions=h,this.finishNodeAt(s,"SequenceExpression",S,R)):s=h[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var I=this.startNodeAt(i,n);return I.expression=s,this.finishNode(I,"ParenthesizedExpression")}else return s};B.parseParenItem=function(t){return t};B.parseParenArrowList=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,n)};var mC=[];B.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===f.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var n=this.start,s=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),n,s,!0,!1),this.eat(f.parenL)?t.arguments=this.parseExprList(f.parenR,this.options.ecmaVersion>=8,!1):t.arguments=mC,this.finishNode(t,"NewExpression")};B.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===f.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===f.backQuote,this.finishNode(i,"TemplateElement")};B.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var n=this.parseTemplateElement({isTagged:e});for(i.quasis=[n];!n.tail;)this.type===f.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(f.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(f.braceR),i.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};B.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===f.name||this.type===f.num||this.type===f.string||this.type===f.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===f.star)&&!yt.test(this.input.slice(this.lastTokEnd,this.start))};B.parseObj=function(t,e){var i=this.startNode(),n=!0,s={};for(i.properties=[],this.next();!this.eat(f.braceR);){if(n)n=!1;else if(this.expect(f.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(f.braceR))break;var o=this.parseProperty(t,e);t||this.checkPropClash(o,s,e),i.properties.push(o)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};B.parseProperty=function(t,e){var i=this.startNode(),n,s,o,r;if(this.options.ecmaVersion>=9&&this.eat(f.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===f.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===f.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(o=this.start,r=this.startLoc),t||(n=this.eat(f.star)));var c=this.containsEsc;return this.parsePropertyName(i),!t&&!c&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(i)?(s=!0,n=this.options.ecmaVersion>=9&&this.eat(f.star),this.parsePropertyName(i)):s=!1,this.parsePropertyValue(i,t,n,s,o,r,e,c),this.finishNode(i,"Property")};B.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};B.parsePropertyValue=function(t,e,i,n,s,o,r,c){(i||n)&&this.type===f.colon&&this.unexpected(),this.eat(f.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,r),t.kind="init"):this.options.ecmaVersion>=6&&this.type===f.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,n)):!e&&!c&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==f.comma&&this.type!==f.braceR&&this.type!==f.eq?((i||n)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||n)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=s),t.kind="init",e?t.value=this.parseMaybeDefault(s,o,this.copyNode(t.key)):this.type===f.eq&&r?(r.shorthandAssign<0&&(r.shorthandAssign=this.start),t.value=this.parseMaybeDefault(s,o,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};B.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(f.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(f.bracketR),t.key;t.computed=!1}return t.key=this.type===f.num||this.type===f.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};B.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};B.parseMethod=function(t,e,i){var n=this.startNode(),s=this.yieldPos,o=this.awaitPos,r=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=t),this.options.ecmaVersion>=8&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ep(e,n.generator)|Cp|(i?rx:0)),this.expect(f.parenL),n.params=this.parseBindingList(f.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=r,this.finishNode(n,"FunctionExpression")};B.parseArrowExpression=function(t,e,i,n){var s=this.yieldPos,o=this.awaitPos,r=this.awaitIdentPos;return this.enterScope(Ep(i,!1)|sx),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,n),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=r,this.finishNode(t,"ArrowFunctionExpression")};B.parseFunctionBody=function(t,e,i,n){var s=e&&this.type!==f.braceL,o=this.strict,r=!1;if(s)t.body=this.parseMaybeAssign(n),t.expression=!0,this.checkParams(t,!1);else{var c=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!o||c)&&(r=this.strictDirective(this.end),r&&c&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var h=this.labels;this.labels=[],r&&(this.strict=!0),this.checkParams(t,!o&&!r&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,ux),t.body=this.parseBlock(!1,void 0,r&&!o),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=h}this.exitScope()};B.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(n.type!=="Identifier")return!1}return!0};B.checkParams=function(t,e){for(var i=Object.create(null),n=0,s=t.params;n<s.length;n+=1){var o=s[n];this.checkLValInnerPattern(o,Rp,e?null:i)}};B.parseExprList=function(t,e,i,n){for(var s=[],o=!0;!this.eat(t);){if(o)o=!1;else if(this.expect(f.comma),e&&this.afterTrailingComma(t))break;var r=void 0;i&&this.type===f.comma?r=null:this.type===f.ellipsis?(r=this.parseSpread(n),n&&this.type===f.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):r=this.parseMaybeAssign(!1,n),s.push(r)}return s};B.checkUnreserved=function(t){var e=t.start,i=t.end,n=t.name;if(this.inGenerator&&n==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&n==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(n==="arguments"||n==="await")&&this.raise(e,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(e,"Unexpected keyword '"+n+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(n)&&(!this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+n+"' is reserved"))}};B.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};B.parseIdentNode=function(){var t=this.startNode();return this.type===f.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=f.name):this.unexpected(),t};B.parsePrivateIdent=function(){var t=this.startNode();return this.type===f.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};B.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===f.semi||this.canInsertSemicolon()||this.type!==f.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(f.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};B.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Br=ke.prototype;Br.raise=function(t,e){var i=ix(this.input,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=this.pos,n};Br.raiseRecoverable=Br.raise;Br.curPosition=function(){if(this.options.locations)return new lo(this.curLine,this.pos-this.lineStart)};var Li=ke.prototype,_C=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Li.enterScope=function(t){this.scopeStack.push(new _C(t))};Li.exitScope=function(){this.scopeStack.pop()};Li.treatFunctionsAsVarInScope=function(t){return t.flags&_s||!this.inModule&&t.flags&ho};Li.declareName=function(t,e,i){var n=!1;if(e===mi){var s=this.currentScope();n=s.lexical.indexOf(t)>-1||s.functions.indexOf(t)>-1||s.var.indexOf(t)>-1,s.lexical.push(t),this.inModule&&s.flags&ho&&delete this.undefinedExports[t]}else if(e===cx){var o=this.currentScope();o.lexical.push(t)}else if(e===ax){var r=this.currentScope();this.treatFunctionsAsVar?n=r.lexical.indexOf(t)>-1:n=r.lexical.indexOf(t)>-1||r.var.indexOf(t)>-1,r.functions.push(t)}else for(var c=this.scopeStack.length-1;c>=0;--c){var h=this.scopeStack[c];if(h.lexical.indexOf(t)>-1&&!(h.flags&ox&&h.lexical[0]===t)||!this.treatFunctionsAsVarInScope(h)&&h.functions.indexOf(t)>-1){n=!0;break}if(h.var.push(t),this.inModule&&h.flags&ho&&delete this.undefinedExports[t],h.flags&Ip)break}n&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Li.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Li.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Li.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Ip)return e}};Li.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Ip&&!(e.flags&sx))return e}};var Fa=function(e,i,n){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Va(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},Oo=ke.prototype;Oo.startNode=function(){return new Fa(this,this.start,this.startLoc)};Oo.startNodeAt=function(t,e){return new Fa(this,t,e)};function dx(t,e,i,n){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=i),t}Oo.finishNode=function(t,e){return dx.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Oo.finishNodeAt=function(t,e,i,n){return dx.call(this,t,e,i,n)};Oo.copyNode=function(t){var e=new Fa(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var bC="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",px="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",fx=px+" Extended_Pictographic",mx=fx,_x=mx+" EBase EComp EMod EPres ExtPict",bx=_x,yC=bx,gC={9:px,10:fx,11:mx,12:_x,13:bx,14:yC},wC="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",vC={9:"",10:"",11:"",12:"",13:"",14:wC},im="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",yx="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",gx=yx+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",wx=gx+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",vx=wx+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",xx=vx+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",xC=xx+" "+bC,kC={9:yx,10:gx,11:wx,12:vx,13:xx,14:xC},kx={};function SC(t){var e=kx[t]={binary:Ri(gC[t]+" "+im),binaryOfStrings:Ri(vC[t]),nonBinary:{General_Category:Ri(im),Script:Ri(kC[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(var tc=0,nm=[9,10,11,12,13,14];tc<nm.length;tc+=1){var TC=nm[tc];SC(TC)}var A=ke.prototype,Vr=function(e,i){this.parent=e,this.base=i||this};Vr.prototype.separatedFrom=function(e){for(var i=this;i;i=i.parent)for(var n=e;n;n=n.parent)if(i.base===n.base&&i!==n)return!0;return!1};Vr.prototype.sibling=function(){return new Vr(this.parent,this.base)};var Xt=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=kx[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Xt.prototype.reset=function(e,i,n){var s=n.indexOf("v")!==-1,o=n.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=n,s&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=o&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=o&&this.parser.options.ecmaVersion>=9)};Xt.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)};Xt.prototype.at=function(e,i){i===void 0&&(i=!1);var n=this.source,s=n.length;if(e>=s)return-1;var o=n.charCodeAt(e);if(!(i||this.switchU)||o<=55295||o>=57344||e+1>=s)return o;var r=n.charCodeAt(e+1);return r>=56320&&r<=57343?(o<<10)+r-56613888:o};Xt.prototype.nextIndex=function(e,i){i===void 0&&(i=!1);var n=this.source,s=n.length;if(e>=s)return s;var o=n.charCodeAt(e),r;return!(i||this.switchU)||o<=55295||o>=57344||e+1>=s||(r=n.charCodeAt(e+1))<56320||r>57343?e+1:e+2};Xt.prototype.current=function(e){return e===void 0&&(e=!1),this.at(this.pos,e)};Xt.prototype.lookahead=function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)};Xt.prototype.advance=function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)};Xt.prototype.eat=function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1};Xt.prototype.eatChars=function(e,i){i===void 0&&(i=!1);for(var n=this.pos,s=0,o=e;s<o.length;s+=1){var r=o[s],c=this.at(n,i);if(c===-1||c!==r)return!1;n=this.nextIndex(n,i)}return this.pos=n,!0};A.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,n=!1,s=!1,o=0;o<i.length;o++){var r=i.charAt(o);e.indexOf(r)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(r,o+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),r==="u"&&(n=!0),r==="v"&&(s=!0)}this.options.ecmaVersion>=15&&n&&s&&this.raise(t.start,"Invalid regular expression flag")};function CC(t){for(var e in t)return!0;return!1}A.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&CC(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};A.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var n=i[e];t.groupNames[n]||t.raise("Invalid named capture referenced")}};A.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new Vr(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};A.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};A.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};A.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};A.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};A.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};A.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var n=0,s=-1;if(this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue),t.eat(125)))return s!==-1&&s<n&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};A.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};A.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};A.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)){if(this.options.ecmaVersion>=16){var i=this.regexp_eatModifiers(t),n=t.eat(45);if(i||n){for(var s=0;s<i.length;s++){var o=i.charAt(s);i.indexOf(o,s+1)>-1&&t.raise("Duplicate regular expression modifiers")}if(n){var r=this.regexp_eatModifiers(t);!i&&!r&&t.current()===58&&t.raise("Invalid regular expression modifiers");for(var c=0;c<r.length;c++){var h=r.charAt(c);(r.indexOf(h,c+1)>-1||i.indexOf(h)>-1)&&t.raise("Duplicate regular expression modifiers")}}}}if(t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}}t.pos=e}return!1};A.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};A.regexp_eatModifiers=function(t){for(var e="",i=0;(i=t.current())!==-1&&IC(i);)e+=hi(i),t.advance();return e};function IC(t){return t===105||t===109||t===115}A.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};A.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};A.regexp_eatSyntaxCharacter=function(t){var e=t.current();return Sx(e)?(t.lastIntValue=e,t.advance(),!0):!1};function Sx(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}A.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!Sx(i);)t.advance();return t.pos!==e};A.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};A.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(e)for(var n=0,s=i;n<s.length;n+=1){var o=s[n];o.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};A.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};A.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=hi(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=hi(t.lastIntValue);return!0}return!1};A.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),EC(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function EC(t){return li(t,!0)||t===36||t===95}A.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),RC(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function RC(t){return os(t,!0)||t===36||t===95||t===8204||t===8205}A.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};A.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};A.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};A.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};A.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};A.regexp_eatZero=function(t){return t.current()===48&&!Wa(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};A.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};A.regexp_eatControlLetter=function(t){var e=t.current();return Tx(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function Tx(t){return t>=65&&t<=90||t>=97&&t<=122}A.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,n=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var s=t.lastIntValue;if(n&&s>=55296&&s<=56319){var o=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(r>=56320&&r<=57343)return t.lastIntValue=(s-55296)*1024+(r-56320)+65536,!0}t.pos=o,t.lastIntValue=s}return!0}if(n&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&PC(t.lastIntValue))return!0;n&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function PC(t){return t>=0&&t<=1114111}A.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};A.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var Cx=0,di=1,mt=2;A.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(AC(e))return t.lastIntValue=-1,t.advance(),di;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var n;if(t.eat(123)&&(n=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&n===mt&&t.raise("Invalid property name"),n;t.raise("Invalid property name")}return Cx};function AC(t){return t===100||t===68||t===115||t===83||t===119||t===87}A.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,n),di}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,s)}return Cx};A.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){ms(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};A.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return di;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return mt;t.raise("Invalid property name")};A.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";Ix(e=t.current());)t.lastStringValue+=hi(e),t.advance();return t.lastStringValue!==""};function Ix(t){return Tx(t)||t===95}A.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";MC(e=t.current());)t.lastStringValue+=hi(e),t.advance();return t.lastStringValue!==""};function MC(t){return Ix(t)||Wa(t)}A.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};A.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===mt&&t.raise("Negated character class may contain strings"),!0}return!1};A.regexp_classContents=function(t){return t.current()===93?di:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),di)};A.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};A.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||Px(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var n=t.current();return n!==93?(t.lastIntValue=n,t.advance(),!0):!1};A.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};A.regexp_classSetExpression=function(t){var e=di,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===mt&&(e=mt);for(var n=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==mt&&(e=di);continue}t.raise("Invalid character in character class")}if(n!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(n!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===mt&&(e=mt)}};A.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;return i!==-1&&n!==-1&&i>n&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};A.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?di:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};A.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),n=this.regexp_classContents(t);if(t.eat(93))return i&&n===mt&&t.raise("Negated character class may contain strings"),n;t.pos=e}if(t.eat(92)){var s=this.regexp_eatCharacterClassEscape(t);if(s)return s;t.pos=e}return null};A.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};A.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===mt&&(e=mt);return e};A.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?di:mt};A.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&NC(i)||DC(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function NC(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}function DC(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}A.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return OC(e)?(t.lastIntValue=e,t.advance(),!0):!1};function OC(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}A.regexp_eatClassControlLetter=function(t){var e=t.current();return Wa(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};A.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};A.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Wa(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Wa(t){return t>=48&&t<=57}A.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Ex(i=t.current());)t.lastIntValue=16*t.lastIntValue+Rx(i),t.advance();return t.pos!==e};function Ex(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function Rx(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}A.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};A.regexp_eatOctalDigit=function(t){var e=t.current();return Px(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function Px(t){return t>=48&&t<=55}A.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var n=0;n<e;++n){var s=t.current();if(!Ex(s))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+Rx(s),t.advance()}return!0};var Ap=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Va(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},W=ke.prototype;W.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ap(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};W.getToken=function(){return this.next(),new Ap(this)};typeof Symbol<"u"&&(W[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===f.eof,value:e}}}});W.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(f.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};W.readToken=function(t){return li(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};W.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};W.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var n=void 0,s=e;(n=Jv(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};W.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!fs(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};W.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&ex.test(String.fromCharCode(t)))++this.pos;else break e}}};W.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};W.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(f.ellipsis)):(++this.pos,this.finishToken(f.dot))};W.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(f.assign,2):this.finishOp(f.slash,1)};W.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,n=t===42?f.star:f.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,n=f.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(f.assign,i+1):this.finishOp(n,i)};W.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(f.assign,3)}return this.finishOp(t===124?f.logicalOR:f.logicalAND,2)}return e===61?this.finishOp(f.assign,2):this.finishOp(t===124?f.bitwiseOR:f.bitwiseAND,1)};W.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(f.assign,2):this.finishOp(f.bitwiseXOR,1)};W.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||yt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(f.incDec,2):e===61?this.finishOp(f.assign,2):this.finishOp(f.plusMin,1)};W.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(f.assign,i+1):this.finishOp(f.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(f.relational,i))};W.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(f.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(f.arrow)):this.finishOp(t===61?f.eq:f.prefix,1)};W.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(f.questionDot,2)}if(e===63){if(t>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(f.assign,3)}return this.finishOp(f.coalesce,2)}}return this.finishOp(f.question,1)};W.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),li(e,!0)||e===92))return this.finishToken(f.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+hi(e)+"'")};W.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(f.parenL);case 41:return++this.pos,this.finishToken(f.parenR);case 59:return++this.pos,this.finishToken(f.semi);case 44:return++this.pos,this.finishToken(f.comma);case 91:return++this.pos,this.finishToken(f.bracketL);case 93:return++this.pos,this.finishToken(f.bracketR);case 123:return++this.pos,this.finishToken(f.braceL);case 125:return++this.pos,this.finishToken(f.braceR);case 58:return++this.pos,this.finishToken(f.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(f.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(f.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+hi(t)+"'")};W.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};W.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(yt.test(n)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(n==="[")e=!0;else if(n==="]"&&e)e=!1;else if(n==="/"&&!e)break;t=n==="\\"}++this.pos}var s=this.input.slice(i,this.pos);++this.pos;var o=this.pos,r=this.readWord1();this.containsEsc&&this.unexpected(o);var c=this.regexpState||(this.regexpState=new Xt(this));c.reset(i,s,r),this.validateRegExpFlags(c),this.validateRegExpPattern(c);var h=null;try{h=new RegExp(s,r)}catch{}return this.finishToken(f.regexp,{pattern:s,flags:r,value:h})};W.readInt=function(t,e,i){for(var n=this.options.ecmaVersion>=12&&e===void 0,s=i&&this.input.charCodeAt(this.pos)===48,o=this.pos,r=0,c=0,h=0,d=e??1/0;h<d;++h,++this.pos){var p=this.input.charCodeAt(this.pos),_=void 0;if(n&&p===95){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),c===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),h===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),c=p;continue}if(p>=97?_=p-97+10:p>=65?_=p-65+10:p>=48&&p<=57?_=p-48:_=1/0,_>=t)break;c=p,r=r*t+_}return n&&c===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===o||e!=null&&this.pos-o!==e?null:r};function LC(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function Ax(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}W.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=Ax(this.input.slice(e,this.pos)),++this.pos):li(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(f.num,i)};W.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&n===110){var s=Ax(this.input.slice(e,this.pos));return++this.pos,li(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(f.num,s)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),n===46&&!i&&(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),(n===69||n===101)&&!i&&(n=this.input.charCodeAt(++this.pos),(n===43||n===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),li(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o=LC(this.input.slice(e,this.pos),i);return this.finishToken(f.num,o)};W.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};W.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===t)break;n===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):n===8232||n===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(fs(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(f.string,e)};var Mx={};W.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===Mx)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};W.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Mx;this.raise(t,e)};W.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===f.template||this.type===f.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(f.dollarBraceL)):(++this.pos,this.finishToken(f.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(f.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(fs(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};W.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(f.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};W.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return hi(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(n,8);return s>255&&(n=n.slice(0,-1),s=parseInt(n,8)),this.pos+=n.length-1,e=this.input.charCodeAt(this.pos),(n!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-n.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return fs(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};W.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};W.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(os(s,n))this.pos+=s<=65535?1:2;else if(s===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var o=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var r=this.readCodePoint();(e?li:os)(r,n)||this.invalidStringToken(o,"Invalid Unicode escape"),t+=hi(r),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};W.readWord=function(){var t=this.readWord1(),e=f.name;return this.keywords.test(t)&&(e=Sp[t]),this.finishToken(e,t)};var BC="8.14.0";ke.acorn={Parser:ke,version:BC,defaultOptions:iu,Position:lo,SourceLocation:Va,getLineInfo:ix,Node:Fa,TokenType:Y,tokTypes:f,keywordTypes:Sp,TokContext:Rt,tokContexts:ae,isIdentifierChar:os,isIdentifierStart:li,Token:Ap,isNewLine:fs,lineBreak:yt,lineBreakG:oC,nonASCIIwhitespace:ex};function VC(t,e){return ke.parse(t,e)}var UC=function(t,e,i,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i},FC=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},rr;class Ha{constructor(){rr.set(this,[]),this.visitor=new ZT,this.scope=this.visitor.scope,this.scope.set("print",e=>console.log(...e)),this.defineObject("console",console),this.defineObject("Math",Math),this.defineObject("String",String),this.defineObject("Number",Number),this.defineObject("Array",Array),this.defineObject("Date",Date)}defineObject(e,i){this.visitor.on(e,(n,s)=>{if(n.type==="Identifier")return i;if(n.type==="CallExpression"&&n.callee.type==="MemberExpression"){const o=s.visitNode(n.callee.property),r=n.arguments.map(h=>s.visitNode(h)),c=i[o];return c?c.apply(i,r):"__continue_exec"}return"__continue_exec"})}evaluate(e){const i=Ha.parseScript(e);return UC(this,rr,i.body,"f"),this.visitor.setAST(FC(this,rr,"f")),this.visitor.run()}static parseScript(e){try{return VC(e,{ecmaVersion:2020})}catch(i){const n=i.message.match(/\((\d+):(\d+)\)/);if(n){const s=parseInt(n[1],10),o=parseInt(n[2],10),c=e.split(`
`)[s-1],h=c?c.substring(Math.max(0,o-10),o+10):"";throw new Dr(`${i.message.replace(/\(.*\)/,"").trim()} at line ${s}, column ${o}: ${h}`,{errorLine:c})}else throw new Dr(i.message)}}}rr=new WeakMap;var Zi,ar;class j{static load(e){T(Zi,Zi,e,"f",ar)}static get shim(){if(!a(Zi,Zi,"f",ar))throw new Error("Platform is not loaded");return a(Zi,Zi,"f",ar)}}Zi=j;ar={value:void 0};class g extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=j.shim.info.version}}class yn extends g{}class WC extends g{}class Re extends g{}class kn extends Error{}class sm extends Error{}class HC extends Error{}function om(t,e){return Reflect.ownKeys(t).some(n=>{const s=e[n]instanceof u;return!s&&typeof e[n]=="object"?JSON.stringify(t[n])===JSON.stringify(e[n]):t[n]===(s?e[n].toString():e[n])})}function At(t,e,i){const n=new RegExp(`${rm(e)}(.*?)${rm(i)}`,"s"),s=t.match(n);return s?s[1]:void 0}function rm(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Mp(t){const e=yT[t],i=Math.floor(Math.random()*e.length);return e[i]}async function jC(t){const e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),n=[i,t,e].join(" "),s=await j.shim.sha1Hash(n);return["SAPISIDHASH",[i,s].join("_")].join(" ")}function Pi(t){const e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let n=0;n<t;n++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}function pi(t){const e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}function GC(...t){const e=new ub;for(const i of t)if(i)for(const n of i){const s=e.get(n[0]);if(s){e.set(n[0],[...s,...n[1]]);continue}e.set(...n)}return e}function ie(t){for(const[e,i]of Object.entries(t))if(!i)throw new WC(`${e} is missing`)}async function*qC(t){const e=t.getReader();try{for(;;){const{done:i,value:n}=await e.read();if(i)return;yield n}}finally{e.releaseLock()}}function jt(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}function YC(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),i=e.padEnd(e.length+(4-e.length%4)%4,"=");return new Uint8Array(atob(i).split("").map(n=>n.charCodeAt(0)))}function tt(t){return!("emoji"in t)}function KC(t,e,i=!1){const n=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,s=t.match(new RegExp(n));return s?s[2]:void 0}function ic(t,e){const{name:i,includes:n,regexp:s}=e,r=[Ha.parseScript(t)];for(let c=0;c<r.length;c++){const h=r[c];if(h.type==="ExpressionStatement"&&h.expression.type==="AssignmentExpression"&&h.expression.left.type==="Identifier"&&h.expression.right.type==="FunctionExpression"){const d=t.substring(h.start,h.end);if(i&&h.expression.left.name===i||n&&d.indexOf(n)>-1||s&&s.test(d))return{start:h.start,end:h.end,name:h.expression.left.name,node:h,result:d}}for(const d in h){const p=h[d];Array.isArray(p)?r.push(...p):typeof p=="object"&&p!==null&&r.push(p)}}}async function $C(t){const e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(n){const s=new Uint8Array(n),o=[];for(let r=0;r<s.length;++r)o.push(e[s[r]]);return o.join("")}return i(await crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))}const zC="youtubei.js",QC="12.2.0",XC="A JavaScript client for YouTube's private API, known as InnerTube.",ZC="module",JC="./dist/src/platform/lib.d.ts",eI={"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"react-native":["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"],"cf-worker":["./dist/src/platform/lib.d.ts"]}},tI={".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js","react-native":"./dist/src/platform/react-native.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./react-native":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/react-native.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"},"./cf-worker":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/cf-worker.js"}},iI="LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",nI=["https://github.com/sponsors/LuanRT"],sI=["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],oI={test:"jest --verbose",lint:"eslint ./src","lint:fix":"eslint --fix ./src",clean:"rimraf ./dist ./bundle/browser.js ./bundle/browser.min.js ./bundle/node.cjs ./bundle/cf-worker.js ./bundle/react-native.js ./deno",build:"npm run clean && npm run build:parser-map && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod && npm run bundle:cf-worker && npm run bundle:react-native","build:esm":"tspc","build:deno":`cpy ./src ./deno && cpy ./protos ./deno && esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && cpy ./package.json ./deno && replace ".js';" ".ts';" ./deno -r && replace '.js";' '.ts";' ./deno -r && replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && replace "'jintr';" "'jsr:@luanrt/jintr';" ./deno -r && replace "@bufbuild/protobuf/wire" "https://esm.sh/@bufbuild/protobuf@2.0.0/wire" ./deno -r`,"build:proto":"rimraf ./protos/generated && node ./dev-scripts/generate-proto.mjs","build:parser-map":"node ./dev-scripts/gen-parser-map.mjs","bundle:node":'esbuild ./dist/src/platform/node.js --bundle --target=node16 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:undici --external:linkedom --external:tslib --banner:js="/* eslint-disable */"',"bundle:browser":'esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome70 --keep-names --format=esm --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:react-native":"esbuild ./dist/src/platform/react-native.js --bundle --target=es2020 --keep-names --format=esm --platform=neutral --define:global=globalThis --conditions=module --outfile=./bundle/react-native.js","bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify","bundle:cf-worker":'esbuild ./dist/src/platform/cf-worker.js --banner:js="/* eslint-disable */" --bundle --target=es2020 --keep-names --format=esm --define:global=globalThis --conditions=module --outfile=./bundle/cf-worker.js --platform=node',"build:docs":"typedoc",prepare:"npm run build",watch:"tspc --watch"},rI={type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},aI=["dist/","bundle/","package.json","README.md","LICENSE"],cI="MIT",uI={"@bufbuild/protobuf":"^2.0.0",jintr:"^3.2.0",tslib:"^2.5.0",undici:"^5.19.1"},lI={typescript:"^5.0.0"},hI={"@eslint/js":"^9.9.0","@types/estree":"^1.0.6","@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^9.9.0",glob:"^8.0.3",globals:"^15.9.0",jest:"^29.7.0",replace:"^1.2.2",rimraf:"^6.0.1","ts-jest":"^29.1.4","ts-patch":"^3.0.2","ts-proto":"^2.2.0","ts-transformer-inline-file":"^0.2.0",typedoc:"^0.26.7","typedoc-plugin-markdown":"^4.2.7",typescript:"^5.0.0","typescript-eslint":"^8.2.0"},dI={url:"https://github.com/LuanRT/YouTube.js/issues"},pI="https://github.com/LuanRT/YouTube.js#readme",fI=["api","youtube","innertube","livechat","youtube-music","ytdl","youtube-studio","downloader","ytmusic"],nc={name:zC,version:QC,description:XC,type:ZC,types:JC,typesVersions:eI,exports:tI,author:iI,funding:nI,contributors:sI,scripts:oI,repository:rI,files:aI,license:cI,dependencies:uI,overrides:lI,devDependencies:hI,bugs:dI,homepage:pI,keywords:fI};var Si,De,Nx,Wn;const ws="OAuth2";class mI{constructor(e){Si.add(this),De.set(this,void 0),T(this,De,e,"f"),this.YTTV_URL=new URL("/tv",ye.YT_BASE),this.AUTH_SERVER_CODE_URL=new URL("/o/oauth2/device/code",ye.YT_BASE),this.AUTH_SERVER_TOKEN_URL=new URL("/o/oauth2/token",ye.YT_BASE),this.AUTH_SERVER_REVOKE_TOKEN_URL=new URL("/o/oauth2/revoke",ye.YT_BASE)}async init(e){if(e){this.setTokens(e),this.shouldRefreshToken()&&await this.refreshAccessToken(),a(this,De,"f").emit("auth",{credentials:this.oauth2_tokens});return}if(await a(this,Si,"m",Nx).call(this)){Fe(ws,"Loaded OAuth2 tokens from cache.",this.oauth2_tokens);return}this.client_id||(this.client_id=await this.getClientID());const n=await this.getDeviceAndUserCode();a(this,De,"f").emit("auth-pending",n),this.pollForAccessToken(n)}setTokens(e){const i=e;if(i.expires_in&&(i.expiry_date=new Date(Date.now()+i.expires_in*1e3).toISOString(),delete i.expires_in),!this.validateTokens(i))throw new Re("Invalid tokens provided.");this.oauth2_tokens=i,i.client&&(Fe(ws,"Using provided client id and secret."),this.client_id=i.client)}async cacheCredentials(){var n;const i=new TextEncoder().encode(JSON.stringify(this.oauth2_tokens));await((n=a(this,De,"f").cache)==null?void 0:n.set("youtubei_oauth_credentials",i.buffer))}async removeCache(){var e;await((e=a(this,De,"f").cache)==null?void 0:e.remove("youtubei_oauth_credentials"))}pollForAccessToken(e){if(!this.client_id)throw new Re("Client ID is missing.");const{device_code:i,interval:n}=e,{client_id:s,client_secret:o}=this.client_id,r={client_id:s,client_secret:o,code:i,grant_type:"http://oauth.net/grant_type/device/1.0"},c=setInterval(async()=>{const d=await(await a(this,Si,"a",Wn).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(r),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(d.error){switch(d.error){case"access_denied":a(this,De,"f").emit("auth-error",new Re("Access was denied.",d)),clearInterval(c);break;case"expired_token":a(this,De,"f").emit("auth-error",new Re("The device code has expired.",d)),clearInterval(c);break;case"authorization_pending":case"slow_down":Fe(ws,"Polling for access token...");break;default:a(this,De,"f").emit("auth-error",new Re("Server returned an unexpected error.",d)),clearInterval(c);break}return}this.setTokens(d),a(this,De,"f").emit("auth",{credentials:this.oauth2_tokens}),clearInterval(c)},n*1e3)}async revokeCredentials(){if(!this.oauth2_tokens)throw new Re("Access token not found");await this.removeCache();const e=this.AUTH_SERVER_REVOKE_TOKEN_URL;return e.searchParams.set("token",this.oauth2_tokens.access_token),a(this,De,"f").http.fetch_function(e,{method:"POST"})}async refreshAccessToken(){if(this.client_id||(this.client_id=await this.getClientID()),!this.oauth2_tokens)throw new Re("No tokens available to refresh.");const{client_id:e,client_secret:i}=this.client_id,{refresh_token:n}=this.oauth2_tokens,s={client_id:e,client_secret:i,refresh_token:n,grant_type:"refresh_token"},o=await a(this,Si,"a",Wn).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(s),method:"POST",headers:{"Content-Type":"application/json"}});if(!o.ok)throw new Re(`Failed to refresh access token: ${o.status}`);const r=await o.json();if(r.error_code)throw new Re("Authorization server returned an error",r);this.oauth2_tokens.access_token=r.access_token,this.oauth2_tokens.expiry_date=new Date(Date.now()+r.expires_in*1e3).toISOString(),a(this,De,"f").emit("update-credentials",{credentials:this.oauth2_tokens})}async getDeviceAndUserCode(){if(!this.client_id)throw new Re("Client ID is missing.");const{client_id:e}=this.client_id,i={client_id:e,scope:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",device_id:j.shim.uuidv4(),device_model:"ytlr::"},n=await a(this,Si,"a",Wn).fetch_function(this.AUTH_SERVER_CODE_URL,{body:JSON.stringify(i),method:"POST",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Re(`Failed to get device/user code: ${n.status}`);const s=await n.json();if(s.error_code)throw new Re("Authorization server returned an error",s);return s}async getClientID(){const e=await a(this,Si,"a",Wn).fetch_function(this.YTTV_URL,{headers:{"User-Agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version",Referer:"https://www.youtube.com/tv","Accept-Language":"en-US"}});if(!e.ok)throw new Re(`Failed to get client ID: ${e.status}`);const i=await e.text();let n;if((n=df.REGEX.TV_SCRIPT.exec(i))!==null){Fe(ws,`Got YouTubeTV script URL (${n[1]})`);const s=await a(this,Si,"a",Wn).fetch(n[1],{baseURL:ye.YT_BASE});if(!s.ok)throw new Re(`TV script request failed with status code ${s.status}`);const r=(await s.text()).match(df.REGEX.CLIENT_IDENTITY);if(!r||!r.groups)throw new Re("Could not obtain client ID.");const{client_id:c,client_secret:h}=r.groups;return Fe(ws,`Client identity retrieved (clientId=${c}, clientSecret=${h}).`),{client_id:c,client_secret:h}}throw new Re("Could not obtain script URL.")}shouldRefreshToken(){return this.oauth2_tokens?Date.now()>new Date(this.oauth2_tokens.expiry_date).getTime():!1}validateTokens(e){return!(!e.access_token||!e.refresh_token||!e.expiry_date)}}De=new WeakMap,Si=new WeakSet,Nx=async function(){var s;const e=await((s=a(this,De,"f").cache)==null?void 0:s.get("youtubei_oauth_credentials"));if(!e)return!1;const i=new TextDecoder,n=JSON.parse(i.decode(e));return this.setTokens(n),a(this,De,"f").emit("auth",{credentials:n}),!0},Wn=function(){return a(this,De,"f").http};var Ws,Dx,Ox,Lx;class _I{constructor(e){Ws.add(this),this.session=e}async stats(e,i,n){const s=new URL(e);s.searchParams.set("ver","2"),s.searchParams.set("c",i.client_name.toLowerCase()),s.searchParams.set("cbrver",i.client_version),s.searchParams.set("cver",i.client_version);for(const o of Object.keys(n))s.searchParams.set(o,n[o]);return await this.session.http.fetch(s)}async execute(e,i){var r,c;let n;if(i&&!i.protobuf){if(n={...i},Reflect.has(n,"browseId")&&!i.skip_auth_check&&a(this,Ws,"m",Lx).call(this,n.browseId)&&!this.session.logged_in)throw new g("You must be signed in to perform this operation.");Reflect.has(n,"skip_auth_check")&&delete n.skip_auth_check,Reflect.has(n,"override_endpoint")&&delete n.override_endpoint,Reflect.has(n,"parse")&&delete n.parse,Reflect.has(n,"request")&&delete n.request,Reflect.has(n,"clientActions")&&delete n.clientActions,Reflect.has(n,"settingItemIdForClient")&&delete n.settingItemIdForClient,Reflect.has(n,"action")&&(n.actions=[n.action],delete n.action),Reflect.has(n,"boolValue")&&(n.newValue={boolValue:n.boolValue},delete n.boolValue),Reflect.has(n,"token")&&(n.continuation=n.token,delete n.token),(n==null?void 0:n.client)==="YTMUSIC"&&(n.isAudioOnly=!0)}else i&&(n=i.serialized_data);const s=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,o=await this.session.http.fetch(s,{method:"POST",body:i!=null&&i.protobuf?n:JSON.stringify(n||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let h=re(await o.json());if(a(this,Ws,"m",Ox).call(this,h)&&((c=(r=h.on_response_received_actions)==null?void 0:r.first())==null?void 0:c.type)==="navigateAction"){const d=h.on_response_received_actions.firstOfType(np);d&&(h=await d.endpoint.call(this,{parse:!0}))}return h}return a(this,Ws,"m",Dx).call(this,o)}}Ws=new WeakSet,Dx=async function(e){return{success:e.ok,status_code:e.status,data:JSON.parse(await e.text())}},Ox=function(e){return"on_response_received_actions"in e},Lx=function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)};const Lt="Player";class Ii{constructor(e,i,n,s){this.player_id=e,this.sts=i,this.nsig_sc=s,this.sig_sc=n}static async create(e,i=j.shim.fetch,n){const s=new URL("/iframe_api",ye.YT_BASE),o=await i(s);if(!o.ok)throw new kn(`Failed to get player id: ${o.status} (${o.statusText})`);const r=await o.text(),c=At(r,"player\\/","\\/");if(Fe(Lt,`Got player id (${c}). Checking for cached players..`),!c)throw new kn("Failed to get player id");if(e){const S=await Ii.fromCache(e,c);if(S)return Fe(Lt,"Found up-to-date player data in cache."),S.po_token=n,S}const h=new URL(`/s/player/${c}/player_ias.vflset/en_US/base.js`,ye.YT_BASE);Fe(Lt,`Could not find any cached player. Will download a new player from ${h}.`);const d=await i(h,{headers:{"user-agent":Mp("desktop")}});if(!d.ok)throw new kn(`Failed to get player data: ${d.status}`);const p=await d.text(),_=this.extractSigTimestamp(p),b=this.extractSigSourceCode(p),w=this.extractNSigSourceCode(p);Fe(Lt,`Got signature timestamp (${_}) and algorithms needed to decipher signatures.`);const v=await Ii.fromSource(c,_,e,b,w);return v.po_token=n,v}decipher(e,i,n,s){if(e=e||i||n,!e)throw new kn("No valid URL to decipher");const o=new URLSearchParams(e),r=new URL(o.get("url")||e);if(this.sig_sc&&(i||n)){const p=j.shim.eval(this.sig_sc,{sig:o.get("s")});if(Fe(Lt,`Transformed signature from ${o.get("s")} to ${p}.`),typeof p!="string")throw new kn("Failed to decipher signature");const _=o.get("sp");_?r.searchParams.set(_,p):r.searchParams.set("signature",p)}const c=r.searchParams.get("n");if(this.nsig_sc&&c){let p;if(s&&s.has(c))p=s.get(c);else{if(p=j.shim.eval(this.nsig_sc,{nsig:c}),Fe(Lt,`Transformed n signature from ${c} to ${p}.`),typeof p!="string")throw new kn("Failed to decipher nsig");p.startsWith("enhanced_except_")?Oe(Lt,"Something went wrong while deciphering nsig."):s&&s.set(c,p)}r.searchParams.set("n",p)}switch(r.searchParams.get("sabr")!=="1"&&this.po_token&&r.searchParams.set("pot",this.po_token),r.searchParams.get("c")){case"WEB":r.searchParams.set("cver",L.WEB.VERSION);break;case"MWEB":r.searchParams.set("cver",L.MWEB.VERSION);break;case"WEB_REMIX":r.searchParams.set("cver",L.YTMUSIC.VERSION);break;case"WEB_KIDS":r.searchParams.set("cver",L.WEB_KIDS.VERSION);break;case"TVHTML5":r.searchParams.set("cver",L.TV.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":r.searchParams.set("cver",L.TV_EMBEDDED.VERSION);break;case"WEB_EMBEDDED_PLAYER":r.searchParams.set("cver",L.WEB_EMBEDDED.VERSION);break}const d=r.toString();return Fe(Lt,`Deciphered URL: ${d}`),r.toString()}static async fromCache(e,i){const n=await e.get(i);if(!n)return null;const s=new DataView(n);if(s.getUint32(0,!0)!==Ii.LIBRARY_VERSION)return null;const r=s.getUint32(4,!0),c=s.getUint32(8,!0),h=n.slice(12,12+c),d=n.slice(12+c),p=pc(new TextDecoder().decode(h)),_=pc(new TextDecoder().decode(d));return new Ii(i,r,p,_)}static async fromSource(e,i,n,s,o){const r=new Ii(e,i,s,o);return await r.cache(n),r}async cache(e){if(!e||!this.sig_sc||!this.nsig_sc)return;const i=new TextEncoder,n=i.encode(dc(this.sig_sc)),s=i.encode(dc(this.nsig_sc)),o=new ArrayBuffer(12+n.byteLength+s.byteLength),r=new DataView(o);r.setUint32(0,Ii.LIBRARY_VERSION,!0),r.setUint32(4,this.sts,!0),r.setUint32(8,n.byteLength,!0),new Uint8Array(o).set(n,12),new Uint8Array(o).set(s,12+n.byteLength),await e.set(this.player_id,new Uint8Array(o))}static extractSigTimestamp(e){return parseInt(At(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var r;const i=e.match(/function\(([A-Za-z_0-9]+)\)\{([A-Za-z_0-9]+=[A-Za-z_0-9]+\.split\(""\)(.+?)\.join\(""\))\}/);if(!i){Oe(Lt,"Failed to extract signature decipher algorithm.");return}const n=i[1],s=(r=i[3].split(/\.|\[/)[0])==null?void 0:r.replace(";","").trim(),o=At(e,`var ${s}={`,"};");return(!o||!n)&&Oe(Lt,"Failed to extract signature decipher algorithm."),`function descramble_sig(${n}) { let ${s}={${o}}; ${i[2]} } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=ic(e,{includes:"enhanced_except"});if(i||(i=ic(e,{includes:"-_w8_"})),i||(i=ic(e,{includes:"1969"})),i)return`${i.result} ${i.name}(nsig);`}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,ye.YT_BASE).toString()}static get LIBRARY_VERSION(){return 13}}var tn,Bx,Vx,Ux,am,ou;(function(t){t.WEB="WEB",t.MWEB="MWEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV="TVHTML5",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER",t.WEB_EMBEDDED="WEB_EMBEDDED_PLAYER",t.WEB_CREATOR="WEB_CREATOR"})(ou||(ou={}));const Hn="Session";class Fx extends lb{constructor(e,i,n,s,o,r,c,h,d){super(),this.http=new Dk(this,r,c),this.actions=new _I(this),this.oauth=new mI(this),this.logged_in=!!r,this.cache=h,this.account_index=s,this.key=i,this.api_version=n,this.context=e,this.player=o,this.po_token=d}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static async create(e={}){const{context:i,api_key:n,api_version:s,account_index:o}=await tn.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache,e.po_token);return new tn(i,n,s,o,e.retrieve_player===!1?void 0:await Ii.create(e.cache,e.fetch,e.po_token),e.cookie,e.fetch,e.cache,e.po_token)}static async fromCache(e,i){const n=await e.get("innertube_session_data");if(!n)return null;const s=new TextDecoder().decode(n.slice(4));try{const o=JSON.parse(pc(s));return i.visitor_data&&(o.context.client.visitorData=i.visitor_data),i.lang&&(o.context.client.hl=i.lang),i.location&&(o.context.client.gl=i.location),i.on_behalf_of_user&&(o.context.user.onBehalfOfUser=i.on_behalf_of_user),o.context.client.timeZone=i.time_zone,o.context.client.platform=i.device_category.toUpperCase(),o.context.client.clientName=i.client_name,o.context.user.enableSafetyMode=i.enable_safety_mode,o}catch(o){return hf(Hn,"Failed to parse session data from cache.",o),null}}static async getSessionData(e="",i="",n=0,s="",o=!1,r=!1,c="desktop",h=ou.WEB,d=Intl.DateTimeFormat().resolvedOptions().timeZone,p=j.shim.fetch,_,b,w=!0,v){const S={lang:e,location:i,time_zone:d,device_category:c,client_name:h,enable_safety_mode:o,visitor_data:s,on_behalf_of_user:_,po_token:v};let R;if(b&&w){const I=await this.fromCache(b,S);I&&(Fe(Hn,"Found session data in cache."),R=I)}if(!R){Fe(Hn,"Generating session data.");let I=L.WEB.API_KEY,O=L.WEB.API_VERSION,N={hl:e||"en",gl:i||"US",remote_host:"",visitor_data:s||SS(Pi(11),Math.floor(Date.now()/1e3)),client_name:h,client_version:L.WEB.VERSION,device_category:c.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:d,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:o};if(!r)try{const q=await a(this,tn,"m",Vx).call(this,S,p);I=q.api_key,O=q.api_version,N=q.context_data}catch(q){hf(Hn,"Failed to retrieve session data from server. Session data generated locally will be used instead.",q)}_&&(N.on_behalf_of_user=_),R={api_key:I,api_version:O,context:a(this,tn,"m",Ux).call(this,N)},w&&await a(this,tn,"m",Bx).call(this,R,b)}return to(Hn,"Session data:",R),{...R,account_index:n}}async signIn(e){return new Promise(async(i,n)=>{const s=o=>n(o);this.once("auth-error",s),this.once("auth",()=>{this.off("auth-error",s),this.logged_in=!0,i()});try{await this.oauth.init(e)}catch(o){n(o)}})}async signOut(){if(!this.logged_in)throw new g("You must be signed in to perform this operation.");const e=await this.oauth.revokeCredentials();return this.logged_in=!1,e}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}}tn=Fx,Bx=async function(e,i){if(!i)return;Fe(Hn,"Compressing and caching session data.");const n=new TextEncoder().encode(dc(JSON.stringify(e))),s=new ArrayBuffer(4+n.byteLength);new DataView(s).setUint32(0,n.byteLength,!0),new Uint8Array(s).set(n,4),await i.set("innertube_session_data",new Uint8Array(s))},Vx=async function(e,i=j.shim.fetch){let n=Pi(11);e.visitor_data&&(n=a(this,tn,"m",am).call(this,e.visitor_data));const s=new URL("/sw.js_data",ye.YT_BASE),o=await i(s,{headers:{"Accept-Language":e.lang||"en-US","User-Agent":Mp("desktop"),Accept:"*/*",Referer:`${ye.YT_BASE}/sw.js`,Cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${n};`}});if(!o.ok)throw new sm(`Failed to retrieve session data: ${o.status}`);const r=await o.text();if(!r.startsWith(")]}'"))throw new sm("Invalid JSPB response");const h=JSON.parse(r.replace(/^\)\]\}'/,""))[0][2],d=L.WEB.API_VERSION,[[p],_]=h,b=p[61],w=b[b.length-1];return{context_data:{hl:e.lang||p[0],gl:e.location||p[2],remote_host:p[3],visitor_data:e.visitor_data||p[13],client_name:e.client_name,client_version:p[16],os_name:p[17],os_version:p[18],time_zone:p[79]||e.time_zone,device_category:e.device_category,browser_name:p[86],browser_version:p[87],device_make:p[11],device_model:p[12],app_install_data:w,enable_safety_mode:e.enable_safety_mode},api_key:_,api_version:d}},Ux=function(e){const i={client:{hl:e.hl||"en",gl:e.gl||"US",remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:ye.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",mainAppWebInfo:{graftUrl:ye.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(i.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},am=function(e){return TS(e).id};var Ae;class bI{constructor(e){Ae.set(this,void 0),T(this,Ae,e,"f")}async search(e){const n=await new y({searchEndpoint:{query:e}}).call(a(this,Ae,"f").actions,{client:"YTKIDS"});return new mT(a(this,Ae,"f").actions,n)}async getInfo(e){var d;const i={videoId:e},n=new y({watchEndpoint:i}),s=new y({watchNextEndpoint:i}),o=n.call(a(this,Ae,"f").actions,{playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(d=a(this,Ae,"f").player)==null?void 0:d.sts}},client:"YTKIDS"}),r=s.call(a(this,Ae,"f").actions,{client:"YTKIDS"}),c=await Promise.all([o,r]),h=Pi(16);return new _T(c,a(this,Ae,"f").actions,h)}async getChannel(e){const n=await new y({browseEndpoint:{browseId:e}}).call(a(this,Ae,"f").actions,{client:"YTKIDS"});return new vp(a(this,Ae,"f").actions,n)}async getHomeFeed(){const i=await new y({browseEndpoint:{browseId:"FEkids_home"}}).call(a(this,Ae,"f").actions,{client:"YTKIDS"});return new xp(a(this,Ae,"f").actions,i)}async blockChannel(e){var d,p;if(!a(this,Ae,"f").logged_in)throw new g("You must be signed in to perform this operation.");const o={contents:(await new y({getKidsBlocklistPickerCommand:{blockedForKidsContent:{external_channel_id:e}}}).call(a(this,Ae,"f").actions,{client:"YTKIDS"})).data.command.confirmDialogEndpoint.content,engagementPanels:[]},c=(d=re(o).contents_memo)==null?void 0:d.getType(Ea);if(!c)throw new g("Could not find any kids profiles or supervised accounts.");const h=[];for(const _ of c)(p=_.block_button)!=null&&p.is_toggled||(_.setActions(a(this,Ae,"f").actions),h.push(await _.blockChannel()));return h}}Ae=new WeakMap;var jn,Xs,Q,Wx,cr;class yI{constructor(e){jn.add(this),Xs.set(this,void 0),Q.set(this,void 0),T(this,Xs,e,"f"),T(this,Q,e.actions,"f")}getInfo(e){var i,n;return e instanceof ma?a(this,jn,"m",cr).call(this,e.endpoint):e instanceof wn?a(this,jn,"m",cr).call(this,((n=(i=e.overlay)==null?void 0:i.content)==null?void 0:n.endpoint)??e.endpoint):e instanceof y?a(this,jn,"m",cr).call(this,e):a(this,jn,"m",Wx).call(this,e)}async search(e,i={}){ie({query:e});let n;if(i.type&&i.type!=="all"){const r=kb.encode({filters:{musicSearchType:{[i.type]:!0}}});n=encodeURIComponent(jt(r.finish()))}const o=await new y({searchEndpoint:{query:e,params:n}}).call(a(this,Q,"f"),{client:"YTMUSIC"});return new fT(o,a(this,Q,"f"),Reflect.has(i,"type")&&i.type!=="all")}async getHomeFeed(){const i=await new y({browseEndpoint:{browseId:"FEmusic_home"}}).call(a(this,Q,"f"),{client:"YTMUSIC"});return new dT(i,a(this,Q,"f"))}async getExplore(){const i=await new y({browseEndpoint:{browseId:"FEmusic_explore"}}).call(a(this,Q,"f"),{client:"YTMUSIC"});return new hT(i)}async getLibrary(){const i=await new y({browseEndpoint:{browseId:"FEmusic_library_landing"}}).call(a(this,Q,"f"),{client:"YTMUSIC"});return new yp(i,a(this,Q,"f"))}async getArtist(e){if(!e||!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new g("Invalid artist id",e);const n=await new y({browseEndpoint:{browseId:e}}).call(a(this,Q,"f"),{client:"YTMUSIC"});return new lT(n,a(this,Q,"f"))}async getAlbum(e){if(!e||!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new g("Invalid album id",e);const n=await new y({browseEndpoint:{browseId:e}}).call(a(this,Q,"f"),{client:"YTMUSIC"});return new uT(n)}async getPlaylist(e){e.startsWith("VL")||(e=`VL${e}`);const n=await new y({browseEndpoint:{browseId:e}}).call(a(this,Q,"f"),{client:"YTMUSIC"});return new Da(n,a(this,Q,"f"))}async getUpNext(e,i=!0){var d,p,_;ie({video_id:e});const o=(d=(await new y({watchNextEndpoint:{videoId:e}}).call(a(this,Q,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)==null?void 0:d.getType(je),r=o==null?void 0:o.first();if(!r)throw new g("Could not find target tab.");const c=(p=r.content)==null?void 0:p.as(ba);if(!c||!c.content)throw new g("Music queue was empty, the given id is probably invalid.",c);const h=c.content.as(_n);if(!h.playlist_id&&i){const b=h.contents.firstOfType(wo);if(!b)throw new g("Automix item not found");const w=await((_=b.playlist_video)==null?void 0:_.endpoint.call(a(this,Q,"f"),{videoId:e,client:"YTMUSIC",parse:!0}));if(!w||!w.contents_memo)throw new g("Could not fetch automix");return w.contents_memo.getType(_n).first()}return h}async getRelated(e){var c;ie({video_id:e});const s=(c=(await new y({watchNextEndpoint:{videoId:e}}).call(a(this,Q,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)==null?void 0:c.getType(je),o=s==null?void 0:s.matchCondition(h=>{var d,p;return((p=(d=h.endpoint.payload.browseEndpointContextSupportedConfigs)==null?void 0:d.browseEndpointContextMusicConfig)==null?void 0:p.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!o)throw new g("Could not find target tab.");const r=await o.endpoint.call(a(this,Q,"f"),{client:"YTMUSIC",parse:!0});if(!r.contents)throw new g("Unexpected response",r);return r.contents.item().as(le,Yt)}async getLyrics(e){var h;ie({video_id:e});const s=(h=(await new y({watchNextEndpoint:{videoId:e}}).call(a(this,Q,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)==null?void 0:h.getType(je),o=s==null?void 0:s.matchCondition(d=>{var p,_;return((_=(p=d.endpoint.payload.browseEndpointContextSupportedConfigs)==null?void 0:p.browseEndpointContextMusicConfig)==null?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!o)throw new g("Could not find target tab.");const r=await o.endpoint.call(a(this,Q,"f"),{client:"YTMUSIC",parse:!0});if(!r.contents)throw new g("Unexpected response",r);if(r.contents.item().type==="Message")throw new g(r.contents.item().as(Yt).text.toString(),e);return r.contents.item().as(le).contents.firstOfType(Eo)}async getRecap(){const i=await new y({browseEndpoint:{browseId:"FEmusic_listening_review"}}).call(a(this,Q,"f"),{client:"YTMUSIC"});return new pT(i,a(this,Q,"f"))}async getSearchSuggestions(e){const i=await a(this,Q,"f").execute("/music/get_search_suggestions",{input:e,client:"YTMUSIC",parse:!0});return i.contents_memo?i.contents_memo.getType(Nd):[]}}Xs=new WeakMap,Q=new WeakMap,jn=new WeakSet,Wx=async function(e){var d;const i={videoId:e,racyCheckOk:!0,contentCheckOk:!0},n=new y({watchEndpoint:i}),s=new y({watchNextEndpoint:i}),o=n.call(a(this,Q,"f"),{playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(d=a(this,Xs,"f").player)==null?void 0:d.sts}},client:"YTMUSIC"}),r=s.call(a(this,Q,"f"),{client:"YTMUSIC"}),c=await Promise.all([o,r]),h=Pi(16);return new Xf(c,a(this,Q,"f"),h)},cr=async function(e){var r;if(!e)throw new Error("This item does not have an endpoint.");const i=e.call(a(this,Q,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:{signatureTimestamp:(r=a(this,Xs,"f").player)==null?void 0:r.sts}}}),n=e.call(a(this,Q,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),s=Pi(16),o=await Promise.all([i,n]);return new Xf(o,a(this,Q,"f"),s)};function gI(){return{key:void 0,value:void 0}}const rs={encode(t,e=new P){return t.key!==void 0&&e.uint32(10).string(t.key),t.value!==void 0&&e.uint32(18).string(t.value),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=gI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.key=i.string();continue;case 2:if(o!==18)break;s.value=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function wI(){return{profile:void 0,supportedCapabilities:[],disabledCapabilities:[],snapshot:void 0}}const cm={encode(t,e=new P){t.profile!==void 0&&e.uint32(10).string(t.profile);for(const i of t.supportedCapabilities)jo.encode(i,e.uint32(18).fork()).join();for(const i of t.disabledCapabilities)jo.encode(i,e.uint32(26).fork()).join();return t.snapshot!==void 0&&e.uint32(42).string(t.snapshot),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=wI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.profile=i.string();continue;case 2:if(o!==18)break;s.supportedCapabilities.push(jo.decode(i,i.uint32()));continue;case 3:if(o!==26)break;s.disabledCapabilities.push(jo.decode(i,i.uint32()));continue;case 5:if(o!==42)break;s.snapshot=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function vI(){return{capability:void 0,features:void 0,experimentFlags:void 0}}const jo={encode(t,e=new P){return t.capability!==void 0&&e.uint32(8).uint32(t.capability),t.features!==void 0&&e.uint32(16).uint32(t.features),t.experimentFlags!==void 0&&e.uint32(50).string(t.experimentFlags),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=vI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.capability=i.uint32();continue;case 2:if(o!==16)break;s.features=i.uint32();continue;case 6:if(o!==50)break;s.experimentFlags=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};var um;(function(t){t[t.UNKNOWN_FORM_FACTOR=0]="UNKNOWN_FORM_FACTOR",t[t.FORM_FACTOR_VAL1=1]="FORM_FACTOR_VAL1",t[t.FORM_FACTOR_VAL2=2]="FORM_FACTOR_VAL2",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(um||(um={}));var lm;(function(t){t[t.UNKNOWN_CAMERA_TYPE=0]="UNKNOWN_CAMERA_TYPE",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(lm||(lm={}));var hm;(function(t){t[t.USER_INTERFACE_THEME_DARK=0]="USER_INTERFACE_THEME_DARK",t[t.USER_INTERFACE_THEME_LIGHT=1]="USER_INTERFACE_THEME_LIGHT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(hm||(hm={}));var dm;(function(t){t[t.STORE_DIGITAL_GOODS_API_SUPPORT_STATUS_VAL0=0]="STORE_DIGITAL_GOODS_API_SUPPORT_STATUS_VAL0",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(dm||(dm={}));var pm;(function(t){t[t.PWA_INSTALLABILITY_STATUS_UNKNOWN=0]="PWA_INSTALLABILITY_STATUS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(pm||(pm={}));var fm;(function(t){t[t.WEB_DISPLAY_MODE_UNKNOWN=0]="WEB_DISPLAY_MODE_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(fm||(fm={}));var mm;(function(t){t[t.NOTIFICATIONS_SETTING_UNKNOWN=0]="NOTIFICATIONS_SETTING_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(mm||(mm={}));var _m;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(_m||(_m={}));var bm;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(bm||(bm={}));var ym;(function(t){t[t.KPCM_UNKNOWN=0]="KPCM_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ym||(ym={}));var gm;(function(t){t[t.YT_KIDS_NO_SEARCH_MODE_OFF=0]="YT_KIDS_NO_SEARCH_MODE_OFF",t[t.YT_KIDS_NO_SEARCH_MODE_ON=1]="YT_KIDS_NO_SEARCH_MODE_ON",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(gm||(gm={}));var wm;(function(t){t[t.YT_KIDS_AGE_UP_MODE_OFF=0]="YT_KIDS_AGE_UP_MODE_OFF",t[t.YT_KIDS_AGE_UP_MODE_ON=1]="YT_KIDS_AGE_UP_MODE_ON",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(wm||(wm={}));var vm;(function(t){t[t.YT_KIDS_CONTENT_DENSITY_VAL1=0]="YT_KIDS_CONTENT_DENSITY_VAL1",t[t.YT_KIDS_CONTENT_DENSITY_VAL2=1]="YT_KIDS_CONTENT_DENSITY_VAL2",t[t.YT_KIDS_CONTENT_DENSITY_VAL3=2]="YT_KIDS_CONTENT_DENSITY_VAL3",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(vm||(vm={}));var xm;(function(t){t[t.MPBM_UNKNOWN=0]="MPBM_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(xm||(xm={}));var km;(function(t){t[t.MLMS_UNKNOWN=0]="MLMS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(km||(km={}));var Sm;(function(t){t[t.MAMS_UNKNOWN=0]="MAMS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Sm||(Sm={}));var Tm;(function(t){t[t.UNKNOWN_STATUS=0]="UNKNOWN_STATUS",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Tm||(Tm={}));var Cm;(function(t){t[t.PIS_UNKNOWN=0]="PIS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Cm||(Cm={}));var Im;(function(t){t[t.WDM_UNKNOWN=0]="WDM_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Im||(Im={}));var Em;(function(t){t[t.UNKNOWN_TIER=0]="UNKNOWN_TIER",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Em||(Em={}));var Rm;(function(t){t[t.SDGAS_UNKNOWN=0]="SDGAS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Rm||(Rm={}));function xI(){return{hl:void 0,gl:void 0,remoteHost:void 0,deviceId:void 0,debugDeviceIdOverride:void 0,carrierGeo:void 0,crackedHl:void 0,deviceMake:void 0,deviceModel:void 0,visitorData:void 0,userAgent:void 0,clientName:void 0,clientVersion:void 0,osName:void 0,osVersion:void 0,projectId:void 0,acceptLanguage:void 0,acceptRegion:void 0,originalUrl:void 0,rawDeviceId:void 0,configData:void 0,spacecastToken:void 0,internalGeo:void 0,screenWidthPoints:void 0,screenHeightPoints:void 0,screenWidthInches:void 0,screenHeightInches:void 0,screenPixelDensity:void 0,platform:void 0,spacecastClientInfo:void 0,clientFormFactor:void 0,forwardedFor:void 0,mobileDataPlanInfo:void 0,gmscoreVersionCode:void 0,webpSupport:void 0,cameraType:void 0,experimentsToken:void 0,windowWidthPoints:void 0,windowHeightPoints:void 0,configInfo:void 0,unpluggedLocationInfo:void 0,androidSdkVersion:void 0,screenDensityFloat:void 0,firstTimeSignInExperimentIds:void 0,utcOffsetMinutes:void 0,animatedWebpSupport:void 0,kidsAppInfo:void 0,musicAppInfo:void 0,tvAppInfo:void 0,internalGeoIp:void 0,unpluggedAppInfo:void 0,locationInfo:void 0,contentSizeCategory:void 0,fontScale:void 0,userInterfaceTheme:void 0,timeZone:void 0,homeGroupInfo:void 0,emlTemplateContext:void 0,coldAppBundleConfigData:void 0,browserName:void 0,browserVersion:void 0,locationPlayabilityToken:void 0,chipset:void 0,firmwareVersion:void 0,memoryTotalKbytes:void 0,mainAppWebInfo:void 0,notificationPermissionInfo:void 0,deviceBrand:void 0,glDeviceInfo:void 0}}const Go={encode(t,e=new P){return t.hl!==void 0&&e.uint32(10).string(t.hl),t.gl!==void 0&&e.uint32(18).string(t.gl),t.remoteHost!==void 0&&e.uint32(34).string(t.remoteHost),t.deviceId!==void 0&&e.uint32(50).string(t.deviceId),t.debugDeviceIdOverride!==void 0&&e.uint32(66).string(t.debugDeviceIdOverride),t.carrierGeo!==void 0&&e.uint32(82).string(t.carrierGeo),t.crackedHl!==void 0&&e.uint32(88).bool(t.crackedHl),t.deviceMake!==void 0&&e.uint32(98).string(t.deviceMake),t.deviceModel!==void 0&&e.uint32(106).string(t.deviceModel),t.visitorData!==void 0&&e.uint32(114).string(t.visitorData),t.userAgent!==void 0&&e.uint32(122).string(t.userAgent),t.clientName!==void 0&&e.uint32(128).int32(t.clientName),t.clientVersion!==void 0&&e.uint32(138).string(t.clientVersion),t.osName!==void 0&&e.uint32(146).string(t.osName),t.osVersion!==void 0&&e.uint32(154).string(t.osVersion),t.projectId!==void 0&&e.uint32(162).string(t.projectId),t.acceptLanguage!==void 0&&e.uint32(170).string(t.acceptLanguage),t.acceptRegion!==void 0&&e.uint32(178).string(t.acceptRegion),t.originalUrl!==void 0&&e.uint32(186).string(t.originalUrl),t.rawDeviceId!==void 0&&e.uint32(202).string(t.rawDeviceId),t.configData!==void 0&&e.uint32(218).string(t.configData),t.spacecastToken!==void 0&&e.uint32(250).string(t.spacecastToken),t.internalGeo!==void 0&&e.uint32(274).string(t.internalGeo),t.screenWidthPoints!==void 0&&e.uint32(296).int32(t.screenWidthPoints),t.screenHeightPoints!==void 0&&e.uint32(304).int32(t.screenHeightPoints),t.screenWidthInches!==void 0&&e.uint32(317).float(t.screenWidthInches),t.screenHeightInches!==void 0&&e.uint32(325).float(t.screenHeightInches),t.screenPixelDensity!==void 0&&e.uint32(328).int32(t.screenPixelDensity),t.platform!==void 0&&e.uint32(336).int32(t.platform),t.spacecastClientInfo!==void 0&&Nm.encode(t.spacecastClientInfo,e.uint32(362).fork()).join(),t.clientFormFactor!==void 0&&e.uint32(368).int32(t.clientFormFactor),t.forwardedFor!==void 0&&e.uint32(386).string(t.forwardedFor),t.mobileDataPlanInfo!==void 0&&Om.encode(t.mobileDataPlanInfo,e.uint32(394).fork()).join(),t.gmscoreVersionCode!==void 0&&e.uint32(400).int32(t.gmscoreVersionCode),t.webpSupport!==void 0&&e.uint32(408).bool(t.webpSupport),t.cameraType!==void 0&&e.uint32(416).int32(t.cameraType),t.experimentsToken!==void 0&&e.uint32(434).string(t.experimentsToken),t.windowWidthPoints!==void 0&&e.uint32(440).int32(t.windowWidthPoints),t.windowHeightPoints!==void 0&&e.uint32(448).int32(t.windowHeightPoints),t.configInfo!==void 0&&Lm.encode(t.configInfo,e.uint32(498).fork()).join(),t.unpluggedLocationInfo!==void 0&&Bm.encode(t.unpluggedLocationInfo,e.uint32(506).fork()).join(),t.androidSdkVersion!==void 0&&e.uint32(512).int32(t.androidSdkVersion),t.screenDensityFloat!==void 0&&e.uint32(525).float(t.screenDensityFloat),t.firstTimeSignInExperimentIds!==void 0&&e.uint32(528).int32(t.firstTimeSignInExperimentIds),t.utcOffsetMinutes!==void 0&&e.uint32(536).int32(t.utcOffsetMinutes),t.animatedWebpSupport!==void 0&&e.uint32(544).bool(t.animatedWebpSupport),t.kidsAppInfo!==void 0&&Vm.encode(t.kidsAppInfo,e.uint32(554).fork()).join(),t.musicAppInfo!==void 0&&Hm.encode(t.musicAppInfo,e.uint32(562).fork()).join(),t.tvAppInfo!==void 0&&jm.encode(t.tvAppInfo,e.uint32(570).fork()).join(),t.internalGeoIp!==void 0&&e.uint32(578).string(t.internalGeoIp),t.unpluggedAppInfo!==void 0&&qm.encode(t.unpluggedAppInfo,e.uint32(586).fork()).join(),t.locationInfo!==void 0&&Ym.encode(t.locationInfo,e.uint32(594).fork()).join(),t.contentSizeCategory!==void 0&&e.uint32(610).string(t.contentSizeCategory),t.fontScale!==void 0&&e.uint32(621).float(t.fontScale),t.userInterfaceTheme!==void 0&&e.uint32(624).int32(t.userInterfaceTheme),t.timeZone!==void 0&&e.uint32(642).string(t.timeZone),t.homeGroupInfo!==void 0&&$m.encode(t.homeGroupInfo,e.uint32(650).fork()).join(),t.emlTemplateContext!==void 0&&e.uint32(674).bytes(t.emlTemplateContext),t.coldAppBundleConfigData!==void 0&&e.uint32(682).bytes(t.coldAppBundleConfigData),t.browserName!==void 0&&e.uint32(698).string(t.browserName),t.browserVersion!==void 0&&e.uint32(706).string(t.browserVersion),t.locationPlayabilityToken!==void 0&&e.uint32(714).string(t.locationPlayabilityToken),t.chipset!==void 0&&e.uint32(738).string(t.chipset),t.firmwareVersion!==void 0&&e.uint32(746).string(t.firmwareVersion),t.memoryTotalKbytes!==void 0&&e.uint32(760).int64(t.memoryTotalKbytes),t.mainAppWebInfo!==void 0&&Pm.encode(t.mainAppWebInfo,e.uint32(770).fork()).join(),t.notificationPermissionInfo!==void 0&&Am.encode(t.notificationPermissionInfo,e.uint32(778).fork()).join(),t.deviceBrand!==void 0&&e.uint32(786).string(t.deviceBrand),t.glDeviceInfo!==void 0&&Mm.encode(t.glDeviceInfo,e.uint32(818).fork()).join(),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=xI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.hl=i.string();continue;case 2:if(o!==18)break;s.gl=i.string();continue;case 4:if(o!==34)break;s.remoteHost=i.string();continue;case 6:if(o!==50)break;s.deviceId=i.string();continue;case 8:if(o!==66)break;s.debugDeviceIdOverride=i.string();continue;case 10:if(o!==82)break;s.carrierGeo=i.string();continue;case 11:if(o!==88)break;s.crackedHl=i.bool();continue;case 12:if(o!==98)break;s.deviceMake=i.string();continue;case 13:if(o!==106)break;s.deviceModel=i.string();continue;case 14:if(o!==114)break;s.visitorData=i.string();continue;case 15:if(o!==122)break;s.userAgent=i.string();continue;case 16:if(o!==128)break;s.clientName=i.int32();continue;case 17:if(o!==138)break;s.clientVersion=i.string();continue;case 18:if(o!==146)break;s.osName=i.string();continue;case 19:if(o!==154)break;s.osVersion=i.string();continue;case 20:if(o!==162)break;s.projectId=i.string();continue;case 21:if(o!==170)break;s.acceptLanguage=i.string();continue;case 22:if(o!==178)break;s.acceptRegion=i.string();continue;case 23:if(o!==186)break;s.originalUrl=i.string();continue;case 25:if(o!==202)break;s.rawDeviceId=i.string();continue;case 27:if(o!==218)break;s.configData=i.string();continue;case 31:if(o!==250)break;s.spacecastToken=i.string();continue;case 34:if(o!==274)break;s.internalGeo=i.string();continue;case 37:if(o!==296)break;s.screenWidthPoints=i.int32();continue;case 38:if(o!==304)break;s.screenHeightPoints=i.int32();continue;case 39:if(o!==317)break;s.screenWidthInches=i.float();continue;case 40:if(o!==325)break;s.screenHeightInches=i.float();continue;case 41:if(o!==328)break;s.screenPixelDensity=i.int32();continue;case 42:if(o!==336)break;s.platform=i.int32();continue;case 45:if(o!==362)break;s.spacecastClientInfo=Nm.decode(i,i.uint32());continue;case 46:if(o!==368)break;s.clientFormFactor=i.int32();continue;case 48:if(o!==386)break;s.forwardedFor=i.string();continue;case 49:if(o!==394)break;s.mobileDataPlanInfo=Om.decode(i,i.uint32());continue;case 50:if(o!==400)break;s.gmscoreVersionCode=i.int32();continue;case 51:if(o!==408)break;s.webpSupport=i.bool();continue;case 52:if(o!==416)break;s.cameraType=i.int32();continue;case 54:if(o!==434)break;s.experimentsToken=i.string();continue;case 55:if(o!==440)break;s.windowWidthPoints=i.int32();continue;case 56:if(o!==448)break;s.windowHeightPoints=i.int32();continue;case 62:if(o!==498)break;s.configInfo=Lm.decode(i,i.uint32());continue;case 63:if(o!==506)break;s.unpluggedLocationInfo=Bm.decode(i,i.uint32());continue;case 64:if(o!==512)break;s.androidSdkVersion=i.int32();continue;case 65:if(o!==525)break;s.screenDensityFloat=i.float();continue;case 66:if(o!==528)break;s.firstTimeSignInExperimentIds=i.int32();continue;case 67:if(o!==536)break;s.utcOffsetMinutes=i.int32();continue;case 68:if(o!==544)break;s.animatedWebpSupport=i.bool();continue;case 69:if(o!==554)break;s.kidsAppInfo=Vm.decode(i,i.uint32());continue;case 70:if(o!==562)break;s.musicAppInfo=Hm.decode(i,i.uint32());continue;case 71:if(o!==570)break;s.tvAppInfo=jm.decode(i,i.uint32());continue;case 72:if(o!==578)break;s.internalGeoIp=i.string();continue;case 73:if(o!==586)break;s.unpluggedAppInfo=qm.decode(i,i.uint32());continue;case 74:if(o!==594)break;s.locationInfo=Ym.decode(i,i.uint32());continue;case 76:if(o!==610)break;s.contentSizeCategory=i.string();continue;case 77:if(o!==621)break;s.fontScale=i.float();continue;case 78:if(o!==624)break;s.userInterfaceTheme=i.int32();continue;case 80:if(o!==642)break;s.timeZone=i.string();continue;case 81:if(o!==650)break;s.homeGroupInfo=$m.decode(i,i.uint32());continue;case 84:if(o!==674)break;s.emlTemplateContext=i.bytes();continue;case 85:if(o!==682)break;s.coldAppBundleConfigData=i.bytes();continue;case 87:if(o!==698)break;s.browserName=i.string();continue;case 88:if(o!==706)break;s.browserVersion=i.string();continue;case 89:if(o!==714)break;s.locationPlayabilityToken=i.string();continue;case 92:if(o!==738)break;s.chipset=i.string();continue;case 93:if(o!==746)break;s.firmwareVersion=i.string();continue;case 95:if(o!==760)break;s.memoryTotalKbytes=ja(i.int64());continue;case 96:if(o!==770)break;s.mainAppWebInfo=Pm.decode(i,i.uint32());continue;case 97:if(o!==778)break;s.notificationPermissionInfo=Am.decode(i,i.uint32());continue;case 98:if(o!==786)break;s.deviceBrand=i.string();continue;case 102:if(o!==818)break;s.glDeviceInfo=Mm.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function kI(){return{graftUrl:void 0,pwaInstallabilityStatus:void 0,webDisplayMode:void 0,isWebNativeShareAvailable:void 0,storeDigitalGoodsApiSupportStatus:void 0}}const Pm={encode(t,e=new P){return t.graftUrl!==void 0&&e.uint32(10).string(t.graftUrl),t.pwaInstallabilityStatus!==void 0&&e.uint32(16).int32(t.pwaInstallabilityStatus),t.webDisplayMode!==void 0&&e.uint32(24).int32(t.webDisplayMode),t.isWebNativeShareAvailable!==void 0&&e.uint32(32).bool(t.isWebNativeShareAvailable),t.storeDigitalGoodsApiSupportStatus!==void 0&&e.uint32(40).int32(t.storeDigitalGoodsApiSupportStatus),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=kI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.graftUrl=i.string();continue;case 2:if(o!==16)break;s.pwaInstallabilityStatus=i.int32();continue;case 3:if(o!==24)break;s.webDisplayMode=i.int32();continue;case 4:if(o!==32)break;s.isWebNativeShareAvailable=i.bool();continue;case 5:if(o!==40)break;s.storeDigitalGoodsApiSupportStatus=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function SI(){return{notificationsSetting:void 0,lastDeviceOptInChangeTimeAgoSec:void 0}}const Am={encode(t,e=new P){return t.notificationsSetting!==void 0&&e.uint32(8).int32(t.notificationsSetting),t.lastDeviceOptInChangeTimeAgoSec!==void 0&&e.uint32(16).int64(t.lastDeviceOptInChangeTimeAgoSec),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=SI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.notificationsSetting=i.int32();continue;case 2:if(o!==16)break;s.lastDeviceOptInChangeTimeAgoSec=ja(i.int64());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function TI(){return{glRenderer:void 0,glEsVersionMajor:void 0,glEsVersionMinor:void 0}}const Mm={encode(t,e=new P){return t.glRenderer!==void 0&&e.uint32(10).string(t.glRenderer),t.glEsVersionMajor!==void 0&&e.uint32(16).int32(t.glEsVersionMajor),t.glEsVersionMinor!==void 0&&e.uint32(24).int32(t.glEsVersionMinor),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=TI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.glRenderer=i.string();continue;case 2:if(o!==16)break;s.glEsVersionMajor=i.int32();continue;case 3:if(o!==24)break;s.glEsVersionMinor=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function CI(){return{appliances:void 0,interactionLevel:void 0}}const Nm={encode(t,e=new P){return t.appliances!==void 0&&Dm.encode(t.appliances,e.uint32(10).fork()).join(),t.interactionLevel!==void 0&&e.uint32(16).int32(t.interactionLevel),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=CI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.appliances=Dm.decode(i,i.uint32());continue;case 2:if(o!==16)break;s.interactionLevel=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function II(){return{contentProfileToken:void 0,status:void 0,hostname:void 0,active:void 0,deviceId:void 0}}const Dm={encode(t,e=new P){return t.contentProfileToken!==void 0&&e.uint32(10).bytes(t.contentProfileToken),t.status!==void 0&&e.uint32(16).int32(t.status),t.hostname!==void 0&&e.uint32(26).string(t.hostname),t.active!==void 0&&e.uint32(32).bool(t.active),t.deviceId!==void 0&&e.uint32(42).string(t.deviceId),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=II();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.contentProfileToken=i.bytes();continue;case 2:if(o!==16)break;s.status=i.int32();continue;case 3:if(o!==26)break;s.hostname=i.string();continue;case 4:if(o!==32)break;s.active=i.bool();continue;case 5:if(o!==42)break;s.deviceId=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function EI(){return{cpid:void 0,serializedDataPlanStatus:void 0,dataSavingQualityPickerEnabled:void 0,mccmnc:void 0}}const Om={encode(t,e=new P){return t.cpid!==void 0&&e.uint32(394).string(t.cpid),t.serializedDataPlanStatus!==void 0&&e.uint32(402).string(t.serializedDataPlanStatus),t.dataSavingQualityPickerEnabled!==void 0&&e.uint32(416).bool(t.dataSavingQualityPickerEnabled),t.mccmnc!==void 0&&e.uint32(426).string(t.mccmnc),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=EI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 49:if(o!==394)break;s.cpid=i.string();continue;case 50:if(o!==402)break;s.serializedDataPlanStatus=i.string();continue;case 52:if(o!==416)break;s.dataSavingQualityPickerEnabled=i.bool();continue;case 53:if(o!==426)break;s.mccmnc=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function RI(){return{coldConfigData:void 0,coldHashData:void 0,hotHashData:void 0,appInstallData:void 0}}const Lm={encode(t,e=new P){return t.coldConfigData!==void 0&&e.uint32(10).string(t.coldConfigData),t.coldHashData!==void 0&&e.uint32(26).string(t.coldHashData),t.hotHashData!==void 0&&e.uint32(42).string(t.hotHashData),t.appInstallData!==void 0&&e.uint32(50).string(t.appInstallData),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=RI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.coldConfigData=i.string();continue;case 3:if(o!==26)break;s.coldHashData=i.string();continue;case 5:if(o!==42)break;s.hotHashData=i.string();continue;case 6:if(o!==50)break;s.appInstallData=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function PI(){return{latitudeE7:void 0,longitudeE7:void 0,localTimestampMs:void 0,ipAddress:void 0,timezone:void 0,prefer24HourTime:void 0,locationRadiusMeters:void 0,isInitialLoad:void 0,browserPermissionGranted:void 0,clientPermissionState:void 0,locationOverrideToken:void 0}}const Bm={encode(t,e=new P){return t.latitudeE7!==void 0&&e.uint32(8).int32(t.latitudeE7),t.longitudeE7!==void 0&&e.uint32(16).int32(t.longitudeE7),t.localTimestampMs!==void 0&&e.uint32(24).int64(t.localTimestampMs),t.ipAddress!==void 0&&e.uint32(34).string(t.ipAddress),t.timezone!==void 0&&e.uint32(42).string(t.timezone),t.prefer24HourTime!==void 0&&e.uint32(48).bool(t.prefer24HourTime),t.locationRadiusMeters!==void 0&&e.uint32(56).int32(t.locationRadiusMeters),t.isInitialLoad!==void 0&&e.uint32(64).bool(t.isInitialLoad),t.browserPermissionGranted!==void 0&&e.uint32(72).bool(t.browserPermissionGranted),t.clientPermissionState!==void 0&&e.uint32(80).int32(t.clientPermissionState),t.locationOverrideToken!==void 0&&e.uint32(90).string(t.locationOverrideToken),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=PI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.latitudeE7=i.int32();continue;case 2:if(o!==16)break;s.longitudeE7=i.int32();continue;case 3:if(o!==24)break;s.localTimestampMs=ja(i.int64());continue;case 4:if(o!==34)break;s.ipAddress=i.string();continue;case 5:if(o!==42)break;s.timezone=i.string();continue;case 6:if(o!==48)break;s.prefer24HourTime=i.bool();continue;case 7:if(o!==56)break;s.locationRadiusMeters=i.int32();continue;case 8:if(o!==64)break;s.isInitialLoad=i.bool();continue;case 9:if(o!==72)break;s.browserPermissionGranted=i.bool();continue;case 10:if(o!==80)break;s.clientPermissionState=i.int32();continue;case 11:if(o!==90)break;s.locationOverrideToken=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function AI(){return{contentSettings:void 0,parentCurationMode:void 0,categorySettings:void 0,userEducationSettings:void 0}}const Vm={encode(t,e=new P){return t.contentSettings!==void 0&&Um.encode(t.contentSettings,e.uint32(10).fork()).join(),t.parentCurationMode!==void 0&&e.uint32(16).int32(t.parentCurationMode),t.categorySettings!==void 0&&Fm.encode(t.categorySettings,e.uint32(26).fork()).join(),t.userEducationSettings!==void 0&&Wm.encode(t.userEducationSettings,e.uint32(34).fork()).join(),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=AI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.contentSettings=Um.decode(i,i.uint32());continue;case 2:if(o!==16)break;s.parentCurationMode=i.int32();continue;case 3:if(o!==26)break;s.categorySettings=Fm.decode(i,i.uint32());continue;case 4:if(o!==34)break;s.userEducationSettings=Wm.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function MI(){return{kidsNoSearchMode:void 0,ageUpMode:void 0,contentDensity:void 0}}const Um={encode(t,e=new P){return t.kidsNoSearchMode!==void 0&&e.uint32(8).int32(t.kidsNoSearchMode),t.ageUpMode!==void 0&&e.uint32(16).int32(t.ageUpMode),t.contentDensity!==void 0&&e.uint32(24).int32(t.contentDensity),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=MI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.kidsNoSearchMode=i.int32();continue;case 2:if(o!==16)break;s.ageUpMode=i.int32();continue;case 3:if(o!==24)break;s.contentDensity=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function NI(){return{enabledCategories:void 0}}const Fm={encode(t,e=new P){return t.enabledCategories!==void 0&&e.uint32(10).string(t.enabledCategories),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=NI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.enabledCategories=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function DI(){return{hasSeenHomeChipBarUserEducation:void 0,hasSeenHomePivotBarUserEducation:void 0,hasSeenParentMuirUserEducation:void 0}}const Wm={encode(t,e=new P){return t.hasSeenHomeChipBarUserEducation!==void 0&&e.uint32(8).bool(t.hasSeenHomeChipBarUserEducation),t.hasSeenHomePivotBarUserEducation!==void 0&&e.uint32(16).bool(t.hasSeenHomePivotBarUserEducation),t.hasSeenParentMuirUserEducation!==void 0&&e.uint32(24).bool(t.hasSeenParentMuirUserEducation),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=DI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.hasSeenHomeChipBarUserEducation=i.bool();continue;case 2:if(o!==16)break;s.hasSeenHomePivotBarUserEducation=i.bool();continue;case 3:if(o!==24)break;s.hasSeenParentMuirUserEducation=i.bool();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function OI(){return{playBackMode:void 0,musicLocationMasterSwitch:void 0,musicActivityMasterSwitch:void 0,offlineMixtapeEnabled:void 0,autoOfflineEnabled:void 0,iosBackgroundRefreshStatus:void 0,smartDownloadsSongLimit:void 0,transitionedFromMixtapeToSmartDownloads:void 0,pwaInstallabilityStatus:void 0,webDisplayMode:void 0,musicTier:void 0,storeDigitalGoodsApiSupportStatus:void 0,smartDownloadsTimeSinceLastOptOutSec:void 0}}const Hm={encode(t,e=new P){return t.playBackMode!==void 0&&e.uint32(8).int32(t.playBackMode),t.musicLocationMasterSwitch!==void 0&&e.uint32(16).int32(t.musicLocationMasterSwitch),t.musicActivityMasterSwitch!==void 0&&e.uint32(24).int32(t.musicActivityMasterSwitch),t.offlineMixtapeEnabled!==void 0&&e.uint32(32).bool(t.offlineMixtapeEnabled),t.autoOfflineEnabled!==void 0&&e.uint32(40).bool(t.autoOfflineEnabled),t.iosBackgroundRefreshStatus!==void 0&&e.uint32(48).int32(t.iosBackgroundRefreshStatus),t.smartDownloadsSongLimit!==void 0&&e.uint32(56).int32(t.smartDownloadsSongLimit),t.transitionedFromMixtapeToSmartDownloads!==void 0&&e.uint32(64).bool(t.transitionedFromMixtapeToSmartDownloads),t.pwaInstallabilityStatus!==void 0&&e.uint32(72).int32(t.pwaInstallabilityStatus),t.webDisplayMode!==void 0&&e.uint32(80).int32(t.webDisplayMode),t.musicTier!==void 0&&e.uint32(88).int32(t.musicTier),t.storeDigitalGoodsApiSupportStatus!==void 0&&e.uint32(96).int32(t.storeDigitalGoodsApiSupportStatus),t.smartDownloadsTimeSinceLastOptOutSec!==void 0&&e.uint32(104).int64(t.smartDownloadsTimeSinceLastOptOutSec),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=OI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.playBackMode=i.int32();continue;case 2:if(o!==16)break;s.musicLocationMasterSwitch=i.int32();continue;case 3:if(o!==24)break;s.musicActivityMasterSwitch=i.int32();continue;case 4:if(o!==32)break;s.offlineMixtapeEnabled=i.bool();continue;case 5:if(o!==40)break;s.autoOfflineEnabled=i.bool();continue;case 6:if(o!==48)break;s.iosBackgroundRefreshStatus=i.int32();continue;case 7:if(o!==56)break;s.smartDownloadsSongLimit=i.int32();continue;case 8:if(o!==64)break;s.transitionedFromMixtapeToSmartDownloads=i.bool();continue;case 9:if(o!==72)break;s.pwaInstallabilityStatus=i.int32();continue;case 10:if(o!==80)break;s.webDisplayMode=i.int32();continue;case 11:if(o!==88)break;s.musicTier=i.int32();continue;case 12:if(o!==96)break;s.storeDigitalGoodsApiSupportStatus=i.int32();continue;case 13:if(o!==104)break;s.smartDownloadsTimeSinceLastOptOutSec=ja(i.int64());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function LI(){return{mdxImpactedSessionsServerEvents:void 0,enablePrivacyFilter:void 0,zylonLeftNav:void 0,certificationScope:void 0,livingRoomPoTokenId:void 0,jsEngineString:void 0,voiceCapability:void 0,systemIntegrator:void 0,androidBuildFingerprint:void 0,cobaltAppVersion:void 0,cobaltStarboardVersion:void 0,useStartPlaybackPreviewCommand:void 0,shouldShowPersistentSigninOnHome:void 0,androidPlayServicesVersion:void 0}}const jm={encode(t,e=new P){return t.mdxImpactedSessionsServerEvents!==void 0&&e.uint32(26).string(t.mdxImpactedSessionsServerEvents),t.enablePrivacyFilter!==void 0&&e.uint32(48).bool(t.enablePrivacyFilter),t.zylonLeftNav!==void 0&&e.uint32(56).bool(t.zylonLeftNav),t.certificationScope!==void 0&&e.uint32(74).string(t.certificationScope),t.livingRoomPoTokenId!==void 0&&e.uint32(82).string(t.livingRoomPoTokenId),t.jsEngineString!==void 0&&e.uint32(98).string(t.jsEngineString),t.voiceCapability!==void 0&&Gm.encode(t.voiceCapability,e.uint32(106).fork()).join(),t.systemIntegrator!==void 0&&e.uint32(114).string(t.systemIntegrator),t.androidBuildFingerprint!==void 0&&e.uint32(146).string(t.androidBuildFingerprint),t.cobaltAppVersion!==void 0&&e.uint32(154).string(t.cobaltAppVersion),t.cobaltStarboardVersion!==void 0&&e.uint32(162).string(t.cobaltStarboardVersion),t.useStartPlaybackPreviewCommand!==void 0&&e.uint32(176).bool(t.useStartPlaybackPreviewCommand),t.shouldShowPersistentSigninOnHome!==void 0&&e.uint32(184).bool(t.shouldShowPersistentSigninOnHome),t.androidPlayServicesVersion!==void 0&&e.uint32(194).string(t.androidPlayServicesVersion),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=LI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 3:if(o!==26)break;s.mdxImpactedSessionsServerEvents=i.string();continue;case 6:if(o!==48)break;s.enablePrivacyFilter=i.bool();continue;case 7:if(o!==56)break;s.zylonLeftNav=i.bool();continue;case 9:if(o!==74)break;s.certificationScope=i.string();continue;case 10:if(o!==82)break;s.livingRoomPoTokenId=i.string();continue;case 12:if(o!==98)break;s.jsEngineString=i.string();continue;case 13:if(o!==106)break;s.voiceCapability=Gm.decode(i,i.uint32());continue;case 14:if(o!==114)break;s.systemIntegrator=i.string();continue;case 18:if(o!==146)break;s.androidBuildFingerprint=i.string();continue;case 19:if(o!==154)break;s.cobaltAppVersion=i.string();continue;case 20:if(o!==162)break;s.cobaltStarboardVersion=i.string();continue;case 22:if(o!==176)break;s.useStartPlaybackPreviewCommand=i.bool();continue;case 23:if(o!==184)break;s.shouldShowPersistentSigninOnHome=i.bool();continue;case 24:if(o!==194)break;s.androidPlayServicesVersion=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function BI(){return{hasSoftMicSupport:void 0,hasHardMicSupport:void 0}}const Gm={encode(t,e=new P){return t.hasSoftMicSupport!==void 0&&e.uint32(8).bool(t.hasSoftMicSupport),t.hasHardMicSupport!==void 0&&e.uint32(16).bool(t.hasHardMicSupport),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=BI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.hasSoftMicSupport=i.bool();continue;case 2:if(o!==16)break;s.hasHardMicSupport=i.bool();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function VI(){return{enableFilterMode:void 0,iosNotificationPermission:void 0,forceEnableEpg3:void 0}}const qm={encode(t,e=new P){return t.enableFilterMode!==void 0&&e.uint32(16).bool(t.enableFilterMode),t.iosNotificationPermission!==void 0&&e.uint32(24).bool(t.iosNotificationPermission),t.forceEnableEpg3!==void 0&&e.uint32(56).bool(t.forceEnableEpg3),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=VI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 2:if(o!==16)break;s.enableFilterMode=i.bool();continue;case 3:if(o!==24)break;s.iosNotificationPermission=i.bool();continue;case 7:if(o!==56)break;s.forceEnableEpg3=i.bool();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function UI(){return{locationInfoStatus:void 0,ulrStatus:void 0,latitudeE7:void 0,longitudeE7:void 0,horizontalAccuracyMeters:void 0,locationFreshnessMs:void 0,locationPermissionAuthorizationStatus:void 0,locationOverrideToken:void 0,forceLocationPlayabilityTokenRefresh:void 0}}const Ym={encode(t,e=new P){return t.locationInfoStatus!==void 0&&e.uint32(8).int32(t.locationInfoStatus),t.ulrStatus!==void 0&&Km.encode(t.ulrStatus,e.uint32(18).fork()).join(),t.latitudeE7!==void 0&&e.uint32(26).string(t.latitudeE7),t.longitudeE7!==void 0&&e.uint32(34).string(t.longitudeE7),t.horizontalAccuracyMeters!==void 0&&e.uint32(42).string(t.horizontalAccuracyMeters),t.locationFreshnessMs!==void 0&&e.uint32(50).string(t.locationFreshnessMs),t.locationPermissionAuthorizationStatus!==void 0&&e.uint32(56).int32(t.locationPermissionAuthorizationStatus),t.locationOverrideToken!==void 0&&e.uint32(66).string(t.locationOverrideToken),t.forceLocationPlayabilityTokenRefresh!==void 0&&e.uint32(72).bool(t.forceLocationPlayabilityTokenRefresh),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=UI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.locationInfoStatus=i.int32();continue;case 2:if(o!==18)break;s.ulrStatus=Km.decode(i,i.uint32());continue;case 3:if(o!==26)break;s.latitudeE7=i.string();continue;case 4:if(o!==34)break;s.longitudeE7=i.string();continue;case 5:if(o!==42)break;s.horizontalAccuracyMeters=i.string();continue;case 6:if(o!==50)break;s.locationFreshnessMs=i.string();continue;case 7:if(o!==56)break;s.locationPermissionAuthorizationStatus=i.int32();continue;case 8:if(o!==66)break;s.locationOverrideToken=i.string();continue;case 9:if(o!==72)break;s.forceLocationPlayabilityTokenRefresh=i.bool();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function FI(){return{reportingEnabledSetting:void 0,historyEnabledSetting:void 0,isAllowed:void 0,isActive:void 0}}const Km={encode(t,e=new P){return t.reportingEnabledSetting!==void 0&&e.uint32(8).int32(t.reportingEnabledSetting),t.historyEnabledSetting!==void 0&&e.uint32(16).int32(t.historyEnabledSetting),t.isAllowed!==void 0&&e.uint32(24).bool(t.isAllowed),t.isActive!==void 0&&e.uint32(32).bool(t.isActive),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=FI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.reportingEnabledSetting=i.int32();continue;case 2:if(o!==16)break;s.historyEnabledSetting=i.int32();continue;case 3:if(o!==24)break;s.isAllowed=i.bool();continue;case 4:if(o!==32)break;s.isActive=i.bool();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function WI(){return{isPartOfGroup:void 0,isGroup:void 0}}const $m={encode(t,e=new P){return t.isPartOfGroup!==void 0&&e.uint32(8).bool(t.isPartOfGroup),t.isGroup!==void 0&&e.uint32(24).bool(t.isGroup),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=WI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.isPartOfGroup=i.bool();continue;case 3:if(o!==24)break;s.isGroup=i.bool();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function ja(t){const e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}function HI(){return{challenge:void 0,webResponse:void 0,androidResponse:void 0,iosResponse:void 0,error:void 0,adblockReporting:void 0}}const zm={encode(t,e=new P){return t.challenge!==void 0&&e.uint32(10).string(t.challenge),t.webResponse!==void 0&&e.uint32(18).string(t.webResponse),t.androidResponse!==void 0&&e.uint32(26).string(t.androidResponse),t.iosResponse!==void 0&&e.uint32(34).bytes(t.iosResponse),t.error!==void 0&&e.uint32(40).int32(t.error),t.adblockReporting!==void 0&&Qm.encode(t.adblockReporting,e.uint32(50).fork()).join(),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=HI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.challenge=i.string();continue;case 2:if(o!==18)break;s.webResponse=i.string();continue;case 3:if(o!==26)break;s.androidResponse=i.string();continue;case 4:if(o!==34)break;s.iosResponse=i.bytes();continue;case 5:if(o!==40)break;s.error=i.int32();continue;case 6:if(o!==50)break;s.adblockReporting=Qm.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function jI(){return{reportingStatus:void 0,broadSpectrumDetectionResult:void 0}}const Qm={encode(t,e=new P){return t.reportingStatus!==void 0&&e.uint32(8).uint64(t.reportingStatus),t.broadSpectrumDetectionResult!==void 0&&e.uint32(16).uint64(t.broadSpectrumDetectionResult),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=jI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.reportingStatus=Xm(i.uint64());continue;case 2:if(o!==16)break;s.broadSpectrumDetectionResult=Xm(i.uint64());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function Xm(t){const e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}var Zm;(function(t){t[t.CRITICALITY_UNSPECIFIED=0]="CRITICALITY_UNSPECIFIED",t[t.CRITICALITY_CRITICAL=1]="CRITICALITY_CRITICAL",t[t.CRITICALITY_NON_CRITICAL=2]="CRITICALITY_NON_CRITICAL",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Zm||(Zm={}));function GI(){return{thirdPartyDigest:void 0,useSsl:void 0,returnErrorDetail:void 0,ifNoneMatch:void 0,returnLogEntry:void 0,isPrefetch:void 0,internalExperimentFlags:[],returnDebugData:void 0,innertubez:void 0,traceProto:void 0,returnLogEntryJson:void 0,sherlogUsername:void 0,reauthRequestInfo:void 0,sessionInfo:void 0,returnLogEntryProto:void 0,externalPrequestContext:void 0,attestationResponseData:void 0,eats:void 0,requestQos:void 0}}const Jm={encode(t,e=new P){t.thirdPartyDigest!==void 0&&e.uint32(50).string(t.thirdPartyDigest),t.useSsl!==void 0&&e.uint32(56).bool(t.useSsl),t.returnErrorDetail!==void 0&&e.uint32(72).bool(t.returnErrorDetail),t.ifNoneMatch!==void 0&&e.uint32(98).string(t.ifNoneMatch),t.returnLogEntry!==void 0&&e.uint32(104).bool(t.returnLogEntry),t.isPrefetch!==void 0&&e.uint32(112).bool(t.isPrefetch);for(const i of t.internalExperimentFlags)rs.encode(i,e.uint32(122).fork()).join();return t.returnDebugData!==void 0&&e.uint32(128).bool(t.returnDebugData),t.innertubez!==void 0&&e.uint32(146).string(t.innertubez),t.traceProto!==void 0&&e.uint32(184).bool(t.traceProto),t.returnLogEntryJson!==void 0&&e.uint32(192).bool(t.returnLogEntryJson),t.sherlogUsername!==void 0&&e.uint32(202).string(t.sherlogUsername),t.reauthRequestInfo!==void 0&&i_.encode(t.reauthRequestInfo,e.uint32(234).fork()).join(),t.sessionInfo!==void 0&&t_.encode(t.sessionInfo,e.uint32(242).fork()).join(),t.returnLogEntryProto!==void 0&&e.uint32(248).bool(t.returnLogEntryProto),t.externalPrequestContext!==void 0&&e.uint32(258).string(t.externalPrequestContext),t.attestationResponseData!==void 0&&zm.encode(t.attestationResponseData,e.uint32(274).fork()).join(),t.eats!==void 0&&e.uint32(282).bytes(t.eats),t.requestQos!==void 0&&e_.encode(t.requestQos,e.uint32(290).fork()).join(),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=GI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 6:if(o!==50)break;s.thirdPartyDigest=i.string();continue;case 7:if(o!==56)break;s.useSsl=i.bool();continue;case 9:if(o!==72)break;s.returnErrorDetail=i.bool();continue;case 12:if(o!==98)break;s.ifNoneMatch=i.string();continue;case 13:if(o!==104)break;s.returnLogEntry=i.bool();continue;case 14:if(o!==112)break;s.isPrefetch=i.bool();continue;case 15:if(o!==122)break;s.internalExperimentFlags.push(rs.decode(i,i.uint32()));continue;case 16:if(o!==128)break;s.returnDebugData=i.bool();continue;case 18:if(o!==146)break;s.innertubez=i.string();continue;case 23:if(o!==184)break;s.traceProto=i.bool();continue;case 24:if(o!==192)break;s.returnLogEntryJson=i.bool();continue;case 25:if(o!==202)break;s.sherlogUsername=i.string();continue;case 29:if(o!==234)break;s.reauthRequestInfo=i_.decode(i,i.uint32());continue;case 30:if(o!==242)break;s.sessionInfo=t_.decode(i,i.uint32());continue;case 31:if(o!==248)break;s.returnLogEntryProto=i.bool();continue;case 32:if(o!==258)break;s.externalPrequestContext=i.string();continue;case 34:if(o!==274)break;s.attestationResponseData=zm.decode(i,i.uint32());continue;case 35:if(o!==282)break;s.eats=i.bytes();continue;case 36:if(o!==290)break;s.requestQos=e_.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function qI(){return{criticality:void 0}}const e_={encode(t,e=new P){return t.criticality!==void 0&&e.uint32(8).int32(t.criticality),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=qI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.criticality=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function YI(){return{token:void 0}}const t_={encode(t,e=new P){return t.token!==void 0&&e.uint32(10).string(t.token),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=YI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.token=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function KI(){return{encodedReauthProofToken:void 0}}const i_={encode(t,e=new P){return t.encodedReauthProofToken!==void 0&&e.uint32(10).string(t.encodedReauthProofToken),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=KI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.encodedReauthProofToken=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function $I(){return{developerKey:void 0,appName:void 0,appPublisher:void 0,embedUrl:void 0,appVersion:void 0,embeddedPlayerContext:void 0}}const n_={encode(t,e=new P){return t.developerKey!==void 0&&e.uint32(10).string(t.developerKey),t.appName!==void 0&&e.uint32(18).string(t.appName),t.appPublisher!==void 0&&e.uint32(26).string(t.appPublisher),t.embedUrl!==void 0&&e.uint32(34).string(t.embedUrl),t.appVersion!==void 0&&e.uint32(50).string(t.appVersion),t.embeddedPlayerContext!==void 0&&s_.encode(t.embeddedPlayerContext,e.uint32(58).fork()).join(),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=$I();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.developerKey=i.string();continue;case 2:if(o!==18)break;s.appName=i.string();continue;case 3:if(o!==26)break;s.appPublisher=i.string();continue;case 4:if(o!==34)break;s.embedUrl=i.string();continue;case 6:if(o!==50)break;s.appVersion=i.string();continue;case 7:if(o!==58)break;s.embeddedPlayerContext=s_.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function zI(){return{ancestorOrigins:void 0,embeddedPlayerEncryptedContext:void 0,ancestorOriginsSupported:void 0}}const s_={encode(t,e=new P){return t.ancestorOrigins!==void 0&&e.uint32(10).string(t.ancestorOrigins),t.embeddedPlayerEncryptedContext!==void 0&&e.uint32(18).string(t.embeddedPlayerEncryptedContext),t.ancestorOriginsSupported!==void 0&&e.uint32(24).bool(t.ancestorOriginsSupported),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=zI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.ancestorOrigins=i.string();continue;case 2:if(o!==18)break;s.embeddedPlayerEncryptedContext=i.string();continue;case 3:if(o!==24)break;s.ancestorOriginsSupported=i.bool();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function QI(){return{onBehalfOfUser:void 0,enableSafetyMode:void 0,credentialTransferTokens:[],delegatePurchases:void 0,kidsParent:void 0,isIncognito:void 0,lockedSafetyMode:void 0,delegationContext:void 0,serializedDelegationContext:void 0}}const o_={encode(t,e=new P){t.onBehalfOfUser!==void 0&&e.uint32(26).string(t.onBehalfOfUser),t.enableSafetyMode!==void 0&&e.uint32(56).bool(t.enableSafetyMode);for(const i of t.credentialTransferTokens)u_.encode(i,e.uint32(98).fork()).join();return t.delegatePurchases!==void 0&&a_.encode(t.delegatePurchases,e.uint32(106).fork()).join(),t.kidsParent!==void 0&&r_.encode(t.kidsParent,e.uint32(114).fork()).join(),t.isIncognito!==void 0&&e.uint32(120).bool(t.isIncognito),t.lockedSafetyMode!==void 0&&e.uint32(128).bool(t.lockedSafetyMode),t.delegationContext!==void 0&&c_.encode(t.delegationContext,e.uint32(138).fork()).join(),t.serializedDelegationContext!==void 0&&e.uint32(146).string(t.serializedDelegationContext),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=QI();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 3:if(o!==26)break;s.onBehalfOfUser=i.string();continue;case 7:if(o!==56)break;s.enableSafetyMode=i.bool();continue;case 12:if(o!==98)break;s.credentialTransferTokens.push(u_.decode(i,i.uint32()));continue;case 13:if(o!==106)break;s.delegatePurchases=a_.decode(i,i.uint32());continue;case 14:if(o!==114)break;s.kidsParent=r_.decode(i,i.uint32());continue;case 15:if(o!==120)break;s.isIncognito=i.bool();continue;case 16:if(o!==128)break;s.lockedSafetyMode=i.bool();continue;case 17:if(o!==138)break;s.delegationContext=c_.decode(i,i.uint32());continue;case 18:if(o!==146)break;s.serializedDelegationContext=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function XI(){return{}}const r_={encode(t,e=new P){return e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=XI();for(;i.pos<n;){const o=i.uint32();if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function ZI(){return{}}const a_={encode(t,e=new P){return e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=ZI();for(;i.pos<n;){const o=i.uint32();if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function JI(){return{}}const c_={encode(t,e=new P){return e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=JI();for(;i.pos<n;){const o=i.uint32();if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function eE(){return{}}const u_={encode(t,e=new P){return e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=eE();for(;i.pos<n;){const o=i.uint32();if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function tE(){return{client:void 0,user:void 0,capabilities:void 0,request:void 0,clickTracking:void 0,thirdParty:void 0,remoteClient:void 0,adSignalsInfo:void 0,experimentalData:void 0,clientScreenNonce:void 0,activePlayers:[]}}const l_={encode(t,e=new P){t.client!==void 0&&Go.encode(t.client,e.uint32(10).fork()).join(),t.user!==void 0&&o_.encode(t.user,e.uint32(26).fork()).join(),t.capabilities!==void 0&&cm.encode(t.capabilities,e.uint32(34).fork()).join(),t.request!==void 0&&Jm.encode(t.request,e.uint32(42).fork()).join(),t.clickTracking!==void 0&&p_.encode(t.clickTracking,e.uint32(50).fork()).join(),t.thirdParty!==void 0&&n_.encode(t.thirdParty,e.uint32(58).fork()).join(),t.remoteClient!==void 0&&Go.encode(t.remoteClient,e.uint32(66).fork()).join(),t.adSignalsInfo!==void 0&&f_.encode(t.adSignalsInfo,e.uint32(74).fork()).join(),t.experimentalData!==void 0&&h_.encode(t.experimentalData,e.uint32(82).fork()).join(),t.clientScreenNonce!==void 0&&e.uint32(90).string(t.clientScreenNonce);for(const i of t.activePlayers)d_.encode(i,e.uint32(98).fork()).join();return e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=tE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.client=Go.decode(i,i.uint32());continue;case 3:if(o!==26)break;s.user=o_.decode(i,i.uint32());continue;case 4:if(o!==34)break;s.capabilities=cm.decode(i,i.uint32());continue;case 5:if(o!==42)break;s.request=Jm.decode(i,i.uint32());continue;case 6:if(o!==50)break;s.clickTracking=p_.decode(i,i.uint32());continue;case 7:if(o!==58)break;s.thirdParty=n_.decode(i,i.uint32());continue;case 8:if(o!==66)break;s.remoteClient=Go.decode(i,i.uint32());continue;case 9:if(o!==74)break;s.adSignalsInfo=f_.decode(i,i.uint32());continue;case 10:if(o!==82)break;s.experimentalData=h_.decode(i,i.uint32());continue;case 11:if(o!==90)break;s.clientScreenNonce=i.string();continue;case 12:if(o!==98)break;s.activePlayers.push(d_.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function iE(){return{params:[]}}const h_={encode(t,e=new P){for(const i of t.params)rs.encode(i,e.uint32(10).fork()).join();return e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=iE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.params.push(rs.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function nE(){return{playerContextParams:void 0}}const d_={encode(t,e=new P){return t.playerContextParams!==void 0&&e.uint32(10).bytes(t.playerContextParams),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=nE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.playerContextParams=i.bytes();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function sE(){return{clickTrackingParams:void 0}}const p_={encode(t,e=new P){return t.clickTrackingParams!==void 0&&e.uint32(18).bytes(t.clickTrackingParams),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=sE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 2:if(o!==18)break;s.clickTrackingParams=i.bytes();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function oE(){return{params:[],bid:void 0,mutsuId:void 0,consentBumpState:void 0,advertisingId:void 0,limitAdTracking:void 0,attributionOsSupportedVersion:void 0}}const f_={encode(t,e=new P){for(const i of t.params)rs.encode(i,e.uint32(10).fork()).join();return t.bid!==void 0&&e.uint32(18).string(t.bid),t.mutsuId!==void 0&&e.uint32(26).string(t.mutsuId),t.consentBumpState!==void 0&&e.uint32(34).string(t.consentBumpState),t.advertisingId!==void 0&&e.uint32(58).string(t.advertisingId),t.limitAdTracking!==void 0&&e.uint32(72).bool(t.limitAdTracking),t.attributionOsSupportedVersion!==void 0&&e.uint32(82).string(t.attributionOsSupportedVersion),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=oE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.params.push(rs.decode(i,i.uint32()));continue;case 2:if(o!==18)break;s.bid=i.string();continue;case 3:if(o!==26)break;s.mutsuId=i.string();continue;case 4:if(o!==34)break;s.consentBumpState=i.string();continue;case 7:if(o!==58)break;s.advertisingId=i.string();continue;case 9:if(o!==72)break;s.limitAdTracking=i.bool();continue;case 10:if(o!==82)break;s.attributionOsSupportedVersion=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function rE(){return{context:void 0,encryptedVideoId:void 0,title:void 0,description:void 0,privacy:void 0,tags:void 0,category:void 0,license:void 0,ageRestriction:void 0,videoStill:void 0,madeForKids:void 0,racy:void 0}}const aE={encode(t,e=new P){return t.context!==void 0&&l_.encode(t.context,e.uint32(10).fork()).join(),t.encryptedVideoId!==void 0&&e.uint32(18).string(t.encryptedVideoId),t.title!==void 0&&m_.encode(t.title,e.uint32(26).fork()).join(),t.description!==void 0&&__.encode(t.description,e.uint32(34).fork()).join(),t.privacy!==void 0&&b_.encode(t.privacy,e.uint32(42).fork()).join(),t.tags!==void 0&&y_.encode(t.tags,e.uint32(50).fork()).join(),t.category!==void 0&&g_.encode(t.category,e.uint32(58).fork()).join(),t.license!==void 0&&w_.encode(t.license,e.uint32(66).fork()).join(),t.ageRestriction!==void 0&&k_.encode(t.ageRestriction,e.uint32(90).fork()).join(),t.videoStill!==void 0&&S_.encode(t.videoStill,e.uint32(162).fork()).join(),t.madeForKids!==void 0&&v_.encode(t.madeForKids,e.uint32(546).fork()).join(),t.racy!==void 0&&x_.encode(t.racy,e.uint32(554).fork()).join(),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=rE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.context=l_.decode(i,i.uint32());continue;case 2:if(o!==18)break;s.encryptedVideoId=i.string();continue;case 3:if(o!==26)break;s.title=m_.decode(i,i.uint32());continue;case 4:if(o!==34)break;s.description=__.decode(i,i.uint32());continue;case 5:if(o!==42)break;s.privacy=b_.decode(i,i.uint32());continue;case 6:if(o!==50)break;s.tags=y_.decode(i,i.uint32());continue;case 7:if(o!==58)break;s.category=g_.decode(i,i.uint32());continue;case 8:if(o!==66)break;s.license=w_.decode(i,i.uint32());continue;case 11:if(o!==90)break;s.ageRestriction=k_.decode(i,i.uint32());continue;case 20:if(o!==162)break;s.videoStill=S_.decode(i,i.uint32());continue;case 68:if(o!==546)break;s.madeForKids=v_.decode(i,i.uint32());continue;case 69:if(o!==554)break;s.racy=x_.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function cE(){return{newTitle:void 0}}const m_={encode(t,e=new P){return t.newTitle!==void 0&&e.uint32(10).string(t.newTitle),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=cE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.newTitle=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function uE(){return{newDescription:void 0}}const __={encode(t,e=new P){return t.newDescription!==void 0&&e.uint32(10).string(t.newDescription),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=uE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.newDescription=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function lE(){return{newPrivacy:void 0,clearPrivacyDraft:void 0}}const b_={encode(t,e=new P){return t.newPrivacy!==void 0&&e.uint32(8).int32(t.newPrivacy),t.clearPrivacyDraft!==void 0&&e.uint32(16).bool(t.clearPrivacyDraft),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=lE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.newPrivacy=i.int32();continue;case 2:if(o!==16)break;s.clearPrivacyDraft=i.bool();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function hE(){return{newTags:[]}}const y_={encode(t,e=new P){for(const i of t.newTags)e.uint32(10).string(i);return e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=hE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.newTags.push(i.string());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function dE(){return{newCategoryId:void 0}}const g_={encode(t,e=new P){return t.newCategoryId!==void 0&&e.uint32(8).int32(t.newCategoryId),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=dE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.newCategoryId=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function pE(){return{newLicenseId:void 0}}const w_={encode(t,e=new P){return t.newLicenseId!==void 0&&e.uint32(10).string(t.newLicenseId),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=pE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.newLicenseId=i.string();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function fE(){return{operation:void 0,newMfk:void 0}}const v_={encode(t,e=new P){return t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newMfk!==void 0&&e.uint32(16).int32(t.newMfk),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=fE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.operation=i.int32();continue;case 2:if(o!==16)break;s.newMfk=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function mE(){return{operation:void 0,newRacy:void 0}}const x_={encode(t,e=new P){return t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newRacy!==void 0&&e.uint32(16).int32(t.newRacy),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=mE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.operation=i.int32();continue;case 2:if(o!==16)break;s.newRacy=i.int32();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function _E(){return{newIsAgeRestricted:void 0}}const k_={encode(t,e=new P){return t.newIsAgeRestricted!==void 0&&e.uint32(8).bool(t.newIsAgeRestricted),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=_E();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.newIsAgeRestricted=i.bool();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function bE(){return{operation:void 0,newStillId:void 0,image:void 0,testImage:void 0,experimentImage:[]}}const S_={encode(t,e=new P){t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newStillId!==void 0&&e.uint32(16).int32(t.newStillId),t.image!==void 0&&Yn.encode(t.image,e.uint32(26).fork()).join(),t.testImage!==void 0&&Yn.encode(t.testImage,e.uint32(34).fork()).join();for(const i of t.experimentImage)T_.encode(i,e.uint32(50).fork()).join();return e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=bE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;s.operation=i.int32();continue;case 2:if(o!==16)break;s.newStillId=i.int32();continue;case 3:if(o!==26)break;s.image=Yn.decode(i,i.uint32());continue;case 4:if(o!==34)break;s.testImage=Yn.decode(i,i.uint32());continue;case 6:if(o!==50)break;s.experimentImage.push(T_.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function yE(){return{image:void 0}}const T_={encode(t,e=new P){return t.image!==void 0&&Yn.encode(t.image,e.uint32(10).fork()).join(),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=yE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.image=Yn.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function gE(){return{rawBytes:void 0,dataUri:void 0,frameTimestampUs:void 0,isVertical:void 0}}const Yn={encode(t,e=new P){return t.rawBytes!==void 0&&e.uint32(10).bytes(t.rawBytes),t.dataUri!==void 0&&e.uint32(18).string(t.dataUri),t.frameTimestampUs!==void 0&&e.uint32(32).int64(t.frameTimestampUs),t.isVertical!==void 0&&e.uint32(40).bool(t.isVertical),e},decode(t,e){const i=t instanceof x?t:new x(t);let n=e===void 0?i.len:i.pos+e;const s=gE();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;s.rawBytes=i.bytes();continue;case 2:if(o!==18)break;s.dataUri=i.string();continue;case 4:if(o!==32)break;s.frameTimestampUs=wE(i.int64());continue;case 5:if(o!==40)break;s.isVertical=i.bool();continue}if((o&7)===4||o===0)break;i.skip(o&7)}return s}};function wE(t){const e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}var Hs,Xe,Hx,jx,Gx;class vE{constructor(e){Hs.add(this),Xe.set(this,void 0),T(this,Xe,e,"f")}async updateVideoMetadata(e,i){var o;if(!a(this,Xe,"f").logged_in)throw new g("You must be signed in to perform this operation.");const n={context:{client:{osName:"Android",clientName:parseInt(L.ANDROID.NAME_ID),clientVersion:L.ANDROID.VERSION,androidSdkVersion:L.ANDROID.SDK_VERSION,visitorData:a(this,Xe,"f").context.client.visitorData,osVersion:"13",acceptLanguage:a(this,Xe,"f").context.client.hl,acceptRegion:a(this,Xe,"f").context.client.gl,deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",screenHeightPoints:840,screenWidthPoints:432,configInfo:{appInstallData:(o=a(this,Xe,"f").context.client.configInfo)==null?void 0:o.appInstallData},timeZone:a(this,Xe,"f").context.client.timeZone,chipset:"qcom;taro"},activePlayers:[]},encryptedVideoId:e};if(i.title&&(n.title={newTitle:i.title}),i.description&&(n.description={newDescription:i.description}),i.license&&(n.license={newLicenseId:i.license}),i.tags&&(n.tags={newTags:i.tags}),i.thumbnail&&(n.videoStill={operation:3,image:{rawBytes:i.thumbnail},experimentImage:[]}),Reflect.has(i,"category")&&(n.category={newCategoryId:i.category}),Reflect.has(i,"privacy"))switch(i.privacy){case"PUBLIC":n.privacy={newPrivacy:1};break;case"UNLISTED":n.privacy={newPrivacy:2};break;case"PRIVATE":n.privacy={newPrivacy:3};break;default:throw new Error("Invalid privacy setting")}Reflect.has(i,"made_for_kids")&&(n.madeForKids={operation:1,newMfk:i.made_for_kids?1:2}),Reflect.has(i,"age_restricted")&&(n.racy={operation:1,newRacy:i.age_restricted?1:2});const s=aE.encode(n);return await a(this,Xe,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:s.finish()})}async upload(e,i={}){if(!a(this,Xe,"f").logged_in)throw new g("You must be signed in to perform this operation.");const n=await a(this,Hs,"m",Hx).call(this),s=await a(this,Hs,"m",jx).call(this,n.upload_url,e);if(s.status!=="STATUS_SUCCESS")throw new g("Could not process video.");return await a(this,Hs,"m",Gx).call(this,n,s,i)}}Xe=new WeakMap,Hs=new WeakSet,Hx=async function(){const e=`innertube_android:${j.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${j.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},n=await a(this,Xe,"f").http.fetch("/upload/youtubei",{baseURL:ye.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!n.ok)throw new g("Could not get initial upload data");return{frontend_upload_id:e,upload_id:n.headers.get("x-guploader-uploadid"),upload_url:n.headers.get("x-goog-upload-url"),scotty_resource_id:n.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:n.headers.get("x-goog-upload-chunk-granularity")}},jx=async function(e,i){const n=await a(this,Xe,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!n.ok)throw new g("Could not upload video");return await n.json()},Gx=async function(e,i,n){return await a(this,Xe,"f").actions.execute("/upload/createvideo",{resourceId:{scottyResourceId:{id:i.scottyResourceId}},frontendUploadId:e.frontend_upload_id,initialMetadata:{title:{newTitle:n.title},description:{newDescription:n.description,shouldSegment:!0},privacy:{newPrivacy:n.privacy||"PRIVATE"},draftState:{isDraft:!!n.is_draft}}})};var oi;class xE{constructor(e){oi.set(this,void 0),T(this,oi,e,"f")}async getInfo(e=!1){var s;if(!a(this,oi,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");if(!e&&a(this,oi,"f").session.context.user.onBehalfOfUser)throw new g('Boolean argument must be true when "on_behalf_of_user" is specified.');if(e)return((s=(await new y({getAccountsListInnertubeEndpoint:{requestType:"ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER",callCircumstance:"SWITCHING_USERS_FULL"}}).call(a(this,oi,"f"),{client:"WEB",parse:!0})).actions_memo)==null?void 0:s.getType(Gr))||[];const n=await new y({getAccountsListInnertubeEndpoint:{}}).call(a(this,oi,"f"),{client:"TV"});return new ZS(n)}async getSettings(){const i=await new y({browseEndpoint:{browseId:"SPaccount_overview"}}).call(a(this,oi,"f"));return new _p(a(this,oi,"f"),i)}}oi=new WeakMap;var ur,ve,ru;class kE{constructor(e){ur.add(this),ve.set(this,void 0),T(this,ve,e,"f")}async create(e,i){if(ie({title:e,video_ids:i}),!a(this,ve,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");const s=await new y({createPlaylistServiceEndpoint:{title:e,videoIds:i}}).call(a(this,ve,"f"));return{success:s.success,status_code:s.status_code,playlist_id:s.data.playlistId,data:s.data}}async delete(e){if(ie({playlist_id:e}),!a(this,ve,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");const n=await new y({deletePlaylistServiceEndpoint:{sourcePlaylistId:e}}).call(a(this,ve,"f"));return{playlist_id:e,success:n.success,status_code:n.status_code,data:n.data}}async addVideos(e,i){if(ie({playlist_id:e,video_ids:i}),!a(this,ve,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");const s=await new y({playlistEditEndpoint:{playlistId:e,actions:i.map(o=>({action:"ACTION_ADD_VIDEO",addedVideoId:o}))}}).call(a(this,ve,"f"));return{playlist_id:e,action_result:s.data.actions}}async removeVideos(e,i,n=!1){if(ie({playlist_id:e,video_ids:i}),!a(this,ve,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");const s=await a(this,ur,"m",ru).call(this,e);if(!s.info.is_editable)throw new g("This playlist cannot be edited.",e);const o={playlistId:e,actions:[]},r=async d=>{const p=n?"set_video_id":"id";if(d.videos.filter(b=>i.includes(b.key(p).string())).forEach(b=>o.actions.push({action:"ACTION_REMOVE_VIDEO",setVideoId:b.key("set_video_id").string()})),o.actions.length<i.length){const b=await d.getContinuation();return r(b)}};if(await r(s),!o.actions.length)throw new g("Given video ids were not found in this playlist.",i);const h=await new y({playlistEditEndpoint:o}).call(a(this,ve,"f"));return{playlist_id:e,action_result:h.data.actions}}async moveVideo(e,i,n){if(ie({playlist_id:e,moved_video_id:i,predecessor_video_id:n}),!a(this,ve,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");const s=await a(this,ur,"m",ru).call(this,e);if(!s.info.is_editable)throw new g("This playlist cannot be edited.",e);const o={playlistId:e,actions:[]};let r,c;const h=async _=>{const b=_.videos.find(v=>i===v.key("id").string()),w=_.videos.find(v=>n===v.key("id").string());if(r=r||(b==null?void 0:b.key("set_video_id").string()),c=c||(w==null?void 0:w.key("set_video_id").string()),!r||!c){const v=await _.getContinuation();return h(v)}};await h(s),o.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",setVideoId:r,movedSetVideoIdPredecessor:c});const p=await new y({playlistEditEndpoint:o}).call(a(this,ve,"f"));return{playlist_id:e,action_result:p.data.actions}}async setName(e,i){if(ie({playlist_id:e,name:i}),!a(this,ve,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");const n={playlist_id:e,actions:[]};n.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlistName:i});const o=await new y({playlistEditEndpoint:n}).call(a(this,ve,"f"));return{playlist_id:e,action_result:o.data.actions}}async setDescription(e,i){if(ie({playlist_id:e,description:i}),!a(this,ve,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");const n={playlistId:e,actions:[]};n.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlistDescription:i});const o=await new y({playlistEditEndpoint:n}).call(a(this,ve,"f"));return{playlist_id:e,action_result:o.data.actions}}}ve=new WeakMap,ur=new WeakSet,ru=async function(e){let i=e;i.startsWith("VL")||(i=`VL${i}`);const s=await new y({browseEndpoint:{browseId:`VL${i}`}}).call(a(this,ve,"f"),{parse:!0});return new fp(a(this,ve,"f"),s,!0)};var Te;class SE{constructor(e){Te.set(this,void 0),T(this,Te,e,"f")}async like(e){if(ie({video_id:e}),!a(this,Te,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new y({likeEndpoint:{status:"LIKE",target:e}}).call(a(this,Te,"f"),{client:"TV"})}async dislike(e){if(ie({video_id:e}),!a(this,Te,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new y({likeEndpoint:{status:"DISLIKE",target:e}}).call(a(this,Te,"f"),{client:"TV"})}async removeRating(e){if(ie({video_id:e}),!a(this,Te,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new y({likeEndpoint:{status:"INDIFFERENT",target:e}}).call(a(this,Te,"f"),{client:"TV"})}async subscribe(e){if(ie({channel_id:e}),!a(this,Te,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new y({subscribeEndpoint:{channelIds:[e],params:"EgIIAhgA"}}).call(a(this,Te,"f"))}async unsubscribe(e){if(ie({channel_id:e}),!a(this,Te,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new y({unsubscribeEndpoint:{channelIds:[e],params:"CgIIAhgA"}}).call(a(this,Te,"f"))}async comment(e,i){if(ie({video_id:e,text:i}),!a(this,Te,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");const n=hS.encode({videoId:e,params:{index:0},number:7}),s=encodeURIComponent(jt(n.finish()));return new y({createCommentEndpoint:{commentText:i,createCommentParams:s}}).call(a(this,Te,"f"))}async translate(e,i,n={}){ie({text:e,target_language:i});const s=Sb(22,{text:e,target_language:i,...n}),r=await new y({performCommentActionEndpoint:{action:s}}).call(a(this,Te,"f")),c=r.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:r.success,status_code:r.status_code,translated_content:c.translatedContent.content,data:r.data}}async setNotificationPreferences(e,i){if(ie({channel_id:e,type:i}),!a(this,Te,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");const n={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(n).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);const s=Xk.encode({channelId:e,prefId:{index:n[i.toUpperCase()]},number0:0,number1:4}),o=encodeURIComponent(jt(s.finish()));return new y({modifyChannelNotificationPreferenceEndpoint:{params:o}}).call(a(this,Te,"f"))}}Te=new WeakMap;var F;class Np{constructor(e){F.set(this,void 0),T(this,F,e,"f")}static async create(e={}){return new Np(await Fx.create(e))}async getInfo(e,i){var p,_,b,w,v;ie({target:e});const n={videoId:e instanceof y?(p=e.payload)==null?void 0:p.videoId:e,playlistId:e instanceof y?(_=e.payload)==null?void 0:_.playlistId:void 0,playlistIndex:e instanceof y?(b=e.payload)==null?void 0:b.playlistIndex:void 0,params:e instanceof y?(w=e.payload)==null?void 0:w.params:void 0,racyCheckOk:!0,contentCheckOk:!0},s=new y({watchEndpoint:n}),o=new y({watchNextEndpoint:n}),r=s.call(a(this,F,"f").actions,{playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(v=a(this,F,"f").player)==null?void 0:v.sts}},serviceIntegrityDimensions:{poToken:a(this,F,"f").po_token},client:i}),c=o.call(a(this,F,"f").actions),h=await Promise.all([r,c]),d=Pi(16);return new Qf(h,this.actions,d)}async getBasicInfo(e,i){var r;ie({video_id:e});const s=await new y({watchEndpoint:{videoId:e}}).call(a(this,F,"f").actions,{playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(r=a(this,F,"f").player)==null?void 0:r.sts}},serviceIntegrityDimensions:{poToken:a(this,F,"f").po_token},client:i}),o=Pi(16);return new Qf([s],this.actions,o)}async getShortsVideoInfo(e,i){ie({video_id:e});const s=new y({reelWatchEndpoint:{disablePlayerResponse:!1,params:"CAUwAg%3D%3D",videoId:e}}).call(a(this,F,"f").actions,{client:i}),o=xS.encode({shortId:e,params:{number:5},feature2:25,feature3:0}),r=encodeURIComponent(jt(o.finish())),c=this.actions.execute("/reel/reel_watch_sequence",{sequenceParams:r}),h=await Promise.all([s,c]),d=Pi(16);return new bT([h[0]],this.actions,d,h[1])}async search(e,i={}){ie({query:e});const n={};if(n.filters={},i.sort_by&&(n.sortBy=fc[i.sort_by.toUpperCase()]),i.upload_date&&(n.filters.uploadDate=mc[i.upload_date.toUpperCase()]),i.type&&(n.filters.type=_c[i.type.toUpperCase()]),i.duration&&(n.filters.duration=bc[i.duration.toUpperCase()]),i.features)for(const r of i.features)switch(r){case"360":n.filters.features360=!0;break;case"3d":n.filters.features3d=!0;break;case"4k":n.filters.features4k=!0;break;case"creative_commons":n.filters.featuresCreativeCommons=!0;break;case"hd":n.filters.featuresHd=!0;break;case"hdr":n.filters.featuresHdr=!0;break;case"live":n.filters.featuresLive=!0;break;case"location":n.filters.featuresLocation=!0;break;case"purchased":n.filters.featuresPurchased=!0;break;case"subtitles":n.filters.featuresSubtitles=!0;break;case"vr180":n.filters.featuresVr180=!0;break}const o=await new y({searchEndpoint:{query:e,params:i?encodeURIComponent(jt(kb.encode(n).finish())):void 0}}).call(a(this,F,"f").actions);return new cT(this.actions,o)}async getSearchSuggestions(e){ie({query:e});const i=new URL(`${ye.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",a(this,F,"f").context.client.hl),i.searchParams.set("gl",a(this,F,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");const s=await(await a(this,F,"f").http.fetch(i)).text();return JSON.parse(s.replace(")]}'",""))[1].map(r=>r[0])}async getComments(e,i,n){ie({video_id:e});const s={TOP_COMMENTS:0,NEWEST_FIRST:1},o=sS.encode({ctx:{videoId:e},unkParam:6,params:{opts:{videoId:e,sortBy:s[i||"TOP_COMMENTS"],type:2,commentId:n||""},target:"comments-section"}}),r=encodeURIComponent(jt(o.finish())),h=await new y({continuationCommand:{request:"CONTINUATION_REQUEST_TYPE_WATCH_NEXT",token:r}}).call(a(this,F,"f").actions);return new Nr(this.actions,h.data)}async getHomeFeed(){const i=await new y({browseEndpoint:{browseId:"FEwhat_to_watch"}}).call(a(this,F,"f").actions);return new tT(this.actions,i)}async getGuide(){const e=await this.actions.execute("/guide");return new eT(e.data)}async getLibrary(){const i=await new y({browseEndpoint:{browseId:"FElibrary"}}).call(a(this,F,"f").actions);return new nT(this.actions,i)}async getHistory(){const i=await new y({browseEndpoint:{browseId:"FEhistory"}}).call(a(this,F,"f").actions);return new Na(this.actions,i)}async getTrending(){const i=await new y({browseEndpoint:{browseId:"FEtrending"}}).call(a(this,F,"f").actions);return new ss(this.actions,i)}async getCourses(){const i=await new y({browseEndpoint:{browseId:"FEcourses_destination"}}).call(a(this,F,"f").actions,{parse:!0});return new ge(this.actions,i)}async getSubscriptionsFeed(){const i=await new y({browseEndpoint:{browseId:"FEsubscriptions"}}).call(a(this,F,"f").actions,{parse:!0});return new ge(this.actions,i)}async getChannelsFeed(){const i=await new y({browseEndpoint:{browseId:"FEchannels"}}).call(a(this,F,"f").actions,{parse:!0});return new ge(this.actions,i)}async getChannel(e){ie({id:e});const n=await new y({browseEndpoint:{browseId:e}}).call(a(this,F,"f").actions);return new JS(this.actions,n)}async getNotifications(){const e=await this.actions.execute("/notification/get_notification_menu",{notificationsMenuRequestType:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"});return new mp(this.actions,e)}async getUnseenNotificationsCount(){var i,n,s,o;const e=await this.actions.execute("/notification/get_unseen_count");return((i=e.data)==null?void 0:i.unseenCount)||((o=(s=(n=e.data)==null?void 0:n.actions)==null?void 0:s[0].updateNotificationsUnseenCountAction)==null?void 0:o.unseenCount)||0}async getPlaylists(){const i=await new y({browseEndpoint:{browseId:"FEplaylist_aggregation"}}).call(a(this,F,"f").actions,{parse:!0});return new ge(this.actions,i)}async getPlaylist(e){ie({id:e}),e.startsWith("VL")||(e=`VL${e}`);const n=await new y({browseEndpoint:{browseId:e}}).call(a(this,F,"f").actions);return new fp(this.actions,n)}async getHashtag(e){ie({hashtag:e});const i=gS.encode({params:{hashtag:e,type:1}}),n=encodeURIComponent(jt(i.finish())),o=await new y({browseEndpoint:{browseId:"FEhashtag",params:n}}).call(a(this,F,"f").actions);return new pp(this.actions,o)}async getStreamingData(e,i={}){const s=(await this.getBasicInfo(e)).chooseFormat(i);return s.url=s.decipher(a(this,F,"f").player),s}async download(e,i){return(await this.getBasicInfo(e,i==null?void 0:i.client)).download(i)}async resolveURL(e){const i=await this.actions.execute("/navigation/resolve_url",{url:e,parse:!0});if(!i.endpoint)throw new g("Failed to resolve URL. Expected a NavigationEndpoint but got undefined",i);return i.endpoint}call(e,i){return e.call(this.actions,i)}get music(){return new yI(a(this,F,"f"))}get studio(){return new vE(a(this,F,"f"))}get kids(){return new bI(a(this,F,"f"))}get account(){return new xE(a(this,F,"f").actions)}get playlist(){return new kE(a(this,F,"f").actions)}get interact(){return new SE(a(this,F,"f").actions)}get actions(){return a(this,F,"f").actions}get session(){return a(this,F,"f")}}F=new WeakMap;const C_="JsRuntime";function TE(t,e){to(C_,`Evaluating JavaScript:
`,t);const i=new Ha;for(const[s,o]of Object.entries(e))i.scope.set(s,o);const n=i.evaluate(t);return to(C_,"Done. Result:",n),n}var js,lr,hr,dr;const CE="Cache";class IE{constructor(e=!1,i){js.add(this),lr.set(this,void 0),hr.set(this,void 0),T(this,lr,i||"","f"),T(this,hr,e,"f")}get cache_dir(){return a(this,hr,"f")?a(this,lr,"f"):""}async get(e){const i=await a(this,js,"m",dr).call(this);if(i)return new Promise((n,s)=>{const o=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);o.onerror=s,o.onsuccess=function(){var c;const r=(c=this.result)==null?void 0:c.v;r instanceof ArrayBuffer?n(r):ArrayBuffer.isView(r)?n(r.buffer):n(void 0)}})}async set(e,i){const n=await a(this,js,"m",dr).call(this);if(n)return new Promise((s,o)=>{const r=n.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});r.onerror=o,r.onsuccess=()=>s()})}async remove(e){const i=await a(this,js,"m",dr).call(this);if(i)return new Promise((n,s)=>{const o=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);o.onerror=s,o.onsuccess=()=>n()})}}lr=new WeakMap,hr=new WeakMap,js=new WeakSet,dr=function(){const e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,n)=>{const s=e.open("youtubei.js",1);s.onsuccess=function(){i(this.result)},s.onerror=function(o){n("indexedDB request error"),console.error(o)},s.onupgradeneeded=function(){const o=this.result.createObjectStore("kv-store",{keyPath:"k"});o.transaction.oncomplete=function(){i(this.db)}}}):Oe(CE,"IndexedDB is not supported. No cache will be used.")};j.load({runtime:"browser",server:!1,info:{version:nc.version,bugs_url:nc.bugs.url,repo_url:nc.homepage.split("#")[0]},Cache:IE,sha1Hash:$C,uuidv4(){var t;return(t=globalThis.crypto)!=null&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{const i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:TE,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var EE=ls('<meta name="description"> <meta name="og:title"> <meta property="og:image"> <meta name="twitter:card" content="summary_large_image">',1),RE=G0('<!> <script async data-zone="85589" src="https://alwingulla.com/88/tag.min.js"><\/script>',1),PE=ls('<iframe class="w-full aspect-video" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> <h1 class="my-4 text-md md:text-xl font-bold"> </h1> <div class="relative my-4 after:h-8 after:bg-gradient-to-t after:rounded-md after:from-slate-300 dark:after:from-zinc-800 after:to-transparent after:absolute after:w-full after:bottom-0 after:left-0 after:right-0"><p id="description" class="whitespace-pre-line break-words"> </p></div>',1),AE=ls("<p>An error occurred!</p>"),ME=ls("<p>...waiting</p>"),NE=ls('<main class="max-w-[744px] mx-auto mt-1 p-2"><!></main>');function DE(t,e){ob(e,!1);let i=ek(e,"seo",28,()=>({}));const n=c=>c.replace(/(?:https?|ftp):\/\/[\n\S]+/g,"").slice(0,180).trim();async function s(){const c=await Np.create({retrieve_player:!1,fetch:async(_,b)=>{if(_ instanceof Request){const w="web-release-qa.youtube.com",v=new Request(_.url.replace(/\/\/[^/]+/,`//${w}`),_),S=new Headers(_.headers);return fetch(v,{...b,headers:S,credentials:"omit"})}else return fetch(_,{...b,mode:"no-cors"})}}),d=new URLSearchParams(window.location.search).get("vid"),p=await c.getInfo(d);return i(i().title=p.basic_info.title,!0),i(i().description=n(p.basic_info.short_description),!0),i(i().thumbnail=p.basic_info.thumbnail?p.basic_info.thumbnail[0].url:"",!0),p}Z0();var o=NE();H0(c=>{var h=RE(),d=Ga(h);{var p=_=>{var b=EE(),w=Ga(b),v=Vo(w,2),S=Vo(v,2);Jp(()=>{D_.title=i().title,ys(w,"content",i().description),ys(v,"content",i().title),ys(S,"content",i().thumbnail)}),vn(_,b)};Q0(d,_=>{i().title&&_(p)})}vn(c,h)});var r=Bo(o);z0(r,s,c=>{var h=ME();vn(c,h)},(c,h)=>{var d=PE(),p=Ga(d),_=Vo(p,2),b=Bo(_,!0);var w=Vo(_,2),v=Bo(w),S=Bo(v,!0);Jp(()=>{var R;ys(p,"src",`https://www.youtube-nocookie.com/embed/${We(h).basic_info.id}`),ys(p,"title",We(h).basic_info.title),rf(b,We(h).basic_info.title),rf(S,(R=We(h).secondary_info)==null?void 0:R.description.text)}),vn(c,d)},(c,h)=>{var d=AE();vn(c,d)}),vn(t,o),rb()}Y0(DE,{target:document.getElementById("app")});</script>
    <style rel="stylesheet" crossorigin>*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.relative{position:relative}.mx-auto{margin-left:auto;margin-right:auto}.my-4{margin-top:1rem;margin-bottom:1rem}.mt-1{margin-top:.25rem}.aspect-video{aspect-ratio:16 / 9}.w-full{width:100%}.max-w-\[744px\]{max-width:744px}.whitespace-pre-line{white-space:pre-line}.break-words{overflow-wrap:break-word}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.p-2{padding:.5rem}.font-bold{font-weight:700}.after\:absolute:after{content:var(--tw-content);position:absolute}.after\:bottom-0:after{content:var(--tw-content);bottom:0}.after\:left-0:after{content:var(--tw-content);left:0}.after\:right-0:after{content:var(--tw-content);right:0}.after\:h-8:after{content:var(--tw-content);height:2rem}.after\:w-full:after{content:var(--tw-content);width:100%}.after\:rounded-md:after{content:var(--tw-content);border-radius:.375rem}.after\:bg-gradient-to-t:after{content:var(--tw-content);background-image:linear-gradient(to top,var(--tw-gradient-stops))}.after\:from-slate-300:after{content:var(--tw-content);--tw-gradient-from: #cbd5e1 var(--tw-gradient-from-position);--tw-gradient-to: rgb(203 213 225 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.after\:to-transparent:after{content:var(--tw-content);--tw-gradient-to: transparent var(--tw-gradient-to-position)}@media (min-width: 768px){.md\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (prefers-color-scheme: dark){.dark\:bg-zinc-900{--tw-bg-opacity: 1;background-color:rgb(24 24 27 / var(--tw-bg-opacity, 1))}.dark\:text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.dark\:after\:from-zinc-800:after{content:var(--tw-content);--tw-gradient-from: #27272a var(--tw-gradient-from-position);--tw-gradient-to: rgb(39 39 42 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}}</style>
  </head>
  <body class="bg-white dark:bg-zinc-900 dark:text-white">
    <div id="app"></div>
  </body>
</html>

    ]]></Content>
</Module>
